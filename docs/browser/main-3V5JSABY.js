var oq=Object.defineProperty,aq=Object.defineProperties;var lq=Object.getOwnPropertyDescriptors;var Hm=Object.getOwnPropertySymbols,cq=Object.getPrototypeOf,WP=Object.prototype.hasOwnProperty,GP=Object.prototype.propertyIsEnumerable,uq=Reflect.get;var zP=(n,e,t)=>e in n?oq(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})WP.call(e,t)&&zP(n,t,e[t]);if(Hm)for(var t of Hm(e))GP.call(e,t)&&zP(n,t,e[t]);return n},fe=(n,e)=>aq(n,lq(e));var qP=(n,e)=>{var t={};for(var i in n)WP.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Hm)for(var i of Hm(n))e.indexOf(i)<0&&GP.call(n,i)&&(t[i]=n[i]);return t};var To=(n,e,t)=>uq(cq(n),t,e);var E=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{a(t.next(l))}catch(c){r(c)}},o=l=>{try{a(t.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function fw(n,e){return Object.is(n,e)}var sn=null,Um=!1,pw=1,Ui=Symbol("SIGNAL");function Ge(n){let e=sn;return sn=n,e}function mw(){return sn}var oh={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ah(n){if(Um)throw new Error("");if(sn===null)return;sn.consumerOnSignalRead(n);let e=sn.nextProducerIndex++;if(qm(sn),e<sn.producerNode.length&&sn.producerNode[e]!==n&&sh(sn)){let t=sn.producerNode[e];Gm(t,sn.producerIndexOfThis[e])}sn.producerNode[e]!==n&&(sn.producerNode[e]=n,sn.producerIndexOfThis[e]=sh(sn)?XP(n,sn,e):0),sn.producerLastReadVersion[e]=n.version}function YP(){pw++}function gw(n){if(!(sh(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===pw)){if(!n.producerMustRecompute(n)&&!xw(n)){hw(n);return}n.producerRecomputeValue(n),hw(n)}}function yw(n){if(n.liveConsumerNode===void 0)return;let e=Um;Um=!0;try{for(let t of n.liveConsumerNode)t.dirty||dq(t)}finally{Um=e}}function _w(){return sn?.consumerAllowSignalWrites!==!1}function dq(n){n.dirty=!0,yw(n),n.consumerMarkedDirty?.(n)}function hw(n){n.dirty=!1,n.lastCleanEpoch=pw}function Wm(n){return n&&(n.nextProducerIndex=0),Ge(n)}function vw(n,e){if(Ge(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(sh(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Gm(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function xw(n){qm(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(gw(t),i!==t.version))return!0}return!1}function bw(n){if(qm(n),sh(n))for(let e=0;e<n.producerNode.length;e++)Gm(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function XP(n,e,t){if(KP(n),n.liveConsumerNode.length===0&&QP(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=XP(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Gm(n,e){if(KP(n),n.liveConsumerNode.length===1&&QP(n))for(let i=0;i<n.producerNode.length;i++)Gm(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];qm(r),r.producerIndexOfThis[i]=e}}function sh(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function qm(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function KP(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function QP(n){return n.producerNode!==void 0}function ww(n,e){let t=Object.create(hq);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(gw(t),ah(t),t.value===zm)throw t.error;return t.value};return i[Ui]=t,i}var uw=Symbol("UNSET"),dw=Symbol("COMPUTING"),zm=Symbol("ERRORED"),hq=fe(U({},oh),{value:uw,dirty:!0,error:null,equal:fw,kind:"computed",producerMustRecompute(n){return n.value===uw||n.value===dw},producerRecomputeValue(n){if(n.value===dw)throw new Error("Detected cycle in computations.");let e=n.value;n.value=dw;let t=Wm(n),i,r=!1;try{i=n.computation(),Ge(null),r=e!==uw&&e!==zm&&i!==zm&&n.equal(e,i)}catch(s){i=zm,n.error=s}finally{vw(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function fq(){throw new Error}var ZP=fq;function JP(n){ZP(n)}function Tw(n){ZP=n}var pq=null;function Cw(n,e){let t=Object.create(Ym);t.value=n,e!==void 0&&(t.equal=e);let i=()=>(ah(t),t.value);return i[Ui]=t,i}function lh(n,e){_w()||JP(n),n.equal(n.value,e)||(n.value=e,mq(n))}function Sw(n,e){_w()||JP(n),lh(n,e(n.value))}var Ym=fe(U({},oh),{equal:fw,value:void 0,kind:"signal"});function mq(n){n.version++,YP(),yw(n),pq?.()}function Ew(n){let e=Ge(null);try{return n()}finally{Ge(e)}}var Iw;function ch(){return Iw}function Os(n){let e=Iw;return Iw=n,e}var Xm=Symbol("NotFound");function me(n){return typeof n=="function"}function xc(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Km=xc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function qa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var $t=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(me(i))try{i()}catch(s){e=s instanceof Km?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{eR(s)}catch(o){e=e??[],o instanceof Km?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Km(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eR(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&qa(t,e)}remove(e){let{_finalizers:t}=this;t&&qa(t,e),e instanceof n&&e._removeParent(this)}};$t.EMPTY=(()=>{let n=new $t;return n.closed=!0,n})();var Dw=$t.EMPTY;function Qm(n){return n instanceof $t||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function eR(n){me(n)?n():n.unsubscribe()}var ur={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bc={setTimeout(n,e,...t){let{delegate:i}=bc;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=bc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Zm(n){bc.setTimeout(()=>{let{onUnhandledError:e}=ur;if(e)e(n);else throw n})}function uh(){}var tR=Aw("C",void 0,void 0);function nR(n){return Aw("E",void 0,n)}function iR(n){return Aw("N",n,void 0)}function Aw(n,e,t){return{kind:n,value:e,error:t}}var Ya=null;function wc(n){if(ur.useDeprecatedSynchronousErrorHandling){let e=!Ya;if(e&&(Ya={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Ya;if(Ya=null,t)throw i}}else n()}function rR(n){ur.useDeprecatedSynchronousErrorHandling&&Ya&&(Ya.errorThrown=!0,Ya.error=n)}var Xa=class extends $t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qm(e)&&e.add(this)):this.destination=bq}static create(e,t,i){return new Tc(e,t,i)}next(e){this.isStopped?Mw(iR(e),this):this._next(e)}error(e){this.isStopped?Mw(nR(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mw(tR,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vq=Function.prototype.bind;function kw(n,e){return vq.call(n,e)}var Pw=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Jm(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Jm(i)}else Jm(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Jm(t)}}},Tc=class extends Xa{constructor(e,t,i){super();let r;if(me(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ur.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&kw(e.next,s),error:e.error&&kw(e.error,s),complete:e.complete&&kw(e.complete,s)}):r=e}this.destination=new Pw(r)}};function Jm(n){ur.useDeprecatedSynchronousErrorHandling?rR(n):Zm(n)}function xq(n){throw n}function Mw(n,e){let{onStoppedNotification:t}=ur;t&&bc.setTimeout(()=>t(n,e))}var bq={closed:!0,next:uh,error:xq,complete:uh};var Cc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xn(n){return n}function eg(...n){return Rw(n)}function Rw(n){return n.length===0?Xn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=Tq(t)?t:new Tc(t,i,r);return wc(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=sR(i),new i((r,s)=>{let o=new Tc({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Cc](){return this}pipe(...t){return Rw(t)(this)}toPromise(t){return t=sR(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function sR(n){var e;return(e=n??ur.Promise)!==null&&e!==void 0?e:Promise}function wq(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}function Tq(n){return n&&n instanceof Xa||wq(n)&&Qm(n)}function Ow(n){return me(n?.lift)}function Ve(n){return e=>{if(Ow(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(n,e,t,i,r){return new Lw(n,e,t,i,r)}var Lw=class extends Xa{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Sc(){return Ve((n,e)=>{let t=null;n._refCount++;let i=Oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ec=class extends Re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ow(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $t;let t=this.getSubject();e.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$t.EMPTY)}return e}refCount(){return Sc()(this)}};var oR=xc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Xt=(()=>{class n extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new tg(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new oR}next(t){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Dw:(this.currentObservers=null,s.push(t),new $t(()=>{this.currentObservers=null,qa(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Re;return t.source=this,t}}return n.create=(e,t)=>new tg(e,t),n})(),tg=class extends Xt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:Dw}};var Kt=class extends Xt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Nw={now(){return(Nw.delegate||Date).now()},delegate:void 0};var ng=class extends $t{constructor(e,t){super()}schedule(e,t=0){return this}};var dh={setInterval(n,e,...t){let{delegate:i}=dh;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=dh;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ic=class extends ng{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return dh.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&dh.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qa(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Dc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Dc.now=Nw.now;var Ac=class extends Dc{constructor(e,t=Dc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var hh=new Ac(Ic);var ig=class extends Ic{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var rg=class extends Ac{};var Fw=new rg(ig);var ii=new Re(n=>n.complete());function aR(n){return n&&me(n.schedule)}function lR(n){return n[n.length-1]}function sg(n){return me(lR(n))?n.pop():void 0}function Co(n){return aR(lR(n))?n.pop():void 0}function Vw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function uR(n,e,t,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function dR(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function cR(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ka(n){return this instanceof Ka?(this.v=n,this):new Ka(n)}function hR(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(g){return Promise.resolve(g).then(p,h)}}function a(p,g){i[p]&&(r[p]=function(y){return new Promise(function(v,I){s.push([p,y,v,I])>1||l(p,y)})},g&&(r[p]=g(r[p])))}function l(p,g){try{c(i[p](g))}catch(y){f(s[0][3],y)}}function c(p){p.value instanceof Ka?Promise.resolve(p.value.v).then(u,h):f(s[0][2],p)}function u(p){l("next",p)}function h(p){l("throw",p)}function f(p,g){p(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function fR(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof cR=="function"?cR(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var kc=n=>n&&typeof n.length=="number"&&typeof n!="function";function og(n){return me(n?.then)}function ag(n){return me(n[Cc])}function lg(n){return Symbol.asyncIterator&&me(n?.[Symbol.asyncIterator])}function cg(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Cq(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ug=Cq();function dg(n){return me(n?.[ug])}function hg(n){return hR(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Ka(t.read());if(r)return yield Ka(void 0);yield yield Ka(i)}}finally{t.releaseLock()}})}function fg(n){return me(n?.getReader)}function Ht(n){if(n instanceof Re)return n;if(n!=null){if(ag(n))return Sq(n);if(kc(n))return Eq(n);if(og(n))return Iq(n);if(lg(n))return pR(n);if(dg(n))return Dq(n);if(fg(n))return Aq(n)}throw cg(n)}function Sq(n){return new Re(e=>{let t=n[Cc]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Eq(n){return new Re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Iq(n){return new Re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Zm)})}function Dq(n){return new Re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function pR(n){return new Re(e=>{kq(n,e).catch(t=>e.error(t))})}function Aq(n){return pR(hg(n))}function kq(n,e){var t,i,r,s;return dR(this,void 0,void 0,function*(){try{for(t=fR(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function ri(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function So(n,e=0){return Ve((t,i)=>{t.subscribe(Oe(i,r=>ri(i,n,()=>i.next(r),e),()=>ri(i,n,()=>i.complete(),e),r=>ri(i,n,()=>i.error(r),e)))})}function Eo(n,e=0){return Ve((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function mR(n,e){return Ht(n).pipe(Eo(e),So(e))}function gR(n,e){return Ht(n).pipe(Eo(e),So(e))}function yR(n,e){return new Re(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function _R(n,e){return new Re(t=>{let i;return ri(t,e,()=>{i=n[ug](),ri(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>me(i?.return)&&i.return()})}function pg(n,e){if(!n)throw new Error("Iterable cannot be null");return new Re(t=>{ri(t,e,()=>{let i=n[Symbol.asyncIterator]();ri(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function vR(n,e){return pg(hg(n),e)}function xR(n,e){if(n!=null){if(ag(n))return mR(n,e);if(kc(n))return yR(n,e);if(og(n))return gR(n,e);if(lg(n))return pg(n,e);if(dg(n))return _R(n,e);if(fg(n))return vR(n,e)}throw cg(n)}function wt(n,e){return e?xR(n,e):Ht(n)}function ye(...n){let e=Co(n);return wt(n,e)}function Mc(n,e){let t=me(n)?n:()=>n,i=r=>r.error(t());return new Re(e?r=>e.schedule(i,0,r):i)}function Bw(n){return!!n&&(n instanceof Re||me(n.lift)&&me(n.subscribe))}var Ls=xc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ie(n,e){return Ve((t,i)=>{let r=0;t.subscribe(Oe(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:Mq}=Array;function Pq(n,e){return Mq(e)?n(...e):n(e)}function Pc(n){return Ie(e=>Pq(n,e))}var{isArray:Rq}=Array,{getPrototypeOf:Oq,prototype:Lq,keys:Nq}=Object;function mg(n){if(n.length===1){let e=n[0];if(Rq(e))return{args:e,keys:null};if(Fq(e)){let t=Nq(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Fq(n){return n&&typeof n=="object"&&Oq(n)===Lq}function gg(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function fh(...n){let e=Co(n),t=sg(n),{args:i,keys:r}=mg(n);if(i.length===0)return wt([],e);let s=new Re(Vq(i,e,r?o=>gg(r,o):Xn));return t?s.pipe(Pc(t)):s}function Vq(n,e,t=Xn){return i=>{bR(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)bR(e,()=>{let c=wt(n[l],e),u=!1;c.subscribe(Oe(i,h=>{s[l]=h,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function bR(n,e,t){n?ri(t,n,e):e()}function wR(n,e,t,i,r,s,o,a){let l=[],c=0,u=0,h=!1,f=()=>{h&&!l.length&&!c&&e.complete()},p=y=>c<i?g(y):l.push(y),g=y=>{s&&e.next(y),c++;let v=!1;Ht(t(y,u++)).subscribe(Oe(e,I=>{r?.(I),s?p(I):e.next(I)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){let I=l.shift();o?ri(e,o,()=>g(I)):g(I)}f()}catch(I){e.error(I)}}))};return n.subscribe(Oe(e,p,()=>{h=!0,f()})),()=>{a?.()}}function Ot(n,e,t=1/0){return me(e)?Ot((i,r)=>Ie((s,o)=>e(i,s,r,o))(Ht(n(i,r))),t):(typeof e=="number"&&(t=e),Ve((i,r)=>wR(i,r,n,t)))}function Io(n=1/0){return Ot(Xn,n)}function TR(){return Io(1)}function Rc(...n){return TR()(wt(n,Co(n)))}function yg(n){return new Re(e=>{Ht(n()).subscribe(e)})}function jw(...n){let e=sg(n),{args:t,keys:i}=mg(n),r=new Re(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let h=!1;Ht(t[u]).subscribe(Oe(s,f=>{h||(h=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||s.next(i?gg(i,a):a),s.complete())}))}});return e?r.pipe(Pc(e)):r}var Bq=["addListener","removeListener"],jq=["addEventListener","removeEventListener"],$q=["on","off"];function ph(n,e,t,i){if(me(t)&&(i=t,t=void 0),i)return ph(n,e,t).pipe(Pc(i));let[r,s]=zq(n)?jq.map(o=>a=>n[o](e,a,t)):Hq(n)?Bq.map(CR(n,e)):Uq(n)?$q.map(CR(n,e)):[];if(!r&&kc(n))return Ot(o=>ph(o,e,t))(Ht(n));if(!r)throw new TypeError("Invalid event target");return new Re(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function CR(n,e){return t=>i=>n[t](e,i)}function Hq(n){return me(n.addListener)&&me(n.removeListener)}function Uq(n){return me(n.on)&&me(n.off)}function zq(n){return me(n.addEventListener)&&me(n.removeEventListener)}function _n(n,e){return Ve((t,i)=>{let r=0;t.subscribe(Oe(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Ns(n){return Ve((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Oe(t,void 0,void 0,o=>{s=Ht(n(o,Ns(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function SR(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Oe(o,u=>{let h=c++;l=a?n(l,u,h):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Do(n,e){return me(e)?Ot(n,e,1):Ot(n,1)}function $w(n,e=hh){return Ve((t,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=s;s=null,i.next(c)}};function l(){let c=o+n,u=e.now();if(u<c){r=this.schedule(void 0,c-u),i.add(r);return}a()}t.subscribe(Oe(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Ao(n){return Ve((e,t)=>{let i=!1;e.subscribe(Oe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Fs(n){return n<=0?()=>ii:Ve((e,t)=>{let i=0;e.subscribe(Oe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function _g(n,e=Xn){return n=n??Wq,Ve((t,i)=>{let r,s=!0;t.subscribe(Oe(i,o=>{let a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function Wq(n,e){return n===e}function vg(n=Gq){return Ve((e,t)=>{let i=!1;e.subscribe(Oe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Gq(){return new Ls}function mh(n){return Ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Vs(n,e){let t=arguments.length>=2;return i=>i.pipe(n?_n((r,s)=>n(r,s,i)):Xn,Fs(1),t?Ao(e):vg(()=>new Ls))}function Oc(n){return n<=0?()=>ii:Ve((e,t)=>{let i=[];e.subscribe(Oe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Hw(n,e){let t=arguments.length>=2;return i=>i.pipe(n?_n((r,s)=>n(r,s,i)):Xn,Oc(1),t?Ao(e):vg(()=>new Ls))}function xg(n,e){return Ve(SR(n,e,arguments.length>=2,!0))}function bg(...n){let e=Co(n);return Ve((t,i)=>{(e?Rc(n,t,e):Rc(n,t)).subscribe(i)})}function zi(n,e){return Ve((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Oe(i,l=>{r?.unsubscribe();let c=0,u=s++;Ht(n(l,u)).subscribe(r=Oe(i,h=>i.next(e?e(l,h,u,c++):h),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Uw(n){return Ve((e,t)=>{Ht(n).subscribe(Oe(t,()=>t.complete(),uh)),!t.closed&&e.subscribe(t)})}function vn(n,e,t){let i=me(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ve((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Oe(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):Xn}var gO="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super(yO(e,t)),this.code=e}};function qq(n){return`NG0${Math.abs(n)}`}function yO(n,e){return`${qq(n)}${e?": "+e:""}`}var _O=Symbol("InputSignalNode#UNSET"),Yq=fe(U({},Ym),{transformFn:void 0,applyValueToInputSignal(n,e){lh(n,e)}});function vO(n,e){let t=Object.create(Yq);t.value=n,t.transformFn=e?.transform;function i(){if(ah(t),t.value===_O){let r=null;throw new q(-950,r)}return t.value}return i[Ui]=t,i}function Dh(n){return{toString:n}.toString()}var wg="__parameters__";function Xq(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function xO(n,e,t){return Dh(()=>{let i=Xq(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let h=l.hasOwnProperty(wg)?l[wg]:Object.defineProperty(l,wg,{value:[]})[wg];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(o),l}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var xn=globalThis;function yt(n){for(let e in n)if(n[e]===yt)return e;throw Error("Could not find renamed property on target object.")}function Kq(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ai(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ai).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function rT(n,e){return n?e?`${n} ${e}`:n:e||""}var Qq=yt({__forward_ref__:yt});function qi(n){return n.__forward_ref__=qi,n.toString=function(){return ai(this())},n}function Kn(n){return bO(n)?n():n}function bO(n){return typeof n=="function"&&n.hasOwnProperty(Qq)&&n.__forward_ref__===qi}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $e(n){return{providers:n.providers||[],imports:n.imports||[]}}function ay(n){return ER(n,TO)||ER(n,CO)}function wO(n){return ay(n)!==null}function ER(n,e){return n.hasOwnProperty(e)?n[e]:null}function Zq(n){let e=n&&(n[TO]||n[CO]);return e||null}function IR(n){return n&&(n.hasOwnProperty(DR)||n.hasOwnProperty(Jq))?n[DR]:null}var TO=yt({\u0275prov:yt}),DR=yt({\u0275inj:yt}),CO=yt({ngInjectableDef:yt}),Jq=yt({ngInjectorDef:yt}),re=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SO(n){return n&&!!n.\u0275providers}var e8=yt({\u0275cmp:yt}),t8=yt({\u0275dir:yt}),n8=yt({\u0275pipe:yt}),i8=yt({\u0275mod:yt}),Rg=yt({\u0275fac:yt}),vh=yt({__NG_ELEMENT_ID__:yt}),AR=yt({__NG_ENV_ID__:yt});function ko(n){return typeof n=="string"?n:n==null?"":String(n)}function r8(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ko(n)}function EO(n,e){throw new q(-200,n)}function nC(n,e){throw new q(-201,!1)}var Me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Me||{}),sT;function IO(){return sT}function si(n){let e=sT;return sT=n,e}function DO(n,e,t){let i=ay(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Me.Optional)return null;if(e!==void 0)return e;nC(n,"Injector")}var s8={},Za=s8,oT="__NG_DI_FLAG__",Og=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=t;return this.injector.get(e,i.optional?Xm:Za,i)}},Lg="ngTempTokenPath",o8="ngTokenPath",a8=/\n/gm,l8="\u0275",kR="__source";function c8(n,e=Me.Default){if(ch()===void 0)throw new q(-203,!1);if(ch()===null)return DO(n,void 0,e);{let t=ch(),i;return t instanceof Og?i=t.injector:i=t,i.get(n,e&Me.Optional?null:void 0,e)}}function se(n,e=Me.Default){return(IO()||c8)(Kn(n),e)}function G(n,e=Me.Default){return se(n,ly(e))}function ly(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function aT(n){let e=[];for(let t=0;t<n.length;t++){let i=Kn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new q(900,!1);let r,s=Me.Default;for(let o=0;o<i.length;o++){let a=i[o],l=u8(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(se(r,s))}else e.push(se(i))}return e}function AO(n,e){return n[oT]=e,n.prototype[oT]=e,n}function u8(n){return n[oT]}function d8(n,e,t,i){let r=n[Lg];throw e[kR]&&r.unshift(e[kR]),n.message=h8(`
`+n.message,r,t,i),n[o8]=r,n[Lg]=null,n}function h8(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==l8?n.slice(2):n;let r=ai(e);if(Array.isArray(e))r=e.map(ai).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ai(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(a8,`
  `)}`}var Ai=AO(xO("Optional"),8);var f8=AO(xO("SkipSelf"),4);function el(n,e){let t=n.hasOwnProperty(Rg);return t?n[Rg]:null}function p8(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function m8(n){return n.flat(Number.POSITIVE_INFINITY)}function iC(n,e){n.forEach(t=>Array.isArray(t)?iC(t,e):e(t))}function kO(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ng(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function g8(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function y8(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function cy(n,e,t){let i=Ah(n,e);return i>=0?n[i|1]=t:(i=~i,y8(n,i,e,t)),i}function zw(n,e){let t=Ah(n,e);if(t>=0)return n[t|1]}function Ah(n,e){return _8(n,e,1)}function _8(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var tl={},oi=[],bh=new re(""),MO=new re("",-1),PO=new re(""),Fg=class{get(e,t=Za){if(t===Za){let i=new Error(`NullInjectorError: No provider for ${ai(e)}!`);throw i.name="NullInjectorError",i}return t}};function RO(n,e){let t=n[i8]||null;if(!t&&e===!0)throw new Error(`Type ${ai(n)} does not have '\u0275mod' property.`);return t}function Ro(n){return n[e8]||null}function v8(n){return n[t8]||null}function x8(n){return n[n8]||null}function Fo(n){return{\u0275providers:n}}function b8(...n){return{\u0275providers:OO(!0,n),\u0275fromNgModule:!0}}function OO(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return iC(e,o=>{let a=o;lT(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&LO(r,s),t}function LO(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];rC(r,s=>{e(s,i)})}}function lT(n,e,t,i){if(n=Kn(n),!n)return!1;let r=null,s=IR(n),o=!s&&Ro(n);if(!s&&!o){let l=n.ngModule;if(s=IR(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)lT(c,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{iC(s.imports,u=>{lT(u,e,t,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&LO(c,e)}if(!a){let c=el(r)||(()=>new r);e({provide:r,useFactory:c,deps:oi},r),e({provide:PO,useValue:r,multi:!0},r),e({provide:bh,useValue:()=>se(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=n;rC(l,u=>{e(u,c)})}}else return!1;return r!==n&&n.providers!==void 0}function rC(n,e){for(let t of n)SO(t)&&(t=t.\u0275providers),Array.isArray(t)?rC(t,e):e(t)}var w8=yt({provide:String,useValue:yt});function NO(n){return n!==null&&typeof n=="object"&&w8 in n}function T8(n){return!!(n&&n.useExisting)}function C8(n){return!!(n&&n.useFactory)}function $c(n){return typeof n=="function"}function S8(n){return!!n.useClass}var uy=new re(""),Dg={},MR={},Ww;function dy(){return Ww===void 0&&(Ww=new Fg),Ww}var hn=class{},wh=class extends hn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,uT(e,o=>this.processProvider(o)),this.records.set(MO,Lc(void 0,this)),r.has("environment")&&this.records.set(hn,Lc(void 0,this));let s=this.records.get(uy);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(PO,oi,Me.Self))}retrieve(e,t){let i=t;return this.get(e,i.optional?Xm:Za,i)}destroy(){yh(this),this._destroyed=!0;let e=Ge(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(e)}}onDestroy(e){return yh(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){yh(this);let t=Os(this),i=si(void 0),r;try{return e()}finally{Os(t),si(i)}}get(e,t=Za,i=Me.Default){if(yh(this),e.hasOwnProperty(AR))return e[AR](this);i=ly(i);let r,s=Os(this),o=si(void 0);try{if(!(i&Me.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=k8(e)&&ay(e);c&&this.injectableDefInScope(c)?l=Lc(cT(e),Dg):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let a=i&Me.Self?dy():this.parent;return t=i&Me.Optional&&t===Za?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Lg]=a[Lg]||[]).unshift(ai(e)),s)throw a;return d8(a,e,"R3InjectorError",this.source)}else throw a}finally{si(o),Os(s)}}resolveInjectorInitializers(){let e=Ge(null),t=Os(this),i=si(void 0),r;try{let s=this.get(bh,oi,Me.Self);for(let o of s)o()}finally{Os(t),si(i),Ge(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(ai(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Kn(e);let t=$c(e)?e:Kn(e&&e.provide),i=I8(e);if(!$c(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Lc(void 0,Dg,!0),r.factory=()=>aT(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t,i){let r=Ge(null);try{return t.value===MR?EO(ai(e)):t.value===Dg&&(t.value=MR,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&A8(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Kn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function cT(n){let e=ay(n),t=e!==null?e.factory:el(n);if(t!==null)return t;if(n instanceof re)throw new q(204,!1);if(n instanceof Function)return E8(n);throw new q(204,!1)}function E8(n){if(n.length>0)throw new q(204,!1);let t=Zq(n);return t!==null?()=>t.factory(n):()=>new n}function I8(n){if(NO(n))return Lc(void 0,n.useValue);{let e=FO(n);return Lc(e,Dg)}}function FO(n,e,t){let i;if($c(n)){let r=Kn(n);return el(r)||cT(r)}else if(NO(n))i=()=>Kn(n.useValue);else if(C8(n))i=()=>n.useFactory(...aT(n.deps||[]));else if(T8(n))i=(r,s)=>se(Kn(n.useExisting),s!==void 0&&s&Me.Optional?Me.Optional:void 0);else{let r=Kn(n&&(n.useClass||n.provide));if(D8(n))i=()=>new r(...aT(n.deps));else return el(r)||cT(r)}return i}function yh(n){if(n.destroyed)throw new q(205,!1)}function Lc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function D8(n){return!!n.deps}function A8(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function k8(n){return typeof n=="function"||typeof n=="object"&&n instanceof re}function uT(n,e){for(let t of n)Array.isArray(t)?uT(t,e):t&&SO(t)?uT(t.\u0275providers,e):e(t)}function Nn(n,e){let t;n instanceof wh?(yh(n),t=n):t=new Og(n);let i,r=Os(t),s=si(void 0);try{return e()}finally{Os(r),si(s)}}function VO(){return IO()!==void 0||ch()!=null}function sC(n){if(!VO())throw new q(-203,!1)}function M8(n){let e=xn.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function P8(n){return typeof n=="function"}var Hs=0,Ne=1,we=2,On=3,fr=4,ci=5,Th=6,Vg=7,li=8,nl=9,Bs=10,Lt=11,Ch=12,PR=13,Gc=14,Gi=15,il=16,Nc=17,js=18,hy=19,BO=20,Mo=21,Gw=22,Bg=23,Wi=24,Bc=25,Ln=26,jO=1;var rl=7,jg=8,Hc=9,Di=10;function Po(n){return Array.isArray(n)&&typeof n[jO]=="object"}function Us(n){return Array.isArray(n)&&n[jO]===!0}function oC(n){return(n.flags&4)!==0}function qc(n){return n.componentOffset>-1}function fy(n){return(n.flags&1)===1}function Ur(n){return!!n.template}function $g(n){return(n[we]&512)!==0}function Yc(n){return(n[we]&256)===256}var dT=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function $O(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var st=(()=>{let n=()=>HO;return n.ngInherit=!0,n})();function HO(n){return n.type.prototype.ngOnChanges&&(n.setInput=O8),R8}function R8(){let n=zO(this),e=n?.current;if(e){let t=n.previous;if(t===tl)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function O8(n,e,t,i,r){let s=this.declaredInputs[i],o=zO(n)||L8(n,{previous:tl,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new dT(c&&c.currentValue,t,l===tl),$O(n,e,r,t)}var UO="__ngSimpleChanges__";function zO(n){return n[UO]||null}function L8(n,e){return n[UO]=e}var RR=null;var Tt=function(n,e=null,t){RR?.(n,e,t)},WO="svg",N8="math";function zr(n){for(;Array.isArray(n);)n=n[Hs];return n}function GO(n,e){return zr(e[n])}function Kr(n,e){return zr(e[n.index])}function qO(n,e){return n.data[e]}function aC(n,e){return n[e]}function Wr(n,e){let t=e[n];return Po(t)?t:t[Hs]}function F8(n){return(n[we]&4)===4}function lC(n){return(n[we]&128)===128}function V8(n){return Us(n[On])}function Uc(n,e){return e==null?null:n[e]}function YO(n){n[Nc]=0}function XO(n){n[we]&1024||(n[we]|=1024,lC(n)&&kh(n))}function B8(n,e){for(;n>0;)e=e[Gc],n--;return e}function py(n){return!!(n[we]&9216||n[Wi]?.dirty)}function hT(n){n[Bs].changeDetectionScheduler?.notify(8),n[we]&64&&(n[we]|=1024),py(n)&&kh(n)}function kh(n){n[Bs].changeDetectionScheduler?.notify(0);let e=sl(n);for(;e!==null&&!(e[we]&8192||(e[we]|=8192,!lC(e)));)e=sl(e)}function KO(n,e){if(Yc(n))throw new q(911,!1);n[Mo]===null&&(n[Mo]=[]),n[Mo].push(e)}function j8(n,e){if(n[Mo]===null)return;let t=n[Mo].indexOf(e);t!==-1&&n[Mo].splice(t,1)}function sl(n){let e=n[On];return Us(e)?e[On]:e}function cC(n){return n[Vg]??=[]}function uC(n){return n.cleanup??=[]}function $8(n,e,t,i){let r=cC(e);r.push(t),n.firstCreatePass&&uC(n).push(i,r.length-1)}var Pe={lFrame:iL(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var fT=!1;function H8(){return Pe.lFrame.elementDepthCount}function U8(){Pe.lFrame.elementDepthCount++}function z8(){Pe.lFrame.elementDepthCount--}function dC(){return Pe.bindingsEnabled}function QO(){return Pe.skipHydrationRootTNode!==null}function W8(n){return Pe.skipHydrationRootTNode===n}function G8(){Pe.skipHydrationRootTNode=null}function Ae(){return Pe.lFrame.lView}function Ut(){return Pe.lFrame.tView}function ne(n){return Pe.lFrame.contextLView=n,n[li]}function ie(n){return Pe.lFrame.contextLView=null,n}function Fn(){let n=ZO();for(;n!==null&&n.type===64;)n=n.parent;return n}function ZO(){return Pe.lFrame.currentTNode}function q8(){let n=Pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function hl(n,e){let t=Pe.lFrame;t.currentTNode=n,t.isParent=e}function hC(){return Pe.lFrame.isParent}function fC(){Pe.lFrame.isParent=!1}function Y8(){return Pe.lFrame.contextLView}function JO(){return fT}function OR(n){let e=fT;return fT=n,e}function Mh(){let n=Pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function X8(){return Pe.lFrame.bindingIndex}function K8(n){return Pe.lFrame.bindingIndex=n}function my(){return Pe.lFrame.bindingIndex++}function pC(n){let e=Pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Q8(){return Pe.lFrame.inI18n}function Z8(n,e){let t=Pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,pT(e)}function J8(){return Pe.lFrame.currentDirectiveIndex}function pT(n){Pe.lFrame.currentDirectiveIndex=n}function e9(n){let e=Pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function eL(){return Pe.lFrame.currentQueryIndex}function mC(n){Pe.lFrame.currentQueryIndex=n}function t9(n){let e=n[Ne];return e.type===2?e.declTNode:e.type===1?n[ci]:null}function tL(n,e,t){if(t&Me.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Me.Host);)if(r=t9(s),r===null||(s=s[Gc],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=Pe.lFrame=nL();return i.currentTNode=e,i.lView=n,!0}function gC(n){let e=nL(),t=n[Ne];Pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nL(){let n=Pe.lFrame,e=n===null?null:n.child;return e===null?iL(n):e}function iL(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function rL(){let n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sL=rL;function yC(){let n=rL();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function n9(n){return(Pe.lFrame.contextLView=B8(n,Pe.lFrame.contextLView))[li]}function Vo(){return Pe.lFrame.selectedIndex}function ol(n){Pe.lFrame.selectedIndex=n}function gy(){let n=Pe.lFrame;return qO(n.tView,n.selectedIndex)}function he(){Pe.lFrame.currentNamespace=WO}function i9(){return Pe.lFrame.currentNamespace}var oL=!0;function yy(){return oL}function _y(n){oL=n}function r9(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=HO(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function _C(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ag(n,e,t){aL(n,e,3,t)}function kg(n,e,t,i){(n[we]&3)===t&&aL(n,e,t,i)}function qw(n,e){let t=n[we];(t&3)===e&&(t&=16383,t+=1,n[we]=t)}function aL(n,e,t,i){let r=i!==void 0?n[Nc]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[Nc]+=65536),(a<s||s==-1)&&(s9(n,t,e,l),n[Nc]=(n[Nc]&4294901760)+l+2),l++}function LR(n,e){Tt(4,n,e);let t=Ge(null);try{e.call(n)}finally{Ge(t),Tt(5,n,e)}}function s9(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[we]>>14<n[Nc]>>16&&(n[we]&3)===e&&(n[we]+=16384,LR(a,s)):LR(a,s)}var jc=-1,al=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function o9(n){return(n.flags&8)!==0}function a9(n){return(n.flags&16)!==0}function l9(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];c9(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function lL(n){return n===3||n===4||n===6}function c9(n){return n.charCodeAt(0)===64}function zc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?NR(n,t,r,null,e[++i]):NR(n,t,r,null,null))}}return n}function NR(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){r!==null&&(n[s+1]=r);return}s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r)}function cL(n){return n!==jc}function Hg(n){return n&32767}function u9(n){return n>>16}function Ug(n,e){let t=u9(n),i=e;for(;t>0;)i=i[Gc],t--;return i}var mT=!0;function zg(n){let e=mT;return mT=n,e}var d9=256,uL=d9-1,dL=5,h9=0,Hr={};function f9(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(vh)&&(i=t[vh]),i==null&&(i=t[vh]=h9++);let r=i&uL,s=1<<r;e.data[n+(r>>dL)]|=s}function Wg(n,e){let t=hL(n,e);if(t!==-1)return t;let i=e[Ne];i.firstCreatePass&&(n.injectorIndex=e.length,Yw(i.data,n),Yw(e,null),Yw(i.blueprint,null));let r=vC(n,e),s=n.injectorIndex;if(cL(r)){let o=Hg(r),a=Ug(r,e),l=a[Ne].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Yw(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hL(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function vC(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=yL(r),i===null)return jc;if(t++,r=r[Gc],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return jc}function gT(n,e,t){f9(n,e,t)}function p9(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(lL(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function fL(n,e,t){if(t&Me.Optional||n!==void 0)return n;nC(e,"NodeInjector")}function pL(n,e,t,i){if(t&Me.Optional&&i===void 0&&(i=null),(t&(Me.Self|Me.Host))===0){let r=n[nl],s=si(void 0);try{return r?r.get(e,i,t&Me.Optional):DO(e,i,t&Me.Optional)}finally{si(s)}}return fL(i,e,t)}function mL(n,e,t,i=Me.Default,r){if(n!==null){if(e[we]&2048&&!(i&Me.Self)){let o=_9(n,e,t,i,Hr);if(o!==Hr)return o}let s=gL(n,e,t,i,Hr);if(s!==Hr)return s}return pL(e,t,i,r)}function gL(n,e,t,i,r){let s=g9(t);if(typeof s=="function"){if(!tL(e,n,i))return i&Me.Host?fL(r,t,i):pL(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Me.Optional))nC(t);else return o}finally{sL()}}else if(typeof s=="number"){let o=null,a=hL(n,e),l=jc,c=i&Me.Host?e[Gi][ci]:null;for((a===-1||i&Me.SkipSelf)&&(l=a===-1?vC(n,e):e[a+8],l===jc||!VR(i,!1)?a=-1:(o=e[Ne],a=Hg(l),e=Ug(l,e)));a!==-1;){let u=e[Ne];if(FR(s,a,u.data)){let h=m9(a,e,t,o,i,c);if(h!==Hr)return h}l=e[a+8],l!==jc&&VR(i,e[Ne].data[a+8]===c)&&FR(s,a,e)?(o=u,a=Hg(l),e=Ug(l,e)):a=-1}}return r}function m9(n,e,t,i,r,s){let o=e[Ne],a=o.data[n+8],l=i==null?qc(a)&&mT:i!=o&&(a.type&3)!==0,c=r&Me.Host&&s===a,u=Mg(a,o,t,l,c);return u!==null?Sh(e,o,u,a,r):Hr}function Mg(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,h=i?a:a+u,f=r?a+u:c;for(let p=h;p<f;p++){let g=o[p];if(p<l&&t===g||p>=l&&g.type===t)return p}if(r){let p=o[l];if(p&&Ur(p)&&p.type===t)return l}return null}function Sh(n,e,t,i,r){let s=n[t],o=e.data;if(s instanceof al){let a=s;a.resolving&&EO(r8(o[t]));let l=zg(a.canSeeViewProviders);a.resolving=!0;let c,u=a.injectImpl?si(a.injectImpl):null,h=tL(n,i,Me.Default);try{s=n[t]=a.factory(void 0,r,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&r9(t,o[t],e)}finally{u!==null&&si(u),zg(l),a.resolving=!1,sL()}}return s}function g9(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(vh)?n[vh]:void 0;return typeof e=="number"?e>=0?e&uL:y9:e}function FR(n,e,t){let i=1<<n;return!!(t[e+(n>>dL)]&i)}function VR(n,e){return!(n&Me.Self)&&!(n&Me.Host&&e)}var Ja=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return mL(this._tNode,this._lView,e,ly(i),t)}};function y9(){return new Ja(Fn(),Ae())}function ui(n){return Dh(()=>{let e=n.prototype.constructor,t=e[Rg]||yT(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Rg]||yT(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function yT(n){return bO(n)?()=>{let e=yT(Kn(n));return e&&e()}:el(n)}function _9(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[we]&2048&&!$g(o);){let a=gL(s,o,t,i|Me.Self,Hr);if(a!==Hr)return a;let l=s.parent;if(!l){let c=o[BO];if(c){let u=c.get(t,Hr,i);if(u!==Hr)return u}l=yL(o),o=o[Gc]}s=l}return r}function yL(n){let e=n[Ne],t=e.type;return t===2?e.declTNode:t===1?n[ci]:null}function xC(n){return p9(Fn(),n)}function BR(n,e=null,t=null,i){let r=_L(n,e,t,i);return r.resolveInjectorInitializers(),r}function _L(n,e=null,t=null,i,r=new Set){let s=[t||oi,b8(n)];return i=i||(typeof n=="object"?void 0:ai(n)),new wh(s,e||dy(),i||null,r)}var pt=class n{static THROW_IF_NOT_FOUND=Za;static NULL=new Fg;static create(e,t){if(Array.isArray(e))return BR({name:""},t,e,"");{let i=e.name??"";return BR({name:i},e.parent,e.providers,i)}}static \u0275prov=te({token:n,providedIn:"any",factory:()=>se(MO)});static __NG_ELEMENT_ID__=-1};var v9=new re("");v9.__NG_ELEMENT_ID__=n=>{let e=Fn();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&Me.Optional)return null;throw new q(204,!1)};var vL=!1,Xc=(()=>{class n{static __NG_ELEMENT_ID__=x9;static __NG_ENV_ID__=t=>t}return n})(),_T=class extends Xc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Yc(t)?(e(),()=>{}):(KO(t,e),()=>j8(t,e))}};function x9(){return new _T(Ae())}var ll=class{},xL=new re("",{providedIn:"root",factory:()=>!1});var bL=new re(""),wL=new re(""),fl=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Kt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),vy=(()=>{class n{internalPendingTasks=G(fl);scheduler=G(ll);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return E(this,null,function*(){let i=this.add();try{return yield t()}finally{i()}})}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),vT=class extends Xt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,VO()&&(this.destroyRef=G(Xc,{optional:!0})??void 0,this.pendingTasks=G(fl,{optional:!0})??void 0)}emit(e){let t=Ge(null);try{super.next(e)}finally{Ge(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof $t&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ce=vT;function Gg(...n){}function TL(n){let e,t;function i(){n=Gg;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function jR(n){return queueMicrotask(()=>n()),()=>{n=Gg}}var bC="isAngularZone",qg=bC+"_ID",b9=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ce(!1);onMicrotaskEmpty=new ce(!1);onStable=new ce(!1);onError=new ce(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=vL}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,C9(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(bC)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,w9,Gg,Gg);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},w9={};function wC(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function T9(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){TL(()=>{n.callbackScheduled=!1,xT(n),n.isCheckStableRunning=!0,wC(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),xT(n)}function C9(n){let e=()=>{T9(n)},t=b9++;n._inner=n._inner.fork({name:"angular",properties:{[bC]:!0,[qg]:t,[qg+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(S9(l))return i.invokeTask(s,o,a,l);try{return $R(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),HR(n)}},onInvoke:(i,r,s,o,a,l,c)=>{try{return $R(n),i.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!E9(l)&&e(),HR(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,xT(n),wC(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function xT(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function $R(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function HR(n){n._nesting--,wC(n)}var Yg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ce;onMicrotaskEmpty=new ce;onStable=new ce;onError=new ce;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function S9(n){return CL(n,"__ignore_ng_zone__")}function E9(n){return CL(n,"__scheduler_tick__")}function CL(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function I9(n="zone.js",e){return n==="noop"?new Yg:n==="zone.js"?new De(e):n}var Gr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},D9=new re("",{providedIn:"root",factory:()=>{let n=G(De),e=G(Gr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function UR(n,e){return vO(n,e)}function A9(n){return vO(_O,n)}var SL=(UR.required=A9,UR);function k9(){return Kc(Fn(),Ae())}function Kc(n,e){return new _t(Kr(n,e))}var _t=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=k9}return n})();function M9(n){return n instanceof _t?n.nativeElement:n}function P9(n){return typeof n=="function"&&n[Ui]!==void 0}function Qc(n,e){let t=Cw(n,e?.equal),i=t[Ui];return t.set=r=>lh(i,r),t.update=r=>Sw(i,r),t.asReadonly=R9.bind(t),t}function R9(){let n=this[Ui];if(n.readonlyFn===void 0){let e=()=>this();e[Ui]=n,n.readonlyFn=e}return n.readonlyFn}function EL(n){return P9(n)&&typeof n.set=="function"}function O9(){return this._results[Symbol.iterator]()}var bT=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Xt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=m8(e);(this._changesDetected=!p8(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=O9};function IL(n){return(n.flags&128)===128}var DL=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(DL||{}),AL=new Map,L9=0;function N9(){return L9++}function F9(n){AL.set(n[hy],n)}function wT(n){AL.delete(n[hy])}var zR="__ngContext__";function Zc(n,e){Po(e)?(n[zR]=e[hy],F9(e)):n[zR]=e}function kL(n){return PL(n[Ch])}function ML(n){return PL(n[fr])}function PL(n){for(;n!==null&&!Us(n);)n=n[fr];return n}var TT;function RL(n){TT=n}function OL(){if(TT!==void 0)return TT;if(typeof document<"u")return document;throw new q(210,!1)}var xy=new re("",{providedIn:"root",factory:()=>V9}),V9="ng",TC=new re(""),Qn=new re("",{providedIn:"platform",factory:()=>"unknown"});var CC=new re(""),SC=new re("",{providedIn:"root",factory:()=>OL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var B9="h",j9="b";var LL=!1,$9=new re("",{providedIn:"root",factory:()=>LL});var EC=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(EC||{}),Jc=new re(""),WR=new Set;function eu(n){WR.has(n)||(WR.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var NL=(()=>{class n{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=H9}return n})();function H9(){return new NL(Ae(),Fn())}var Fc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Fc||{}),FL=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),U9=[Fc.EarlyRead,Fc.Write,Fc.MixedReadWrite,Fc.Read],z9=(()=>{class n{ngZone=G(De);scheduler=G(ll);errorHandler=G(Gr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){G(Jc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Tt(16),this.executing=!0;for(let i of U9)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=r.hooks[i];return s(r.pipelinedValue)},r.snapshot))}catch(s){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Tt(17)}register(t){let{view:i}=t;i!==void 0?((i[Bc]??=[]).push(t),kh(i),i[we]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(EC.AFTER_NEXT_RENDER,t):t()}static \u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})(),CT=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,r,s,o=null){this.impl=e,this.hooks=t,this.view=i,this.once=r,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Bc];e&&(this.view[Bc]=e.filter(t=>t!==this))}};function IC(n,e){!e?.injector&&sC(IC);let t=e?.injector??G(pt);return eu("NgAfterNextRender"),G9(n,t,e,!0)}function W9(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function G9(n,e,t,i){let r=e.get(FL);r.impl??=e.get(z9);let s=e.get(Jc,null,{optional:!0}),o=t?.phase??Fc.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Xc):null,l=e.get(NL,null,{optional:!0}),c=new CT(r.impl,W9(n,o),l?.view,i,a,s?.snapshot(null));return r.impl.register(c),c}var q9=()=>null;function VL(n,e,t=!1){return q9(n,e,t)}function BL(n,e){let t=n.contentQueries;if(t!==null){let i=Ge(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];mC(s),a.contentQueries(2,e[o],o)}}}finally{Ge(i)}}}function ST(n,e,t){mC(0);let i=Ge(null);try{e(n,t)}finally{Ge(i)}}function DC(n,e,t){if(oC(e)){let i=Ge(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Ge(i)}}}var qr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qr||{}),Tg;function Y9(){if(Tg===void 0&&(Tg=null,xn.trustedTypes))try{Tg=xn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tg}function by(n){return Y9()?.createHTML(n)||n}var Cg;function jL(){if(Cg===void 0&&(Cg=null,xn.trustedTypes))try{Cg=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cg}function GR(n){return jL()?.createHTML(n)||n}function qR(n){return jL()?.createScriptURL(n)||n}var Xg=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gO})`}};function tu(n){return n instanceof Xg?n.changingThisBreaksApplicationSecurity:n}function AC(n,e){let t=X9(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gO})`)}return t===e}function X9(n){return n instanceof Xg&&n.getTypeName()||null}function K9(n){let e=new IT(n);return Q9()?new ET(e):e}var ET=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(by(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},IT=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=by(e),t}};function Q9(){try{return!!new window.DOMParser().parseFromString(by(""),"text/html")}catch{return!1}}var Z9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $L(n){return n=String(n),n.match(Z9)?n:"unsafe:"+n}function zs(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ph(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var HL=zs("area,br,col,hr,img,wbr"),UL=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zL=zs("rp,rt"),J9=Ph(zL,UL),e7=Ph(UL,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),t7=Ph(zL,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),YR=Ph(HL,e7,t7,J9),WL=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),n7=zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),i7=zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),r7=Ph(WL,n7,i7),s7=zs("script,style,template"),DT=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=l7(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=a7(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=XR(e).toLowerCase();if(!YR.hasOwnProperty(t))return this.sanitizedSomething=!0,!s7.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!r7.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;WL[a]&&(l=$L(l)),this.buf.push(" ",o,'="',KR(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=XR(e).toLowerCase();YR.hasOwnProperty(t)&&!HL.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(KR(e))}};function o7(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function a7(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw GL(e);return e}function l7(n){let e=n.firstChild;if(e&&o7(n,e))throw GL(e);return e}function XR(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function GL(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var c7=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u7=/([^\#-~ |!])/g;function KR(n){return n.replace(/&/g,"&amp;").replace(c7,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(u7,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Sg;function d7(n,e){let t=null;try{Sg=Sg||K9(n);let i=e?String(e):"";t=Sg.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Sg.getInertBodyElement(i)}while(i!==s);let a=new DT().sanitizeChildren(QR(t)||t);return by(a)}finally{if(t){let i=QR(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function QR(n){return"content"in n&&h7(n)?n.content:null}function h7(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var wy=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(wy||{});function qL(n){let e=kC();return e?GR(e.sanitize(wy.HTML,n)||""):AC(n,"HTML")?GR(tu(n)):d7(OL(),ko(n))}function f7(n){let e=kC();return e?e.sanitize(wy.URL,n)||"":AC(n,"URL")?tu(n):$L(ko(n))}function p7(n){let e=kC();if(e)return qR(e.sanitize(wy.RESOURCE_URL,n)||"");if(AC(n,"ResourceURL"))return qR(tu(n));throw new q(904,!1)}function m7(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?p7:f7}function YL(n,e,t){return m7(e,t)(n)}function kC(){let n=Ae();return n&&n[Bs].sanitizer}var g7=/^>|^->|<!--|-->|--!>|<!-$/g,y7=/(<|>)/g,_7="\u200B$1\u200B";function v7(n){return n.replace(g7,e=>e.replace(y7,_7))}function XL(n){return n.ownerDocument.defaultView}function KL(n){return n instanceof Function?n():n}function x7(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}var QL="ng-template";function b7(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&x7(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(MC(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function MC(n){return n.type===4&&n.value!==QL}function w7(n,e,t){let i=n.type===4&&!t?QL:n.value;return e===i}function T7(n,e,t){let i=4,r=n.attrs,s=r!==null?E7(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!dr(i)&&!dr(l))return!1;if(o&&dr(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!w7(n,l,t)||l===""&&e.length===1){if(dr(i))return!1;o=!0}}else if(i&8){if(r===null||!b7(n,r,l,t)){if(dr(i))return!1;o=!0}}else{let c=e[++a],u=C7(l,r,MC(n),t);if(u===-1){if(dr(i))return!1;o=!0;continue}if(c!==""){let h;if(u>s?h="":h=r[u+1].toLowerCase(),i&2&&c!==h){if(dr(i))return!1;o=!0}}}}return dr(i)||o}function dr(n){return(n&1)===0}function C7(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return I7(e,n)}function ZL(n,e,t=!1){for(let i=0;i<e.length;i++)if(T7(n,e[i],t))return!0;return!1}function S7(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function E7(n){for(let e=0;e<n.length;e++){let t=n[e];if(lL(t))return e}return n.length}function I7(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function D7(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ZR(n,e){return n?":not("+e.trim()+")":e}function A7(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!dr(o)&&(e+=ZR(s,r),r=""),i=o,s=s||!dr(i);t++}return r!==""&&(e+=ZR(s,r)),e}function k7(n){return n.map(A7).join(",")}function M7(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!dr(r))break;r=s}i++}return t.length&&e.push(1,...t),e}var ki={};function P7(n,e){return n.createText(e)}function R7(n,e,t){n.setValue(e,t)}function O7(n,e){return n.createComment(v7(e))}function JL(n,e,t){return n.createElement(e,t)}function Kg(n,e,t,i,r){n.insertBefore(e,t,i,r)}function eN(n,e,t){n.appendChild(e,t)}function JR(n,e,t,i,r){i!==null?Kg(n,e,t,i,r):eN(n,e,t)}function L7(n,e,t){n.removeChild(null,e,t)}function N7(n,e,t){n.setAttribute(e,"style",t)}function F7(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tN(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&l9(n,e,i),r!==null&&F7(n,e,r),s!==null&&N7(n,e,s)}function PC(n,e,t,i,r,s,o,a,l,c,u){let h=Ln+i,f=h+r,p=V7(h,f),g=typeof c=="function"?c():c;return p[Ne]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function V7(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:ki);return t}function B7(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=PC(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function RC(n,e,t,i,r,s,o,a,l,c,u){let h=e.blueprint.slice();return h[Hs]=r,h[we]=i|4|128|8|64|1024,(c!==null||n&&n[we]&2048)&&(h[we]|=2048),YO(h),h[On]=h[Gc]=n,h[li]=t,h[Bs]=o||n&&n[Bs],h[Lt]=a||n&&n[Lt],h[nl]=l||n&&n[nl]||null,h[ci]=s,h[hy]=N9(),h[Th]=u,h[BO]=c,h[Gi]=e.type==2?n[Gi]:h,h}function j7(n,e,t){let i=Kr(e,n),r=B7(t),s=n[Bs].rendererFactory,o=OC(n,RC(n,r,null,nN(t),i,e,null,s.createRenderer(i,t),null,null,null));return n[e.index]=o}function nN(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function iN(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function OC(n,e){return n[Ch]?n[PR][fr]=e:n[Ch]=e,n[PR]=e,e}function R(n=1){rN(Ut(),Ae(),Vo()+n,!1)}function rN(n,e,t,i){if(!i)if((e[we]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ag(e,s,t)}else{let s=n.preOrderHooks;s!==null&&kg(e,s,0,t)}ol(t)}var Ty=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ty||{});function AT(n,e,t,i){let r=Ge(null);try{let[s,o,a]=n.inputs[t],l=null;(o&Ty.SignalBased)!==0&&(l=e[s][Ui]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,s):$O(e,l,s,i)}finally{Ge(r)}}function sN(n,e,t,i,r){let s=Vo(),o=i&2;try{ol(-1),o&&e.length>Ln&&rN(n,e,Ln,!1),Tt(o?2:0,r),t(i,r)}finally{ol(s),Tt(o?3:1,r)}}function Cy(n,e,t){G7(n,e,t),(t.flags&64)===64&&q7(n,e,t)}function LC(n,e,t=Kr){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function $7(n,e,t,i){let s=i.get($9,LL)||t===qr.ShadowDom,o=n.selectRootElement(e,s);return H7(o),o}function H7(n){U7(n)}var U7=()=>null;function z7(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function NC(n,e,t,i,r,s,o,a){if(!a&&VC(e,n,t,i,r)){qc(e)&&W7(t,e.index);return}if(e.type&3){let l=Kr(e,t);i=z7(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)}else e.type&12}function W7(n,e){let t=Wr(e,n);t[we]&16||(t[we]|=64)}function G7(n,e,t){let i=t.directiveStart,r=t.directiveEnd;qc(t)&&j7(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Wg(t,e);let s=t.initialInputs;for(let o=i;o<r;o++){let a=n.data[o],l=Sh(e,n,o,t);if(Zc(l,e),s!==null&&Q7(e,o-i,l,a,t,s),Ur(a)){let c=Wr(t.index,e);c[li]=Sh(e,n,o,t)}}}function q7(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=J8();try{ol(s);for(let a=i;a<r;a++){let l=n.data[a],c=e[a];pT(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Y7(l,c)}}finally{ol(-1),pT(o)}}function Y7(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function FC(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let s=t[r];ZL(e,s.selectors,!1)&&(i??=[],Ur(s)?i.unshift(s):i.push(s))}return i}function X7(n,e,t,i,r,s){let o=Kr(n,e);K7(e[Lt],o,s,n.value,t,i,r)}function K7(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?ko(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function Q7(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];AT(i,t,l,c)}}function Z7(n,e){let t=n[nl],i=t?t.get(Gr,null):null;i&&i.handleError(e)}function VC(n,e,t,i,r){let s=n.inputs?.[i],o=n.hostDirectiveInputs?.[i],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],u=o[l+1],h=e.data[c];AT(h,t[c],u,r),a=!0}if(s)for(let l of s){let c=t[l],u=e.data[l];AT(u,c,i,r),a=!0}return a}function J7(n,e){let t=Wr(e,n),i=t[Ne];eY(i,t);let r=t[Hs];r!==null&&t[Th]===null&&(t[Th]=VL(r,t[nl])),Tt(18),BC(i,t,t[li]),Tt(19,t[li])}function eY(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function BC(n,e,t){gC(e);try{let i=n.viewQuery;i!==null&&ST(1,i,t);let r=n.template;r!==null&&sN(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[js]?.finishViewCreation(n),n.staticContentQueries&&BL(n,e),n.staticViewQueries&&ST(2,n.viewQuery,t);let s=n.components;s!==null&&tY(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[we]&=-5,yC()}}function tY(n,e){for(let t=0;t<e.length;t++)J7(n,e[t])}function oN(n,e,t,i){let r=Ge(null);try{let s=e.tView,a=n[we]&4096?4096:16,l=RC(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=n[e.index];l[il]=c;let u=n[js];return u!==null&&(l[js]=u.createEmbeddedView(s)),BC(s,l,t),l}finally{Ge(r)}}function kT(n,e){return!e||e.firstChild===null||IL(n)}var nY;function jC(n,e){return nY(n,e)}var $s=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}($s||{});function $C(n){return(n.flags&32)===32}function Vc(n,e,t,i,r){if(i!=null){let s,o=!1;Us(i)?s=i:Po(i)&&(o=!0,i=i[Hs]);let a=zr(i);n===0&&t!==null?r==null?eN(e,t,a):Kg(e,t,a,r||null,!0):n===1&&t!==null?Kg(e,t,a,r||null,!0):n===2?L7(e,a,o):n===3&&e.destroyNode(a),s!=null&&hY(e,n,s,t,r)}}function iY(n,e){aN(n,e),e[Hs]=null,e[ci]=null}function rY(n,e,t,i,r,s){i[Hs]=r,i[ci]=e,Ey(n,i,t,1,r,s)}function aN(n,e){e[Bs].changeDetectionScheduler?.notify(9),Ey(n,e,e[Lt],2,null,null)}function sY(n){let e=n[Ch];if(!e)return Xw(n[Ne],n);for(;e;){let t=null;if(Po(e))t=e[Ch];else{let i=e[Di];i&&(t=i)}if(!t){for(;e&&!e[fr]&&e!==n;)Po(e)&&Xw(e[Ne],e),e=e[On];e===null&&(e=n),Po(e)&&Xw(e[Ne],e),t=e&&e[fr]}e=t}}function HC(n,e){let t=n[Hc],i=t.indexOf(e);t.splice(i,1)}function lN(n,e){if(Yc(e))return;let t=e[Lt];t.destroyNode&&Ey(n,e,t,3,null,null),sY(e)}function Xw(n,e){if(Yc(e))return;let t=Ge(null);try{e[we]&=-129,e[we]|=256,e[Wi]&&bw(e[Wi]),aY(n,e),oY(n,e),e[Ne].type===1&&e[Lt].destroy();let i=e[il];if(i!==null&&Us(e[On])){i!==e[On]&&HC(i,e);let r=e[js];r!==null&&r.detachView(n)}wT(e)}finally{Ge(t)}}function oY(n,e){let t=n.cleanup,i=e[Vg];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else{let a=i[t[o+1]];t[o].call(a)}i!==null&&(e[Vg]=null);let r=e[Mo];if(r!==null){e[Mo]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}let s=e[Bg];if(s!==null){e[Bg]=null;for(let o of s)o.destroy()}}function aY(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof al)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Tt(4,a,l);try{l.call(a)}finally{Tt(5,a,l)}}else{Tt(4,r,s);try{s.call(r)}finally{Tt(5,r,s)}}}}}function cN(n,e,t){return lY(n,e.parent,t)}function lY(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Hs];if(qc(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===qr.None||r===qr.Emulated)return null}return Kr(i,t)}function uN(n,e,t){return uY(n,e,t)}function cY(n,e,t){return n.type&40?Kr(n,t):null}var uY=cY,eO;function Sy(n,e,t,i){let r=cN(n,i,e),s=e[Lt],o=i.parent||e[ci],a=uN(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)JR(s,r,t[l],a,!1);else JR(s,r,t,a,!1);eO!==void 0&&eO(s,i,e,t,r)}function _h(n,e){if(e!==null){let t=e.type;if(t&3)return Kr(e,n);if(t&4)return MT(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return _h(n,i);{let r=n[e.index];return Us(r)?MT(-1,r):zr(r)}}else{if(t&128)return _h(n,e.next);if(t&32)return jC(e,n)()||zr(n[e.index]);{let i=dN(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=sl(n[Gi]);return _h(r,i)}else return _h(n,e.next)}}}return null}function dN(n,e){if(e!==null){let i=n[Gi][ci],r=e.projection;return i.projection[r]}return null}function MT(n,e){let t=Di+n+1;if(t<e.length){let i=e[t],r=i[Ne].firstChild;if(r!==null)return _h(i,r)}return e[rl]}function UC(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Zc(zr(a),i),t.flags|=2),!$C(t))if(l&8)UC(n,e,t.child,i,r,s,!1),Vc(e,n,r,a,s);else if(l&32){let c=jC(t,i),u;for(;u=c();)Vc(e,n,r,u,s);Vc(e,n,r,a,s)}else l&16?hN(n,e,i,t,r,s):Vc(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Ey(n,e,t,i,r,s){UC(t,i,n.firstChild,e,r,s,!1)}function dY(n,e,t){let i=e[Lt],r=cN(n,t,e),s=t.parent||e[ci],o=uN(s,t,e);hN(i,0,e,t,r,o)}function hN(n,e,t,i,r,s){let o=t[Gi],l=o[ci].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Vc(e,n,r,u,s)}else{let c=l,u=o[On];IL(i)&&(c.flags|=128),UC(n,e,c,u,r,s,!0)}}function hY(n,e,t,i,r){let s=t[rl],o=zr(t);s!==o&&Vc(e,n,i,s,r);for(let a=Di;a<t.length;a++){let l=t[a];Ey(l[Ne],l,n,e,i,s)}}function fY(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:$s.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=$s.Important),n.setStyle(t,i,r,s))}}function Qg(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(zr(s)),Us(s)&&pY(s,i);let o=t.type;if(o&8)Qg(n,e,t.child,i);else if(o&32){let a=jC(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=dN(e,t);if(Array.isArray(a))i.push(...a);else{let l=sl(e[Gi]);Qg(l[Ne],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function pY(n,e){for(let t=Di;t<n.length;t++){let i=n[t],r=i[Ne].firstChild;r!==null&&Qg(i[Ne],i,r,e)}n[rl]!==n[Hs]&&e.push(n[rl])}function fN(n){if(n[Bc]!==null){for(let e of n[Bc])e.impl.addSequence(e);n[Bc].length=0}}var pN=[];function mY(n){return n[Wi]??gY(n)}function gY(n){let e=pN.pop()??Object.create(_Y);return e.lView=n,e}function yY(n){n.lView[Wi]!==n&&(n.lView=null,pN.push(n))}var _Y=fe(U({},oh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{kh(n.lView)},consumerOnSignalRead(){this.lView[Wi]=this}});function vY(n){let e=n[Wi]??Object.create(xY);return e.lView=n,e}var xY=fe(U({},oh),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=sl(n.lView);for(;e&&!mN(e[Ne]);)e=sl(e);e&&XO(e)},consumerOnSignalRead(){this.lView[Wi]=this}});function mN(n){return n.type!==2}function gN(n){if(n[Bg]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[Bg])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[we]&8192)}}var bY=100;function yN(n,e=!0,t=0){let r=n[Bs].rendererFactory,s=!1;s||r.begin?.();try{wY(n,t)}catch(o){throw e&&Z7(n,o),o}finally{s||r.end?.()}}function wY(n,e){let t=JO();try{OR(!0),PT(n,e);let i=0;for(;py(n);){if(i===bY)throw new q(103,!1);i++,PT(n,1)}}finally{OR(t)}}function TY(n,e,t,i){if(Yc(e))return;let r=e[we],s=!1,o=!1;gC(e);let a=!0,l=null,c=null;s||(mN(n)?(c=mY(e),l=Wm(c)):mw()===null?(a=!1,c=vY(e),l=Wm(c)):e[Wi]&&(bw(e[Wi]),e[Wi]=null));try{YO(e),K8(n.bindingStartIndex),t!==null&&sN(n,e,t,2,i);let u=(r&3)===3;if(!s)if(u){let p=n.preOrderCheckHooks;p!==null&&Ag(e,p,null)}else{let p=n.preOrderHooks;p!==null&&kg(e,p,0,null),qw(e,0)}if(o||CY(e),gN(e),_N(e,0),n.contentQueries!==null&&BL(n,e),!s)if(u){let p=n.contentCheckHooks;p!==null&&Ag(e,p)}else{let p=n.contentHooks;p!==null&&kg(e,p,1),qw(e,1)}EY(n,e);let h=n.components;h!==null&&xN(e,h,0);let f=n.viewQuery;if(f!==null&&ST(2,f,i),!s)if(u){let p=n.viewCheckHooks;p!==null&&Ag(e,p)}else{let p=n.viewHooks;p!==null&&kg(e,p,2),qw(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gw]){for(let p of e[Gw])p();e[Gw]=null}s||(fN(e),e[we]&=-73)}catch(u){throw s||kh(e),u}finally{c!==null&&(vw(c,l),a&&yY(c)),yC()}}function _N(n,e){for(let t=kL(n);t!==null;t=ML(t))for(let i=Di;i<t.length;i++){let r=t[i];vN(r,e)}}function CY(n){for(let e=kL(n);e!==null;e=ML(e)){if(!(e[we]&2))continue;let t=e[Hc];for(let i=0;i<t.length;i++){let r=t[i];XO(r)}}}function SY(n,e,t){Tt(18);let i=Wr(e,n);vN(i,t),Tt(19,i[li])}function vN(n,e){lC(n)&&PT(n,e)}function PT(n,e){let i=n[Ne],r=n[we],s=n[Wi],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&xw(s)),o||=!1,s&&(s.dirty=!1),n[we]&=-9217,o)TY(i,n,i.template,n[li]);else if(r&8192){gN(n),_N(n,1);let a=i.components;a!==null&&xN(n,a,1),fN(n)}}function xN(n,e,t){for(let i=0;i<e.length;i++)SY(n,e[i],t)}function EY(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ol(~r);else{let s=r,o=t[++i],a=t[++i];Z8(o,s);let l=e[s];Tt(24,l),a(2,l),Tt(25,l)}}}finally{ol(-1)}}function zC(n,e){let t=JO()?64:1088;for(n[Bs].changeDetectionScheduler?.notify(e);n;){n[we]|=t;let i=sl(n);if($g(n)&&!i)return n;n=i}return null}function bN(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function wN(n,e,t,i=!0){let r=e[Ne];if(IY(r,e,n,t),i){let o=MT(t,n),a=e[Lt],l=a.parentNode(n[rl]);l!==null&&rY(r,n[ci],a,e,l,o)}let s=e[Th];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function RT(n,e){if(n.length<=Di)return;let t=Di+e,i=n[t];if(i){let r=i[il];r!==null&&r!==n&&HC(r,i),e>0&&(n[t-1][fr]=i[fr]);let s=Ng(n,Di+e);iY(i[Ne],i);let o=s[js];o!==null&&o.detachView(s[Ne]),i[On]=null,i[fr]=null,i[we]&=-129}return i}function IY(n,e,t,i){let r=Di+i,s=t.length;i>0&&(t[r-1][fr]=e),i<s-Di?(e[fr]=t[r],kO(t,Di+i,e)):(t.push(e),e[fr]=null),e[On]=t;let o=e[il];o!==null&&t!==o&&TN(o,e);let a=e[js];a!==null&&a.insertView(n),hT(e),e[we]|=128}function TN(n,e){let t=n[Hc],i=e[On];if(Po(i))n[we]|=2;else{let r=i[On][Gi];e[Gi]!==r&&(n[we]|=2)}t===null?n[Hc]=[e]:t.push(e)}var Eh=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Ne];return Qg(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[li]}set context(e){this._lView[li]=e}get destroyed(){return Yc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[On];if(Us(e)){let t=e[jg],i=t?t.indexOf(this):-1;i>-1&&(RT(e,i),Ng(t,i))}this._attachedToViewContainer=!1}lN(this._lView[Ne],this._lView)}onDestroy(e){KO(this._lView,e)}markForCheck(){zC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[we]&=-129}reattach(){hT(this._lView),this._lView[we]|=128}detectChanges(){this._lView[we]|=1024,yN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=$g(this._lView),t=this._lView[il];t!==null&&!e&&HC(t,this._lView),aN(this._lView[Ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=$g(this._lView),i=this._lView[il];i!==null&&!t&&TN(i,this._lView),hT(this._lView)}};var Oo=(()=>{class n{static __NG_ELEMENT_ID__=kY}return n})(),DY=Oo,AY=class extends DY{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=oN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Eh(r)}};function kY(){return Iy(Fn(),Ae())}function Iy(n,e){return n.type&4?new AY(e,n,Kc(n,e)):null}function Rh(n,e,t,i,r){let s=n.data[e];if(s===null)s=MY(n,e,t,i,r),Q8()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=q8();s.injectorIndex=o===null?-1:o.injectorIndex}return hl(s,!0),s}function MY(n,e,t,i,r){let s=ZO(),o=hC(),a=o?s:s&&s.parent,l=n.data[e]=RY(n,a,t,e,i,r);return PY(n,l,s,o),l}function PY(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function RY(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return QO()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var KEe=new RegExp(`^(\\d+)*(${j9}|${B9})*(.*)`);var OY=()=>null;function OT(n,e){return OY(n,e)}var LY=class{},CN=class{},LT=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ai(e)}.`)}},nu=class{static NULL=new LT},Lo=class{},di=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>NY()}return n})();function NY(){let n=Ae(),e=Fn(),t=Wr(e.index,n);return(Po(t)?t:n)[Lt]}var FY=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>null})}return n})();var Kw={},NT=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ly(i);let r=this.injector.get(e,Kw,i);return r!==Kw||t===Kw?r:this.parentInjector.get(e,t,i)}};function FT(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=rT(r,a);else if(s==2){let l=a,c=e[++o];i=rT(i,l+": "+c+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function H(n,e=Me.Default){let t=Ae();if(t===null)return se(n,e);let i=Fn();return mL(i,t,Kn(n),e)}function SN(){let n="invalid";throw new Error(n)}function WC(n,e,t,i,r){let s=i===null?null:{"":-1},o=r(n,t);if(o!==null){let a,l=null,c=null,u=BY(o);u===null?a=o:[a,l,c]=u,HY(n,e,t,a,s,l,c)}s!==null&&i!==null&&VY(t,i,s)}function VY(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new q(-301,!1);i.push(e[r],s)}}function BY(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&Ur(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,s??=new Map,jY(o,i,s,r)),o===e&&(i??=[],i.push(o));return i!==null?(i.push(...e===null?n:n.slice(1)),[i,r,s]):null}function jY(n,e,t,i){let r=e.length;n.findHostDirectiveDefs(n,e,i),t.set(n,[r,e.length-1])}function $Y(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function HY(n,e,t,i,r,s,o){let a=i.length,l=!1;for(let f=0;f<a;f++){let p=i[f];!l&&Ur(p)&&(l=!0,$Y(n,t,f)),gT(Wg(t,e),n,p.type)}YY(t,n.data.length,a);for(let f=0;f<a;f++){let p=i[f];p.providersResolver&&p.providersResolver(p)}let c=!1,u=!1,h=iN(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=i[f];if(t.mergedAttrs=zc(t.mergedAttrs,p.hostAttrs),zY(n,t,e,h,p),qY(h,p,r),o!==null&&o.has(p)){let[y,v]=o.get(p);t.directiveToIndex.set(p.type,[h,y+t.directiveStart,v+t.directiveStart])}else(s===null||!s.has(p))&&t.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!c&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}UY(n,t,s)}function UY(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))tO(0,e,r,i),tO(1,e,r,i),iO(e,i,!1);else{let s=t.get(r);nO(0,e,s,i),nO(1,e,s,i),iO(e,i,!0)}}}function tO(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let s in r)if(r.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(i),EN(e,s)}}function nO(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let s in r)if(r.hasOwnProperty(s)){let o=r[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(i,s),EN(e,o)}}function EN(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function iO(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:s}=n;if(i===null||!t&&r===null||t&&s===null||MC(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&r.hasOwnProperty(l)){let c=r[l];for(let u of c)if(u===e){o??=[],o.push(l,i[a+1]);break}}else if(t&&s.hasOwnProperty(l)){let c=s[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){o??=[],o.push(c[u+1],i[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function zY(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=el(r.type,!0)),o=new al(s,Ur(r),H);n.blueprint[i]=o,t[i]=o,WY(n,e,i,iN(n,t,r.hostVars,ki),r)}function WY(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;GY(o)!=a&&o.push(a),o.push(t,i,s)}}function GY(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function qY(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ur(e)&&(t[""]=n)}}function YY(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function IN(n,e,t,i,r,s,o,a){let l=e.consts,c=Uc(l,o),u=Rh(e,n,2,i,c);return s&&WC(e,t,u,Uc(l,a),r),u.mergedAttrs=zc(u.mergedAttrs,u.attrs),u.attrs!==null&&FT(u,u.attrs,!1),u.mergedAttrs!==null&&FT(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function DN(n,e){_C(n,e),oC(e)&&n.queries.elementEnd(e)}var Zg=class extends nu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ro(e);return new cl(t,this.ngModule)}};function XY(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],s={propName:t,templateName:e,isSignal:(i&Ty.SignalBased)!==0};return r&&(s.transform=r),s})}function KY(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function QY(n,e,t){let i=e instanceof hn?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new NT(t,i):t}function ZY(n){let e=n.get(Lo,null);if(e===null)throw new q(407,!1);let t=n.get(FY,null),i=n.get(ll,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i}}function JY(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return JL(e,t,t==="svg"?WO:t==="math"?N8:null)}var cl=class extends CN{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=XY(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=KY(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=k7(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r){Tt(22);let s=Ge(null);try{let o=this.componentDef,a=i?["ng-version","19.2.11"]:M7(this.componentDef.selectors[0]),l=PC(0,null,null,1,0,null,null,null,null,[a],null),c=QY(o,r||this.ngModule,e),u=ZY(c),h=u.rendererFactory.createRenderer(null,o),f=i?$7(h,i,o.encapsulation,c):JY(o,h),p=RC(null,l,null,512|nN(o),null,null,u,h,c,null,VL(f,c,!0));p[Ln]=f,gC(p);let g=null;try{let y=IN(Ln,l,p,"#host",()=>[this.componentDef],!0,0);f&&(tN(h,f,y),Zc(f,p)),Cy(l,p,y),DC(l,y,p),DN(l,y),t!==void 0&&eX(y,this.ngContentSelectors,t),g=Wr(y.index,p),p[li]=g[li],BC(l,p,null)}catch(y){throw g!==null&&wT(g),wT(p),y}finally{Tt(23),yC()}return new VT(this.componentType,p)}finally{Ge(s)}}},VT=class extends LY{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=qO(t[Ne],Ln),this.location=Kc(this._tNode,t),this.instance=Wr(this._tNode.index,t)[li],this.hostView=this.changeDetectorRef=new Eh(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,s=VC(i,r[Ne],r,e,t);this.previousInputValues.set(e,t);let o=Wr(i.index,r);zC(o,1)}get injector(){return new Ja(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function eX(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null&&s.length?Array.from(s):null)}}var Yi=(()=>{class n{static __NG_ELEMENT_ID__=tX}return n})();function tX(){let n=Fn();return kN(n,Ae())}var nX=Yi,AN=class extends nX{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Kc(this._hostTNode,this._hostLView)}get injector(){return new Ja(this._hostTNode,this._hostLView)}get parentInjector(){let e=vC(this._hostTNode,this._hostLView);if(cL(e)){let t=Ug(e,this._hostLView),i=Hg(e),r=t[Ne].data[i+8];return new Ja(r,t)}else return new Ja(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=rO(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Di}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=OT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,kT(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!P8(e),a;if(o)a=t;else{let g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let l=o?e:new cl(Ro(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let y=(o?c:this.parentInjector).get(hn,null);y&&(s=y)}let u=Ro(l.componentType??{}),h=OT(this._lContainer,u?.id??null),f=h?.firstChild??null,p=l.create(c,r,f,s);return this.insertImpl(p.hostView,a,kT(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(V8(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[On],c=new AN(l,l[ci],l[On]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return wN(o,r,s,i),e.attachToViewContainerRef(),kO(Qw(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=rO(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=RT(this._lContainer,t);i&&(Ng(Qw(this._lContainer),t),lN(i[Ne],i))}detach(e){let t=this._adjustIndex(e,-1),i=RT(this._lContainer,t);return i&&Ng(Qw(this._lContainer),t)!=null?new Eh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function rO(n){return n[jg]}function Qw(n){return n[jg]||(n[jg]=[])}function kN(n,e){let t,i=e[n.index];return Us(i)?t=i:(t=bN(i,e,null,n),e[n.index]=t,OC(e,t)),rX(t,e,n,i),new AN(t,n,e)}function iX(n,e){let t=n[Lt],i=t.createComment(""),r=Kr(e,n),s=t.parentNode(r);return Kg(t,s,i,t.nextSibling(r),!1),i}var rX=aX,sX=()=>!1;function oX(n,e,t){return sX(n,e,t)}function aX(n,e,t,i){if(n[rl])return;let r;t.type&8?r=zr(i):r=iX(e,t),n[rl]=r}var BT=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},jT=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)GC(e,t).matches!==null&&this.queries[t].setDirty()}},Jg=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=mX(e):this.predicate=e}},$T=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},HT=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,lX(t,s)),this.matchTNodeWithReadOption(e,t,Mg(t,e,s,!1,!1))}else i===Oo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Mg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===_t||r===Yi||r===Oo&&t.type&4)this.addMatch(t.index,-2);else{let s=Mg(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function lX(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function cX(n,e){return n.type&11?Kc(n,e):n.type&4?Iy(n,e):null}function uX(n,e,t,i){return t===-1?cX(e,n):t===-2?dX(n,e,i):Sh(n,n[Ne],t,e)}function dX(n,e,t){if(t===_t)return Kc(e,n);if(t===Oo)return Iy(e,n);if(t===Yi)return kN(e,n)}function MN(n,e,t,i){let r=e[js].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(uX(e,u,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function UT(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=MN(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let h=Di;h<u.length;h++){let f=u[h];f[il]===f[On]&&UT(f[Ne],f,c,i)}if(u[Hc]!==null){let h=u[Hc];for(let f=0;f<h.length;f++){let p=h[f];UT(p[Ne],p,c,i)}}}}}return i}function hX(n,e){return n[js].queries[e].queryList}function PN(n,e,t){let i=new bT((t&4)===4);return $8(n,e,i,i.destroy),(e[js]??=new jT).queries.push(new BT(i))-1}function fX(n,e,t){let i=Ut();return i.firstCreatePass&&(RN(i,new Jg(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),PN(i,Ae(),e)}function pX(n,e,t,i){let r=Ut();if(r.firstCreatePass){let s=Fn();RN(r,new Jg(e,t,i),s.index),gX(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return PN(r,Ae(),t)}function mX(n){return n.split(",").map(e=>e.trim())}function RN(n,e,t){n.queries===null&&(n.queries=new $T),n.queries.track(new HT(e,t))}function gX(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function GC(n,e){return n.queries.getByIndex(e)}function yX(n,e){let t=n[Ne],i=GC(t,e);return i.crossesNgTemplate?UT(t,n,e,[]):MN(t,n,i,e)}function _X(n){let e=[],t=new Map;function i(r){let s=t.get(r);if(!s){let o=n(r);t.set(r,s=o.then(wX))}return s}return ey.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((h,f)=>{a.push(""),o.push(i(h).then(p=>{a[c+f]=p,u.splice(u.indexOf(h),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>TX(s));e.push(l)}),xX(),Promise.all(e).then(()=>{})}var ey=new Map,vX=new Set;function xX(){let n=ey;return ey=new Map,n}function bX(){return ey.size===0}function wX(n){return typeof n=="string"?n:n.text()}function TX(n){vX.delete(n)}var No=class{},qC=class{};var ty=class extends No{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zg(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let s=RO(e);this._bootstrapComponents=KL(s.bootstrap),this._r3Injector=_L(e,t,[{provide:No,useValue:this},{provide:nu,useValue:this.componentFactoryResolver},...i],ai(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ny=class extends qC{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ty(this.moduleType,e,[])}};function CX(n,e,t){return new ty(n,e,t,!1)}var zT=class extends No{injector;componentFactoryResolver=new Zg(this);instance=null;constructor(e){super();let t=new wh([...e.providers,{provide:No,useValue:this},{provide:nu,useValue:this.componentFactoryResolver}],e.parent||dy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oh(n,e,t=null){return new zT({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var SX=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=OO(!1,t.type),r=i.length>0?Oh([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=te({token:n,providedIn:"environment",factory:()=>new n(se(hn))})}return n})();function de(n){return Dh(()=>{let e=ON(n),t=fe(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===DL.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(SX).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qr.Emulated,styles:n.styles||oi,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&eu("NgStandalone"),LN(t);let i=n.dependencies;return t.directiveDefs=sO(i,!1),t.pipeDefs=sO(i,!0),t.id=kX(t),t})}function EX(n){return Ro(n)||v8(n)}function IX(n){return n!==null}function He(n){return Dh(()=>({type:n.type,bootstrap:n.bootstrap||oi,declarations:n.declarations||oi,imports:n.imports||oi,exports:n.exports||oi,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function DX(n,e){if(n==null)return tl;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a,l;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s,l=r[3]||null):(s=r,o=r,a=Ty.None,l=null),t[s]=[i,a,l],e[s]=o}return t}function AX(n){if(n==null)return tl;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function it(n){return Dh(()=>{let e=ON(n);return LN(e),e})}function Dy(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function ON(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||tl,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||oi,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DX(n.inputs,e),outputs:AX(n.outputs),debugInfo:null}}function LN(n){n.features?.forEach(e=>e(n))}function sO(n,e){if(!n)return null;let t=e?x8:EX;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(IX)}function kX(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of i.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MX(n){return Object.getPrototypeOf(n.prototype).constructor}function bn(n){let e=MX(n.type),t=!0,i=[n];for(;e;){let r;if(Ur(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=Zw(n.inputs),o.declaredInputs=Zw(n.declaredInputs),o.outputs=Zw(n.outputs);let a=r.hostBindings;a&&NX(n,a);let l=r.viewQuery,c=r.contentQueries;if(l&&OX(n,l),c&&LX(n,c),PX(n,r),Kq(n.outputs,r.outputs),Ur(r)&&r.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===bn&&(t=!1)}}e=Object.getPrototypeOf(e)}RX(i)}function PX(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function RX(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=zc(r.hostAttrs,t=zc(t,r.hostAttrs))}}function Zw(n){return n===tl?{}:n===oi?[]:n}function OX(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function LX(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function NX(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function NN(n){return VX(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function FX(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function VX(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function YC(n,e,t){return n[e]=t}function BX(n,e){return n[e]}function Yr(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function FN(n,e,t,i){let r=Yr(n,e,t);return Yr(n,e+1,i)||r}function jX(n,e,t,i,r){let s=FN(n,e,t,i);return Yr(n,e+2,r)||s}function $X(n,e,t,i,r,s,o,a,l){let c=e.consts,u=Rh(e,n,4,o||null,a||null);dC()&&WC(e,t,u,Uc(c,l),FC),u.mergedAttrs=zc(u.mergedAttrs,u.attrs),_C(e,u);let h=u.tView=PC(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function VN(n,e,t,i,r,s,o,a,l,c){let u=t+Ln,h=e.firstCreatePass?$X(u,e,n,i,r,s,o,a,l):e.data[u];hl(h,!1);let f=HX(e,n,h,t);yy()&&Sy(e,n,f,h),Zc(f,n);let p=bN(f,n,f,h);return n[u]=p,OC(n,p),oX(p,h,n),fy(h)&&Cy(e,n,h),l!=null&&LC(n,h,c),h}function Q(n,e,t,i,r,s,o,a){let l=Ae(),c=Ut(),u=Uc(c.consts,s);return VN(l,c,n,e,t,i,r,u,o,a),Q}var HX=UX;function UX(n,e,t,i){return _y(!0),e[Lt].createComment("")}var BN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var XC=new re(""),Lh=new re(""),Ay=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,i,r){this._ngZone=t,this.registry=i,KC||(zX(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static \u0275fac=function(i){return new(i||n)(se(De),se(ky),se(Lh))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),ky=(()=>{class n{_applications=new Map;registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return KC?.findTestabilityInTree(this,t,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function zX(n){KC=n}var KC,WX=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>new WT})}return n})(),WT=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function pl(n){return!!n&&typeof n.then=="function"}function jN(n){return!!n&&typeof n.subscribe=="function"}var $N=new re("");function QC(n){return Fo([{provide:$N,multi:!0,useValue:n}])}var HN=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=G($N,{optional:!0})??[];injector=G(pt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let s=Nn(this.injector,r);if(pl(s))t.push(s);else if(jN(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZC=new re("");function GX(){Tw(()=>{throw new q(600,!1)})}function qX(n){return n.isBoundToModule}var YX=10;function UN(n,e){return Array.isArray(e)?e.reduce(UN,n):U(U({},n),e)}var Xr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=G(D9);afterRenderManager=G(FL);zonelessEnabled=G(xL);rootEffectScheduler=G(WX);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Xt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=G(fl).hasPendingTasks.pipe(Ie(t=>!t));constructor(){G(Jc,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=G(hn);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=pt.NULL){Tt(10);let s=t instanceof CN;if(!this._injector.get(HN).done){let p="";throw new q(405,p)}let a;s?a=t:a=this._injector.get(nu).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=qX(a)?void 0:this._injector.get(No),c=i||a.selector,u=a.create(r,[],c,l),h=u.location.nativeElement,f=u.injector.get(XC,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Pg(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),Tt(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Tt(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(EC.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let t=Ge(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ge(t),this.afterTick.next(),Tt(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Lo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<YX;)Tt(14),this.synchronizeOnce(),Tt(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)XX(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>py(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Pg(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ZC,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Pg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pg(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XX(n,e,t,i){if(!t&&!py(n))return;yN(n,e,t&&!i?0:1)}function Le(n,e,t,i){let r=Ae(),s=my();if(Yr(r,s,e)){let o=Ut(),a=gy();X7(a,r,n,e,t,i)}return Le}function JC(n,e,t,i){return Yr(n,my(),t)?e+ko(t)+i:ki}function KX(n,e,t,i,r,s,o,a){let l=X8(),c=jX(n,l,t,r,o);return pC(3),c?e+ko(t)+i+ko(r)+s+ko(o)+a:ki}function Eg(n,e){return n<<17|e<<2}function ul(n){return n>>17&32767}function QX(n){return(n&2)==2}function ZX(n,e){return n&131071|e<<17}function GT(n){return n|2}function Wc(n){return(n&131068)>>2}function Jw(n,e){return n&-131069|e<<2}function JX(n){return(n&1)===1}function qT(n){return n|1}function eK(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ul(o),l=Wc(o);n[i]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Ah(h,u)>0)&&(c=!0)}else u=t;if(r)if(l!==0){let f=ul(n[a+1]);n[i+1]=Eg(f,a),f!==0&&(n[f+1]=Jw(n[f+1],i)),n[a+1]=ZX(n[a+1],i)}else n[i+1]=Eg(a,0),a!==0&&(n[a+1]=Jw(n[a+1],i)),a=i;else n[i+1]=Eg(l,0),a===0?a=i:n[l+1]=Jw(n[l+1],i),l=i;c&&(n[i+1]=GT(n[i+1])),oO(n,u,i,!0),oO(n,u,i,!1),tK(e,u,n,i,s),o=Eg(a,l),s?e.classBindings=o:e.styleBindings=o}function tK(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ah(s,e)>=0&&(t[i+1]=qT(t[i+1]))}function oO(n,e,t,i){let r=n[t+1],s=e===null,o=i?ul(r):Wc(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];nK(l,e)&&(a=!0,n[o+1]=i?qT(c):GT(c)),o=i?ul(c):Wc(c)}a&&(n[t+1]=i?GT(r):qT(r))}function nK(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ah(n,e)>=0:!1}var hr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iK(n){return n.substring(hr.key,hr.keyEnd)}function rK(n){return sK(n),zN(n,WN(n,0,hr.textEnd))}function zN(n,e){let t=hr.textEnd;return t===e?-1:(e=hr.keyEnd=oK(n,hr.key=e,t),WN(n,e,t))}function sK(n){hr.key=0,hr.keyEnd=0,hr.value=0,hr.valueEnd=0,hr.textEnd=n.length}function WN(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function oK(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function $(n,e,t){let i=Ae(),r=my();if(Yr(i,r,e)){let s=Ut(),o=gy();NC(s,o,i,n,e,i[Lt],t,!1)}return $}function YT(n,e,t,i,r){VC(e,n,t,r?"class":"style",i)}function hi(n,e,t){return YN(n,e,t,!1),hi}function Xi(n,e){return YN(n,e,null,!0),Xi}function GN(n){XN(hK,qN,n,!0)}function qN(n,e){for(let t=rK(e);t>=0;t=zN(e,t))cy(n,iK(e),!0)}function YN(n,e,t,i){let r=Ae(),s=Ut(),o=pC(2);if(s.firstUpdatePass&&QN(s,n,o,i),e!==ki&&Yr(r,o,e)){let a=s.data[Vo()];ZN(s,a,r,r[Lt],n,r[o+1]=pK(e,t),i,o)}}function XN(n,e,t,i){let r=Ut(),s=pC(2);r.firstUpdatePass&&QN(r,null,s,i);let o=Ae();if(t!==ki&&Yr(o,s,t)){let a=r.data[Vo()];if(JN(a,i)&&!KN(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=rT(l,t||"")),YT(r,a,o,t,i)}else fK(r,a,o,o[Lt],o[s+1],o[s+1]=dK(n,e,t),i,s)}}function KN(n,e){return e>=n.expandoStartIndex}function QN(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Vo()],o=KN(n,t);JN(s,i)&&e===null&&!o&&(e=!1),e=aK(r,s,e,i),eK(r,s,e,t,o,i)}}function aK(n,e,t,i){let r=e9(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=eT(null,n,e,t,i),t=Ih(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=eT(r,n,e,t,i),s===null){let l=lK(n,e,i);l!==void 0&&Array.isArray(l)&&(l=eT(null,n,e,l[1],i),l=Ih(l,e.attrs,i),cK(n,e,i,l))}else s=uK(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function lK(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Wc(i)!==0)return n[ul(i)]}function cK(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[ul(r)]=i}function uK(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Ih(i,o,t)}return Ih(i,e.attrs,t)}function eT(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Ih(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Ih(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),cy(n,o,t?!0:e[++s]))}return n===void 0?null:n}function dK(n,e,t){if(t==null||t==="")return oi;let i=[],r=tu(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function hK(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&cy(n,i,t)}function fK(n,e,t,i,r,s,o,a){r===ki&&(r=oi);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let f=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0,g=null,y;u===h?(l+=2,c+=2,f!==p&&(g=h,y=p)):h===null||u!==null&&u<h?(l+=2,g=u):(c+=2,g=h,y=p),g!==null&&ZN(n,e,t,i,g,y,o,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}function ZN(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=JX(c)?aO(l,e,t,r,Wc(c),o):void 0;if(!iy(u)){iy(s)||QX(c)&&(s=aO(l,null,t,r,a,o));let h=GO(Vo(),t);fY(i,o,h,r,s)}}function aO(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=u===null,f=t[r+1];f===ki&&(f=h?oi:void 0);let p=h?zw(f,i):u===i?f:void 0;if(c&&!iy(p)&&(p=zw(l,i)),iy(p)&&(a=p,o))return a;let g=n[r+1];r=o?ul(g):Wc(g)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=zw(l,i))}return a}function iy(n){return n!==void 0}function pK(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ai(tu(n)))),n}function JN(n,e){return(n.flags&(e?8:16))!==0}function eF(n,e,t){let i=Ae(),r=JC(i,n,e,t);XN(cy,qN,r,!0)}function w(n,e,t,i){let r=Ae(),s=Ut(),o=Ln+n,a=r[Lt],l=s.firstCreatePass?IN(o,s,r,e,FC,dC(),t,i):s.data[o],c=mK(s,r,l,a,e,n);r[o]=c;let u=fy(l);return hl(l,!0),tN(a,c,l),!$C(l)&&yy()&&Sy(s,r,c,l),(H8()===0||u)&&Zc(c,r),U8(),u&&(Cy(s,r,l),DC(s,l,r)),i!==null&&LC(r,l),w}function S(){let n=Fn();hC()?fC():(n=n.parent,hl(n,!1));let e=n;W8(e)&&G8(),z8();let t=Ut();return t.firstCreatePass&&DN(t,e),e.classesWithoutHost!=null&&o9(e)&&YT(t,e,Ae(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&a9(e)&&YT(t,e,Ae(),e.stylesWithoutHost,!1),S}function xe(n,e,t,i){return w(n,e,t,i),S(),xe}var mK=(n,e,t,i,r,s)=>(_y(!0),JL(i,r,i9()));function gK(n,e,t,i,r){let s=e.consts,o=Uc(s,i),a=Rh(e,n,8,"ng-container",o);o!==null&&FT(a,o,!0);let l=Uc(s,r);return dC()&&WC(e,t,a,l,FC),a.mergedAttrs=zc(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Bo(n,e,t){let i=Ae(),r=Ut(),s=n+Ln,o=r.firstCreatePass?gK(s,r,i,e,t):r.data[s];hl(o,!0);let a=yK(r,i,o,n);return i[s]=a,yy()&&Sy(r,i,a,o),Zc(a,i),fy(o)&&(Cy(r,i,o),DC(r,o,i)),t!=null&&LC(i,o),Bo}function jo(){let n=Fn(),e=Ut();return hC()?fC():(n=n.parent,hl(n,!1)),e.firstCreatePass&&(_C(e,n),oC(n)&&e.queries.elementEnd(n)),jo}function My(n,e,t){return Bo(n,e,t),jo(),My}var yK=(n,e,t,i)=>(_y(!0),O7(e[Lt],""));function ot(){return Ae()}var Qa=void 0;function _K(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var vK=["en",[["a","p"],["AM","PM"],Qa],[["AM","PM"],Qa,Qa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qa,"{1} 'at' {0}",Qa],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_K],tT={};function fi(n){let e=xK(n),t=lO(e);if(t)return t;let i=e.split("-")[0];if(t=lO(i),t)return t;if(i==="en")return vK;throw new q(701,!1)}function lO(n){return n in tT||(tT[n]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[n]),tT[n]}var Nt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Nt||{});function xK(n){return n.toLowerCase().replace(/_/g,"-")}var ry="en-US",bK="USD";var wK=ry;function TK(n){typeof n=="string"&&(wK=n.toLowerCase().replace(/_/g,"-"))}function cO(n,e,t){return function i(r){if(r===Function)return t;let s=qc(n)?Wr(n.index,e):e;zC(s,5);let o=e[li],a=uO(e,o,t,r),l=i.__ngNextListenerFn__;for(;l;)a=uO(e,o,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function uO(n,e,t,i){let r=Ge(null);try{return Tt(6,e,t),t(i)!==!1}catch(s){return CK(n,s),!1}finally{Tt(7,e,t),Ge(r)}}function CK(n,e){let t=n[nl],i=t?t.get(Gr,null):null;i&&i.handleError(e)}function dO(n,e,t,i,r,s){let o=e[t],a=e[Ne],c=a.data[t].outputs[i],u=o[c],h=a.firstCreatePass?uC(a):null,f=cC(e),p=u.subscribe(s),g=f.length;f.push(s,p),h&&h.push(r,n.index,g,-(g+1))}var SK=new Map;function J(n,e,t,i){let r=Ae(),s=Ut(),o=Fn();return tF(s,r,r[Lt],o,n,e,i),J}function EK(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Vg],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function tF(n,e,t,i,r,s,o){let a=fy(i),c=n.firstCreatePass?uC(n):null,u=cC(e),h=!0;if(i.type&3||o){let f=Kr(i,e),p=o?o(f):f,g=u.length,y=o?I=>o(zr(I[i.index])):i.index,v=null;if(!o&&a&&(v=EK(n,e,r,i.index)),v!==null){let I=v.__ngLastListenerFn__||v;I.__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,h=!1}else{s=cO(i,e,s);let I=e[nl].get(xy);SK.get(I)?.(p,r,s);let O=t.listen(p,r,s);u.push(s,O),c&&c.push(r,y,g,g+1)}}else s=cO(i,e,s);if(h){let f=i.outputs?.[r],p=i.hostDirectiveOutputs?.[r];if(p&&p.length)for(let g=0;g<p.length;g+=2){let y=p[g],v=p[g+1];dO(i,e,y,v,r,s)}if(f&&f.length)for(let g of f)dO(i,e,g,r,r,s)}}function z(n=1){return n9(n)}function IK(n,e){let t=null,i=S7(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?ZL(n,s,!0):D7(i,s))return r}return t}function nF(n){let e=Ae()[Gi][ci];if(!e.projection){let t=n?n.length:1,i=e.projection=g8(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?IK(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function iF(n,e=0,t,i,r,s){let o=Ae(),a=Ut(),l=i?n+1:null;l!==null&&VN(o,a,l,i,r,s,null,t);let c=Rh(a,Ln+n,16,null,t||null);c.projection===null&&(c.projection=e),fC();let h=!o[Th]||QO();o[Gi][ci].projection[c.projection]===null&&l!==null?DK(o,a,l):h&&!$C(c)&&dY(a,o,c)}function DK(n,e,t){let i=Ln+t,r=e.data[i],s=n[i],o=OT(s,r.tView.ssrId),a=oN(n,r,void 0,{dehydratedView:o});wN(s,a,0,kT(r,o))}function Ws(n,e,t,i,r){let s=Ae(),o=JC(s,e,t,i);if(o!==ki){let a=Ut(),l=gy();NC(a,l,s,n,o,s[Lt],r,!1)}return Ws}function Nh(n,e,t,i){pX(n,e,t,i)}function iu(n,e,t){fX(n,e,t)}function Qr(n){let e=Ae(),t=Ut(),i=eL();mC(i+1);let r=GC(t,i);if(n.dirty&&F8(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=yX(e,i);n.reset(s,M9),n.notifyOnChanges()}return!0}return!1}function Zr(){return hX(Ae(),eL())}function AK(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function Qt(n){let e=Y8();return aC(e,Ln+n)}function L(n,e=""){let t=Ae(),i=Ut(),r=n+Ln,s=i.firstCreatePass?Rh(i,r,1,e,null):i.data[r],o=kK(i,t,s,e,n);t[r]=o,yy()&&Sy(i,t,o,s),hl(s,!1)}var kK=(n,e,t,i,r)=>(_y(!0),P7(e[Lt],i));function be(n){return qe("",n,""),be}function qe(n,e,t){let i=Ae(),r=JC(i,n,e,t);return r!==ki&&rF(i,Vo(),r),qe}function eS(n,e,t,i,r,s,o){let a=Ae(),l=KX(a,n,e,t,i,r,s,o);return l!==ki&&rF(a,Vo(),l),eS}function rF(n,e,t){let i=GO(e,n);R7(n[Lt],i,t)}function Ye(n,e,t){EL(e)&&(e=e());let i=Ae(),r=my();if(Yr(i,r,e)){let s=Ut(),o=gy();NC(s,o,i,n,e,i[Lt],t,!1)}return Ye}function Je(n,e){let t=EL(n);return t&&n.set(e),t}function Xe(n,e){let t=Ae(),i=Ut(),r=Fn();return tF(i,t,t[Lt],r,n,e),Xe}function MK(n,e,t){let i=Ut();if(i.firstCreatePass){let r=Ur(n);XT(t,i.data,i.blueprint,r,!0),XT(e,i.data,i.blueprint,r,!1)}}function XT(n,e,t,i,r){if(n=Kn(n),Array.isArray(n))for(let s=0;s<n.length;s++)XT(n[s],e,t,i,r);else{let s=Ut(),o=Ae(),a=Fn(),l=$c(n)?n:Kn(n.provide),c=FO(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if($c(n)||!n.multi){let p=new al(c,r,H),g=iT(l,e,r?u:u+f,h);g===-1?(gT(Wg(a,o),s,l),nT(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[g]=p,o[g]=p)}else{let p=iT(l,e,u+f,h),g=iT(l,e,u,u+f),y=p>=0&&t[p],v=g>=0&&t[g];if(r&&!v||!r&&!y){gT(Wg(a,o),s,l);let I=OK(r?RK:PK,t.length,r,i,c);!r&&v&&(t[g].providerFactory=I),nT(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(I),o.push(I)}else{let I=sF(t[r?g:p],c,!r&&i);nT(s,n,p>-1?p:g,I)}!r&&i&&v&&t[g].componentProviders++}}}function nT(n,e,t,i){let r=$c(e),s=S8(e);if(r||s){let l=(s?Kn(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function sF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function iT(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function PK(n,e,t,i,r){return KT(this.multi,[])}function RK(n,e,t,i,r){let s=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Sh(i,i[Ne],this.providerFactory.index,r);o=l.slice(0,a),KT(s,o);for(let c=a;c<l.length;c++)o.push(l[c])}else o=[],KT(s,o);return o}function KT(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function OK(n,e,t,i,r){let s=new al(n,t,H);return s.multi=[],s.index=e,s.componentProviders=0,sF(s,r,i&&!t),s}function Ki(n,e=[]){return t=>{t.providersResolver=(i,r)=>MK(i,r?r(n):n,e)}}function ru(n,e,t){let i=Mh()+n,r=Ae();return r[i]===ki?YC(r,i,t?e.call(t):e()):BX(r,i)}function oF(n,e,t,i){return lF(Ae(),Mh(),n,e,t,i)}function Fh(n,e,t,i,r){return cF(Ae(),Mh(),n,e,t,i,r)}function aF(n,e){let t=n[e];return t===ki?void 0:t}function lF(n,e,t,i,r,s){let o=e+t;return Yr(n,o,r)?YC(n,o+1,s?i.call(s,r):i(r)):aF(n,o+1)}function cF(n,e,t,i,r,s,o){let a=e+t;return FN(n,a,r,s)?YC(n,a+2,o?i.call(o,r,s):i(r,s)):aF(n,a+2)}function ml(n,e){let t=Ut(),i,r=n+Ln;t.firstCreatePass?(i=LK(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let s=i.factory||(i.factory=el(i.type,!0)),o,a=si(H);try{let l=zg(!1),c=s();return zg(l),AK(t,Ae(),r,c),c}finally{si(a)}}function LK(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function uF(n,e,t){let i=n+Ln,r=Ae(),s=aC(r,i);return dF(r,i)?lF(r,Mh(),e,s.transform,t,s):s.transform(t)}function su(n,e,t,i){let r=n+Ln,s=Ae(),o=aC(s,r);return dF(s,r)?cF(s,Mh(),e,o.transform,t,i,o):o.transform(t,i)}function dF(n,e){return n[Ne].data[e].pure}function gl(n,e){return Iy(n,e)}var Ig=null;function NK(n){Ig!==null&&(n.defaultEncapsulation!==Ig.defaultEncapsulation||n.preserveWhitespaces!==Ig.preserveWhitespaces)||(Ig=n)}var dl=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},hF=new dl("19.2.11"),QT=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},fF=(()=>{class n{compileModuleSync(t){return new ny(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=RO(t),s=KL(r.declarations).reduce((o,a)=>{let l=Ro(a);return l&&o.push(new cl(l)),o},[]);return new QT(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FK=new re("");function VK(n,e,t){let i=new ny(t);return Promise.resolve(i)}function hO(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var BK=(()=>{class n{zone=G(De);changeDetectionScheduler=G(ll);applicationRef=G(Xr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jK({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(fe(U({},pF()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:bh,multi:!0,useFactory:()=>{let i=G(BK,{optional:!0});return()=>i.initialize()}},{provide:bh,multi:!0,useFactory:()=>{let i=G($K);return()=>{i.initialize()}}},e===!0?{provide:bL,useValue:!0}:[],{provide:wL,useValue:t??vL}]}function pF(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $K=(()=>{class n{subscription=new $t;initialized=!1;zone=G(De);pendingTasks=G(fl);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var HK=(()=>{class n{appRef=G(Xr);taskService=G(fl);ngZone=G(De);zonelessEnabled=G(xL);tracing=G(Jc,{optional:!0});disableScheduling=G(bL,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(G(wL,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yg||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?jR:TL;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jR(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UK(){return typeof $localize<"u"&&$localize.locale||ry}var ou=new re("",{providedIn:"root",factory:()=>G(ou,Me.Optional|Me.SkipSelf)||UK()}),mF=new re("",{providedIn:"root",factory:()=>bK});var sy=new re(""),zK=new re("");function gh(n){return!n.moduleRef}function WK(n){let e=gh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{gh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Gr,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),gh(n)){let s=()=>e.destroy(),o=n.platformInjector.get(sy);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(sy);o.add(s),n.moduleRef.onDestroy(()=>{Pg(n.allPlatformModules,n.moduleRef),r.unsubscribe(),o.delete(s)})}return qK(i,t,()=>{let s=e.get(HN);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(ou,ry);if(TK(o||ry),!e.get(zK,!0))return gh(n)?e.get(Xr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(gh(n)){let l=e.get(Xr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return GK(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function GK(n,e){let t=n.injector.get(Xr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new q(-403,!1);e.push(n)}function qK(n,e,t){try{let i=t();return pl(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var gF=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,i){let r=i?.scheduleInRootZone,s=()=>I9(i?.ngZone,fe(U({},pF({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),o=i?.ignoreChangesOutsideZone,a=[jK({ngZoneFactory:s,ignoreChangesOutsideZone:o}),{provide:ll,useExisting:HK}],l=CX(t.moduleType,this.injector,a);return WK({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let r=UN({},i);return VK(this.injector,r,t).then(s=>this.bootstrapModuleFactory(s,r))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(sy,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||n)(se(pt))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),xh=null,yF=new re("");function YK(n){if(xh&&!xh.get(yF,!1))throw new q(400,!1);GX(),xh=n;let e=n.get(gF);return QK(n),e}function tS(n,e,t=[]){let i=`Platform: ${e}`,r=new re(i);return(s=[])=>{let o=_F();if(!o||o.injector.get(yF,!1)){let a=[...t,...s,{provide:r,useValue:!0}];n?n(a):YK(XK(a,i))}return KK(r)}}function XK(n=[],e){return pt.create({name:e,providers:[{provide:uy,useValue:"platform"},{provide:sy,useValue:new Set([()=>xh=null])},...n]})}function KK(n){let e=_F();if(!e)throw new q(401,!1);return e}function _F(){return xh?.get(gF)??null}function QK(n){let e=n.get(TC,null);Nn(n,()=>{e?.forEach(t=>t())})}function nS(){return!1}var pr=(()=>{class n{static __NG_ELEMENT_ID__=ZK}return n})();function ZK(n){return JK(Fn(),Ae(),(n&16)===16)}function JK(n,e,t){if(qc(n)&&!t){let i=Wr(n.index,e);return new Eh(i,i)}else if(n.type&175){let i=e[Gi];return new Eh(i,e)}return null}var ZT=class{constructor(){}supports(e){return NN(e)}create(e){return new JT(e)}},eQ=(n,e)=>e,JT=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||eQ}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<fO(i,r,s)?t:i,a=fO(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){let p=f<s.length?s[f]:s[f]=0,g=p+f;u<=g&&g<c&&(s[f]=p+1)}let h=o.previousIndex;s[h]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!NN(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,FX(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new eC(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new oy),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new oy),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},eC=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},tC=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},oy=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new tC,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function fO(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function pO(){return new iS([new ZT])}var iS=(()=>{class n{factories;static \u0275prov=te({token:n,providedIn:"root",factory:pO});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||pO()),deps:[[n,new f8,new Ai]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new q(901,!1)}}return n})();var vF=tS(null,"core",[]),xF=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(se(Xr))};static \u0275mod=He({type:n});static \u0275inj=$e({})}return n})();function $o(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Jr(n){return Ew(n)}function au(n,e){return ww(n,e?.equal)}var mO=class{[Ui];constructor(e){this[Ui]=e}destroy(){this[Ui].destroy()}};function bF(n,e){let t=Ro(n),i=e.elementInjector||dy();return new cl(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function wF(n){let e=Ro(n);if(!e)return null;let t=new cl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Zt=new re("");var SF=null;function Mi(){return SF}function rS(n){SF??=n}var Vh=class{},Bh=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>G(EF),providedIn:"platform"})}return n})(),sS=new re(""),EF=(()=>{class n extends Bh{_location;_history;_doc=G(Zt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mi().getBaseHref(this._doc)}onPopState(t){let i=Mi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Mi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Py(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function TF(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function mr(n){return n&&n[0]!=="?"?`?${n}`:n}var gr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>G(Oy),providedIn:"root"})}return n})(),Ry=new re(""),Oy=(()=>{class n extends gr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??G(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Py(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+mr(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+mr(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+mr(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(se(Bh),se(Ry,8))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ho=(()=>{class n{_subject=new Xt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=iQ(TF(CF(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+mr(i))}normalize(t){return n.stripTrailingSlash(nQ(this._basePath,CF(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mr(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=mr;static joinWithSlash=Py;static stripTrailingSlash=TF;static \u0275fac=function(i){return new(i||n)(se(gr))};static \u0275prov=te({token:n,factory:()=>tQ(),providedIn:"root"})}return n})();function tQ(){return new Ho(se(gr))}function nQ(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function CF(n){return n.replace(/\/index.html$/,"")}function iQ(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var hS=(()=>{class n extends gr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Py(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+mr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+mr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(se(Bh),se(Ry,8))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),RF={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},zy=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(zy||{});var Vn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Vn||{}),mt=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(mt||{}),pi=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(pi||{}),wn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function OF(n){return fi(n)[Nt.LocaleId]}function LF(n,e,t){let i=fi(n),r=[i[Nt.DayPeriodsFormat],i[Nt.DayPeriodsStandalone]],s=Qi(r,e);return Qi(s,t)}function NF(n,e,t){let i=fi(n),r=[i[Nt.DaysFormat],i[Nt.DaysStandalone]],s=Qi(r,e);return Qi(s,t)}function FF(n,e,t){let i=fi(n),r=[i[Nt.MonthsFormat],i[Nt.MonthsStandalone]],s=Qi(r,e);return Qi(s,t)}function VF(n,e){let i=fi(n)[Nt.Eras];return Qi(i,e)}function jh(n,e){let t=fi(n);return Qi(t[Nt.DateFormat],e)}function $h(n,e){let t=fi(n);return Qi(t[Nt.TimeFormat],e)}function Hh(n,e){let i=fi(n)[Nt.DateTimeFormat];return Qi(i,e)}function _r(n,e){let t=fi(n),i=t[Nt.NumberSymbols][e];if(typeof i>"u"){if(e===wn.CurrencyDecimal)return t[Nt.NumberSymbols][wn.Decimal];if(e===wn.CurrencyGroup)return t[Nt.NumberSymbols][wn.Group]}return i}function fS(n,e){return fi(n)[Nt.NumberFormats][e]}function rQ(n){return fi(n)[Nt.Currencies]}function BF(n){if(!n[Nt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Nt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jF(n){let e=fi(n);return BF(e),(e[Nt.ExtraData][2]||[]).map(i=>typeof i=="string"?oS(i):[oS(i[0]),oS(i[1])])}function $F(n,e,t){let i=fi(n);BF(i);let r=[i[Nt.ExtraData][0],i[Nt.ExtraData][1]],s=Qi(r,e)||[];return Qi(s,t)||[]}function Qi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function oS(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function HF(n,e,t="en"){let i=rQ(t)[n]||RF[n]||[],r=i[1];return e==="narrow"&&typeof r=="string"?r:i[0]||n}var sQ=2;function UF(n){let e,t=RF[n];return t&&(e=t[2]),typeof e=="number"?e:sQ}var oQ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ly={},aQ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function zF(n,e,t,i){let r=gQ(n);e=Gs(t,e)||e;let o=[],a;for(;e;)if(a=aQ.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=GF(i,l),r=mQ(r,i));let c="";return o.forEach(u=>{let h=fQ(u);c+=h?h(r,t,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function jy(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Gs(n,e){let t=OF(n);if(Ly[t]??={},Ly[t][e])return Ly[t][e];let i="";switch(e){case"shortDate":i=jh(n,pi.Short);break;case"mediumDate":i=jh(n,pi.Medium);break;case"longDate":i=jh(n,pi.Long);break;case"fullDate":i=jh(n,pi.Full);break;case"shortTime":i=$h(n,pi.Short);break;case"mediumTime":i=$h(n,pi.Medium);break;case"longTime":i=$h(n,pi.Long);break;case"fullTime":i=$h(n,pi.Full);break;case"short":let r=Gs(n,"shortTime"),s=Gs(n,"shortDate");i=Ny(Hh(n,pi.Short),[r,s]);break;case"medium":let o=Gs(n,"mediumTime"),a=Gs(n,"mediumDate");i=Ny(Hh(n,pi.Medium),[o,a]);break;case"long":let l=Gs(n,"longTime"),c=Gs(n,"longDate");i=Ny(Hh(n,pi.Long),[l,c]);break;case"full":let u=Gs(n,"fullTime"),h=Gs(n,"fullDate");i=Ny(Hh(n,pi.Full),[u,h]);break}return i&&(Ly[t][e]=i),i}function Ny(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function yr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function lQ(n,e){return yr(n,3).substring(0,e)}function Jt(n,e,t=0,i=!1,r=!1){return function(s,o){let a=cQ(n,s);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return lQ(a,e);let l=_r(o,wn.MinusSign);return yr(a,e,l,i,r)}}function cQ(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ct(n,e,t=Vn.Format,i=!1){return function(r,s){return uQ(r,s,n,e,t,i)}}function uQ(n,e,t,i,r,s){switch(t){case 2:return FF(e,r,i)[n.getMonth()];case 1:return NF(e,r,i)[n.getDay()];case 0:let o=n.getHours(),a=n.getMinutes();if(s){let c=jF(e),u=$F(e,r,i),h=c.findIndex(f=>{if(Array.isArray(f)){let[p,g]=f,y=o>=p.hours&&a>=p.minutes,v=o<g.hours||o===g.hours&&a<g.minutes;if(p.hours<g.hours){if(y&&v)return!0}else if(y||v)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return LF(e,r,i)[o<12?0:1];case 3:return VF(e,i)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function Fy(n){return function(e,t,i){let r=-1*i,s=_r(t,wn.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+yr(o,2,s)+yr(Math.abs(r%60),2,s);case 1:return"GMT"+(r>=0?"+":"")+yr(o,1,s);case 2:return"GMT"+(r>=0?"+":"")+yr(o,2,s)+":"+yr(Math.abs(r%60),2,s);case 3:return i===0?"Z":(r>=0?"+":"")+yr(o,2,s)+":"+yr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}var dQ=0,By=4;function hQ(n){let e=jy(n,dQ,1).getDay();return jy(n,0,1+(e<=By?By:By+7)-e)}function WF(n){let e=n.getDay(),t=e===0?-3:By-e;return jy(n.getFullYear(),n.getMonth(),n.getDate()+t)}function aS(n,e=!1){return function(t,i){let r;if(e){let s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{let s=WF(t),o=hQ(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return yr(r,n,_r(i,wn.MinusSign))}}function Vy(n,e=!1){return function(t,i){let s=WF(t).getFullYear();return yr(s,n,_r(i,wn.MinusSign),e)}}var lS={};function fQ(n){if(lS[n])return lS[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ct(3,mt.Abbreviated);break;case"GGGG":e=Ct(3,mt.Wide);break;case"GGGGG":e=Ct(3,mt.Narrow);break;case"y":e=Jt(0,1,0,!1,!0);break;case"yy":e=Jt(0,2,0,!0,!0);break;case"yyy":e=Jt(0,3,0,!1,!0);break;case"yyyy":e=Jt(0,4,0,!1,!0);break;case"Y":e=Vy(1);break;case"YY":e=Vy(2,!0);break;case"YYY":e=Vy(3);break;case"YYYY":e=Vy(4);break;case"M":case"L":e=Jt(1,1,1);break;case"MM":case"LL":e=Jt(1,2,1);break;case"MMM":e=Ct(2,mt.Abbreviated);break;case"MMMM":e=Ct(2,mt.Wide);break;case"MMMMM":e=Ct(2,mt.Narrow);break;case"LLL":e=Ct(2,mt.Abbreviated,Vn.Standalone);break;case"LLLL":e=Ct(2,mt.Wide,Vn.Standalone);break;case"LLLLL":e=Ct(2,mt.Narrow,Vn.Standalone);break;case"w":e=aS(1);break;case"ww":e=aS(2);break;case"W":e=aS(1,!0);break;case"d":e=Jt(2,1);break;case"dd":e=Jt(2,2);break;case"c":case"cc":e=Jt(7,1);break;case"ccc":e=Ct(1,mt.Abbreviated,Vn.Standalone);break;case"cccc":e=Ct(1,mt.Wide,Vn.Standalone);break;case"ccccc":e=Ct(1,mt.Narrow,Vn.Standalone);break;case"cccccc":e=Ct(1,mt.Short,Vn.Standalone);break;case"E":case"EE":case"EEE":e=Ct(1,mt.Abbreviated);break;case"EEEE":e=Ct(1,mt.Wide);break;case"EEEEE":e=Ct(1,mt.Narrow);break;case"EEEEEE":e=Ct(1,mt.Short);break;case"a":case"aa":case"aaa":e=Ct(0,mt.Abbreviated);break;case"aaaa":e=Ct(0,mt.Wide);break;case"aaaaa":e=Ct(0,mt.Narrow);break;case"b":case"bb":case"bbb":e=Ct(0,mt.Abbreviated,Vn.Standalone,!0);break;case"bbbb":e=Ct(0,mt.Wide,Vn.Standalone,!0);break;case"bbbbb":e=Ct(0,mt.Narrow,Vn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ct(0,mt.Abbreviated,Vn.Format,!0);break;case"BBBB":e=Ct(0,mt.Wide,Vn.Format,!0);break;case"BBBBB":e=Ct(0,mt.Narrow,Vn.Format,!0);break;case"h":e=Jt(3,1,-12);break;case"hh":e=Jt(3,2,-12);break;case"H":e=Jt(3,1);break;case"HH":e=Jt(3,2);break;case"m":e=Jt(4,1);break;case"mm":e=Jt(4,2);break;case"s":e=Jt(5,1);break;case"ss":e=Jt(5,2);break;case"S":e=Jt(6,1);break;case"SS":e=Jt(6,2);break;case"SSS":e=Jt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Fy(0);break;case"ZZZZZ":e=Fy(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Fy(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Fy(2);break;default:return null}return lS[n]=e,e}function GF(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function pQ(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function mQ(n,e,t){let r=n.getTimezoneOffset(),s=GF(e,r);return pQ(n,-1*(s-r))}function gQ(n){if(IF(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,s=1,o=1]=n.split("-").map(a=>+a);return jy(r,s-1,o)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(oQ))return yQ(i)}let e=new Date(n);if(!IF(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function yQ(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return s.call(e,o,a,l,c),e}function IF(n){return n instanceof Date&&!isNaN(n.valueOf())}var _Q=/^(\d+)?\.((\d+)(-(\d+))?)?$/,DF=22,$y=".",Uh="0",vQ=";",xQ=",",cS="#",AF="\xA4";function qF(n,e,t,i,r,s,o=!1){let a="",l=!1;if(!isFinite(n))a=_r(t,wn.Infinity);else{let c=wQ(n);o&&(c=bQ(c));let u=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){let M=s.match(_Q);if(M===null)throw new Error(`${s} is not a valid digit info`);let O=M[1],N=M[3],F=M[5];O!=null&&(u=uS(O)),N!=null&&(h=uS(N)),F!=null?f=uS(F):N!=null&&h>f&&(f=h)}TQ(c,h,f);let p=c.digits,g=c.integerLen,y=c.exponent,v=[];for(l=p.every(M=>!M);g<u;g++)p.unshift(0);for(;g<0;g++)p.unshift(0);g>0?v=p.splice(g,p.length):(v=p,p=[0]);let I=[];for(p.length>=e.lgSize&&I.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)I.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&I.unshift(p.join("")),a=I.join(_r(t,i)),v.length&&(a+=_r(t,r)+v.join("")),y&&(a+=_r(t,wn.Exponential)+"+"+y)}return n<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function YF(n,e,t,i,r){let s=fS(e,zy.Currency),o=KF(s,_r(e,wn.MinusSign));return o.minFrac=UF(i),o.maxFrac=o.minFrac,qF(n,o,e,wn.CurrencyGroup,wn.CurrencyDecimal,r).replace(AF,t).replace(AF,"").trim()}function XF(n,e,t){let i=fS(e,zy.Decimal),r=KF(i,_r(e,wn.MinusSign));return qF(n,r,e,wn.Group,wn.Decimal,t)}function KF(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(vQ),r=i[0],s=i[1],o=r.indexOf($y)!==-1?r.split($y):[r.substring(0,r.lastIndexOf(Uh)+1),r.substring(r.lastIndexOf(Uh)+1)],a=o[0],l=o[1]||"";t.posPre=a.substring(0,a.indexOf(cS));for(let u=0;u<l.length;u++){let h=l.charAt(u);h===Uh?t.minFrac=t.maxFrac=u+1:h===cS?t.maxFrac=u+1:t.posSuf+=h}let c=a.split(xQ);if(t.gSize=c[1]?c[1].length:0,t.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){let u=r.length-t.posPre.length-t.posSuf.length,h=s.indexOf(cS);t.negPre=s.substring(0,h).replace(/'/g,""),t.negSuf=s.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function bQ(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function wQ(n){let e=Math.abs(n)+"",t=0,i,r,s,o,a;for((r=e.indexOf($y))>-1&&(e=e.replace($y,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Uh;s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===Uh;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>DF&&(i=i.splice(0,DF-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function TQ(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen,s=Math.min(Math.max(e,r),t),o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let h=o;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let h=1;h<o;h++)i[h]=0}if(a>=5)if(o-1<0){for(let h=0;h>o;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=s!==0,c=e+n.integerLen,u=i.reduceRight(function(h,f,p,g){return f=f+h,g[p]=f<10?f:f-10,l&&(g[p]===0&&p>=c?g.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}function uS(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var dS=/\s+/,kF=[],yl=(()=>{class n{_ngEl;_renderer;initialClasses=kF;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(dS):kF}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(dS):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(dS).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(H(_t),H(di))};static \u0275dir=it({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Hy=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new Hy(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),MF(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);MF(s,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(H(Yi),H(Oo),H(iS))};static \u0275dir=it({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function MF(n,e){n.context.$implicit=e.item}var ct=(()=>{class n{_viewContainer;_context=new Uy;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PF(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PF(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(H(Yi),H(Oo))};static \u0275dir=it({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Uy=class{$implicit=null;ngIf=null};function PF(n,e){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}var pS=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(H(Yi))};static \u0275dir=it({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[st]})}return n})();function mS(n,e){return new q(2100,!1)}var CQ="mediumDate",QF=new re(""),ZF=new re(""),gS=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(t==null||t===""||t!==t)return null;try{let o=i??this.defaultOptions?.dateFormat??CQ,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zF(t,o,s||this.locale,a)}catch(o){throw mS(n,o.message)}}static \u0275fac=function(i){return new(i||n)(H(ou,16),H(QF,24),H(ZF,24))};static \u0275pipe=Dy({name:"date",type:n,pure:!0})}return n})();var zh=(()=>{class n{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!JF(t))return null;r||=this._locale;try{let s=e2(t);return XF(s,r,i)}catch(s){throw mS(n,s.message)}}static \u0275fac=function(i){return new(i||n)(H(ou,16))};static \u0275pipe=Dy({name:"number",type:n,pure:!0})}return n})();var yS=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",s,o){if(!JF(t))return null;o||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=HF(a,r==="symbol"?"wide":"narrow",o):a=r);try{let l=e2(t);return YF(l,o,a,i,s)}catch(l){throw mS(n,l.message)}}static \u0275fac=function(i){return new(i||n)(H(ou,16),H(mF,16))};static \u0275pipe=Dy({name:"currency",type:n,pure:!0})}return n})();function JF(n){return!(n==null||n===""||n!==n)}function e2(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var es=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({})}return n})();function _S(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Wy="browser",t2="server";function Uo(n){return n===Wy}function zo(n){return n===t2}var Wh=class{};var n2=(()=>{class n{static \u0275prov=te({token:n,providedIn:"root",factory:()=>new vS(G(Zt),window)})}return n})(),vS=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=SQ(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function SQ(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Yy=new re(""),TS=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,s){return this._findPluginFor(i).addEventListener(t,i,r,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(se(Yy),se(De))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),Gh=class{_doc;constructor(e){this._doc=e}manager},Gy="ng-app-id";function i2(n){for(let e of n)e.remove()}function r2(n,e){let t=e.createElement("style");return t.textContent=n,t}function EQ(n,e,t,i){let r=n.head?.querySelectorAll(`style[${Gy}="${e}"],link[${Gy}="${e}"]`);if(r)for(let s of r)s.removeAttribute(Gy),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function bS(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var CS=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=zo(s),EQ(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,r2);i?.forEach(r=>this.addUsage(r,this.external,bS))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let s=i.get(t);s?s.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(i2(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])i2(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,r2(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,bS(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Gy,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(se(Zt),se(xy),se(SC,8),se(Qn))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),xS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},SS=/%COMP%/g;var o2="%COMP%",IQ=`_nghost-${o2}`,DQ=`_ngcontent-${o2}`,AQ=!0,kQ=new re("",{providedIn:"root",factory:()=>AQ});function MQ(n){return DQ.replace(SS,n)}function PQ(n){return IQ.replace(SS,n)}function a2(n,e){return e.map(t=>t.replace(SS,n))}var Xh=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,s,o,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=zo(a),this.defaultRenderer=new qh(t,o,l,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===qr.ShadowDom&&(i=fe(U({},i),{encapsulation:qr.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof qy?r.applyToHost(t):r instanceof Yh&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(i.encapsulation){case qr.Emulated:s=new qy(l,c,i,this.appId,u,o,a,h,f);break;case qr.ShadowDom:return new wS(l,c,t,i,o,a,this.nonce,h,f);default:s=new Yh(l,c,i,u,o,a,h,f);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(se(TS),se(CS),se(xy),se(kQ),se(Zt),se(Qn),se(De),se(SC),se(Jc,8))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),qh=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(xS[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(s2(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(s2(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new q(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=xS[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=xS[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&($s.DashCase|$s.Important)?e.style.setProperty(t,i,r&$s.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&$s.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=Mi().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let s=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function s2(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var wS=class extends qh{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,s,o,a,l,c){super(e,s,o,l,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=r.styles;u=a2(r.id,u);for(let f of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let h=r.getExternalStyles?.();if(h)for(let f of h){let p=bS(f,s);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yh=class extends qh{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,s,o,a,l,c){super(e,s,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let u=i.styles;this.styles=c?a2(c,u):u,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qy=class extends Yh{contentAttr;hostAttr;constructor(e,t,i,r,s,o,a,l,c){let u=r+"-"+i.id;super(e,t,i,s,o,a,l,c,u),this.contentAttr=MQ(u),this.hostAttr=PQ(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var Xy=class n extends Vh{supportsDOMEvents=!0;static makeCurrent(){rS(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RQ();return t==null?null:OQ(t)}resetBaseElement(){Kh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _S(document.cookie,e)}},Kh=null;function RQ(){return Kh=Kh||document.querySelector("base"),Kh?Kh.getAttribute("href"):null}function OQ(n){return new URL(n,document.baseURI).pathname}var Ky=class{addToWindow(e){xn.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new q(5103,!1);return s},xn.getAllAngularTestabilities=()=>e.getAllTestabilities(),xn.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let r=xn.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};xn.frameworkStabilizers||(xn.frameworkStabilizers=[]),xn.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let r=e.getTestability(t);return r??(i?Mi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},LQ=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),c2=(()=>{class n extends Gh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,s){return t.addEventListener(i,r,s),()=>this.removeEventListener(t,i,r,s)}removeEventListener(t,i,r,s){return t.removeEventListener(i,r,s)}static \u0275fac=function(i){return new(i||n)(se(Zt))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),l2=["alt","control","meta","shift"],NQ={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},u2=(()=>{class n extends Gh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,s){let o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mi().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),l2.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(t,i){let r=NQ[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),l2.forEach(o=>{if(o!==r){let a=FQ[o];a(t)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(se(Zt))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function VQ(){Xy.makeCurrent()}function BQ(){return new Gr}function jQ(){return RL(document),document}var $Q=[{provide:Qn,useValue:Wy},{provide:TC,useValue:VQ,multi:!0},{provide:Zt,useFactory:jQ}],ES=tS(vF,"browser",$Q);var HQ=[{provide:Lh,useClass:Ky},{provide:XC,useClass:Ay,deps:[De,ky,Lh]},{provide:Ay,useClass:Ay,deps:[De,ky,Lh]}],UQ=[{provide:uy,useValue:"root"},{provide:Gr,useFactory:BQ},{provide:Yy,useClass:c2,multi:!0,deps:[Zt]},{provide:Yy,useClass:u2,multi:!0,deps:[Zt]},Xh,CS,TS,{provide:Lo,useExisting:Xh},{provide:Wh,useClass:LQ},[]],Qh=(()=>{class n{constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({providers:[...UQ,...HQ],imports:[es,xF]})}return n})();var d2=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(se(Zt))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x2=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(H(di),H(_t))};static \u0275dir=it({type:n})}return n})(),r_=(()=>{class n extends x2{static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,features:[bn]})}return n})(),sf=new re("");var WQ={provide:sf,useExisting:qi(()=>jn),multi:!0};function GQ(){let n=Mi()?Mi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var qQ=new re(""),jn=(()=>{class n extends x2{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!GQ())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(H(di),H(_t),H(qQ,8))};static \u0275dir=it({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&J("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[Ki([WQ]),bn]})}return n})();function b2(n){return n==null||YQ(n)===0}function YQ(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var of=new re(""),w2=new re("");function XQ(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function KQ(n){return b2(n.value)?{required:!0}:null}function QQ(n){if(!n)return IS;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(b2(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function IS(n){return null}function T2(n){return n!=null}function C2(n){return pl(n)?wt(n):n}function S2(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function E2(n,e){return e.map(t=>t(n))}function ZQ(n){return!n.validate}function I2(n){return n.map(e=>ZQ(e)?e:t=>e.validate(t))}function JQ(n){if(!n)return null;let e=n.filter(T2);return e.length==0?null:function(t){return S2(E2(t,e))}}function MS(n){return n!=null?JQ(I2(n)):null}function eZ(n){if(!n)return null;let e=n.filter(T2);return e.length==0?null:function(t){let i=E2(t,e).map(C2);return jw(i).pipe(Ie(S2))}}function PS(n){return n!=null?eZ(I2(n)):null}function h2(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tZ(n){return n._rawValidators}function nZ(n){return n._rawAsyncValidators}function DS(n){return n?Array.isArray(n)?n:[n]:[]}function Zy(n,e){return Array.isArray(n)?n.includes(e):n===e}function f2(n,e){let t=DS(e);return DS(n).forEach(r=>{Zy(t,r)||t.push(r)}),t}function p2(n,e){return DS(e).filter(t=>!Zy(n,t))}var Jy=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=PS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},uu=class extends Jy{name;get formDirective(){return null}get path(){return null}},rf=class extends Jy{_parent=null;name=null;valueAccessor=null},e_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},iZ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oAe=fe(U({},iZ),{"[class.ng-submitted]":"isSubmitted"}),fn=(()=>{class n extends e_{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(H(rf,2))};static \u0275dir=it({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Xi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[bn]})}return n})(),Zi=(()=>{class n extends e_{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(H(uu,10))};static \u0275dir=it({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Xi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[bn]})}return n})();var Zh="VALID",Qy="INVALID",lu="PENDING",Jh="DISABLED",Wo=class{},t_=class extends Wo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},tf=class extends Wo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},nf=class extends Wo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},cu=class extends Wo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},AS=class extends Wo{source;constructor(e){super(),this.source=e}},kS=class extends Wo{source;constructor(e){super(),this.source=e}};function D2(n){return(s_(n)?n.validators:n)||null}function rZ(n){return Array.isArray(n)?MS(n):n||null}function A2(n,e){return(s_(e)?e.asyncValidators:n)||null}function sZ(n){return Array.isArray(n)?PS(n):n||null}function s_(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function oZ(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new q(1e3,"");if(!i[t])throw new q(1001,"")}function aZ(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new q(1002,"")})}var n_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Jr(this.statusReactive)}set status(e){Jr(()=>this.statusReactive.set(e))}_status=au(()=>this.statusReactive());statusReactive=Qc(void 0);get valid(){return this.status===Zh}get invalid(){return this.status===Qy}get pending(){return this.status==lu}get disabled(){return this.status===Jh}get enabled(){return this.status!==Jh}errors;get pristine(){return Jr(this.pristineReactive)}set pristine(e){Jr(()=>this.pristineReactive.set(e))}_pristine=au(()=>this.pristineReactive());pristineReactive=Qc(!0);get dirty(){return!this.pristine}get touched(){return Jr(this.touchedReactive)}set touched(e){Jr(()=>this.touchedReactive.set(e))}_touched=au(()=>this.touchedReactive());touchedReactive=Qc(!1);get untouched(){return!this.touched}_events=new Xt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(f2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(f2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(p2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(p2(e,this._rawAsyncValidators))}hasValidator(e){return Zy(this._rawValidators,e)}hasAsyncValidator(e){return Zy(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(U({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new nf(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new nf(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(U({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new tf(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new tf(!0,i))}markAsPending(e={}){this.status=lu;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cu(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jh,this.errors=null,this._forEachChild(r=>{r.disable(fe(U({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new t_(this.value,i)),this._events.next(new cu(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Zh,this._forEachChild(i=>{i.enable(fe(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zh||this.status===lu)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new t_(this.value,t)),this._events.next(new cu(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jh:Zh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=lu,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=C2(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new cu(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?Jh:this.errors?Qy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lu)?lu:this._anyControlsHaveStatus(Qy)?Qy:Zh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new tf(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new nf(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){s_(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rZ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=sZ(this._rawAsyncValidators)}},i_=class extends n_{constructor(e,t,i){super(D2(t),A2(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){aZ(this,!0,e),Object.keys(e).forEach(i=>{oZ(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var o_=new re("",{providedIn:"root",factory:()=>a_}),a_="always";function lZ(n,e){return[...e.path,n]}function k2(n,e,t=a_){M2(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),uZ(n,e),hZ(n,e),dZ(n,e),cZ(n,e)}function m2(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cZ(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function M2(n,e){let t=tZ(n);e.validator!==null?n.setValidators(h2(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=nZ(n);e.asyncValidator!==null?n.setAsyncValidators(h2(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();m2(e._rawValidators,r),m2(e._rawAsyncValidators,r)}function uZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&P2(n,e)})}function dZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&P2(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function P2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hZ(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fZ(n,e){n==null,M2(n,e)}function pZ(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function mZ(n){return Object.getPrototypeOf(n.constructor)===r_}function gZ(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function yZ(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===jn?t=s:mZ(s)?i=s:r=s}),r||i||t||null}var _Z={provide:uu,useExisting:qi(()=>Pi)},ef=Promise.resolve(),Pi=(()=>{class n extends uu{callSetDisabledState;get submitted(){return Jr(this.submittedReactive)}_submitted=au(()=>this.submittedReactive());submittedReactive=Qc(!1);_directives=new Set;form;ngSubmit=new ce;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new i_({},MS(t),PS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ef.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),k2(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ef.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ef.then(()=>{let i=this._findContainer(t.path),r=new i_({});fZ(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ef.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ef.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),gZ(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new AS(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new kS(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(H(of,10),H(w2,10),H(o_,8))};static \u0275dir=it({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&J("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ki([_Z]),bn]})}return n})();function g2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function y2(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var vZ=class extends n_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(D2(t),A2(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),s_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(y2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){g2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){g2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){y2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xZ={provide:rf,useExisting:qi(()=>on)},_2=Promise.resolve(),on=(()=>{class n extends rf{_changeDetectorRef;callSetDisabledState;control=new vZ;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ce;constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=yZ(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),pZ(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){k2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){_2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&$o(i);_2.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?lZ(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(H(uu,9),H(of,10),H(w2,10),H(sf,10),H(pr,8),H(o_,8))};static \u0275dir=it({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ki([xZ]),bn,st]})}return n})();var Ji=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=it({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),bZ={provide:sf,useExisting:qi(()=>vr),multi:!0},vr=(()=>{class n extends r_{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&J("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ki([bZ]),bn]})}return n})();var wZ=new re("");var TZ={provide:sf,useExisting:qi(()=>ts),multi:!0};function R2(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function CZ(n){return n.split(":")[0]}var ts=(()=>{class n extends r_{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=R2(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=CZ(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&J("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ki([TZ]),bn]})}return n})(),Go=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(R2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(H(_t),H(di),H(ts,9))};static \u0275dir=it({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),SZ={provide:sf,useExisting:qi(()=>O2),multi:!0};function v2(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function EZ(n){return n.split(":")[0]}var O2=(()=>{class n extends r_{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],s=i.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let l=o[a],c=this._getOptionValue(l.value);r.push(c)}}else{let o=i.options;for(let a=0;a<o.length;a++){let l=o[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=EZ(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&J("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ki([SZ]),bn]})}return n})(),qo=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(v2(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(v2(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(H(_t),H(di),H(O2,9))};static \u0275dir=it({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function IZ(n){return typeof n=="number"?n:parseFloat(n)}var RS=(()=>{class n{_validator=IS;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):IS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=it({type:n,features:[st]})}return n})();var DZ={provide:of,useExisting:qi(()=>xr),multi:!0},xr=(()=>{class n extends RS{min;inputName="min";normalizeInput=t=>IZ(t);createValidator=t=>XQ(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Le("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Ki([DZ]),bn]})}return n})(),AZ={provide:of,useExisting:qi(()=>Ri),multi:!0};var Ri=(()=>{class n extends RS{required;inputName="required";normalizeInput=$o;createValidator=t=>KQ;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Le("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ki([AZ]),bn]})}return n})();var kZ={provide:of,useExisting:qi(()=>af),multi:!0},af=(()=>{class n extends RS{pattern;inputName="pattern";normalizeInput=t=>t;createValidator=t=>QQ(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275dir=it({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Le("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Ki([kZ]),bn]})}return n})();var L2=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({})}return n})();var N2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:o_,useValue:t.callSetDisabledState??a_}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({imports:[L2]})}return n})(),F2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wZ,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:o_,useValue:t.callSetDisabledState??a_}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({imports:[L2]})}return n})();var ke="primary",xf=Symbol("RouteTitle"),VS=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function xl(n){return new VS(n)}function W2(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function MZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ns(n[t],e[t]))return!1;return!0}function ns(n,e){let t=n?BS(n):void 0,i=e?BS(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!G2(n[r],e[r]))return!1;return!0}function BS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function G2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function q2(n){return n.length>0?n[n.length-1]:null}function Zo(n){return Bw(n)?n:pl(n)?wt(Promise.resolve(n)):ye(n)}var PZ={exact:X2,subset:K2},Y2={exact:RZ,subset:OZ,ignored:()=>!0};function V2(n,e,t){return PZ[t.paths](n.root,e.root,t.matrixParams)&&Y2[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function RZ(n,e){return ns(n,e)}function X2(n,e,t){if(!_l(n.segments,e.segments)||!u_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!X2(n.children[i],e.children[i],t))return!1;return!0}function OZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>G2(n[t],e[t]))}function K2(n,e,t){return Q2(n,e,e.segments,t)}function Q2(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!_l(r,t)||e.hasChildren()||!u_(r,t,i))}else if(n.segments.length===t.length){if(!_l(n.segments,t)||!u_(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!K2(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!_l(n.segments,r)||!u_(n.segments,r,i)||!n.children[ke]?!1:Q2(n.children[ke],e,s,i)}}function u_(n,e,t){return e.every((i,r)=>Y2[t](n[r].parameters,i.parameters))}var rs=class{root;queryParams;fragment;_queryParamMap;constructor(e=new at([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xl(this.queryParams),this._queryParamMap}toString(){return FZ.serialize(this)}},at=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return d_(this)}},Yo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=xl(this.parameters),this._parameterMap}toString(){return J2(this)}};function LZ(n,e){return _l(n,e)&&n.every((t,i)=>ns(t.parameters,e[i].parameters))}function _l(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function NZ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===ke&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ke&&(t=t.concat(e(r,i)))}),t}var bl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>new Xo,providedIn:"root"})}return n})(),Xo=class{parse(e){let t=new $S(e);return new rs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${lf(e.root,!0)}`,i=jZ(e.queryParams),r=typeof e.fragment=="string"?`#${VZ(e.fragment)}`:"";return`${t}${i}${r}`}},FZ=new Xo;function d_(n){return n.segments.map(e=>J2(e)).join("/")}function lf(n,e){if(!n.hasChildren())return d_(n);if(e){let t=n.children[ke]?lf(n.children[ke],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ke&&i.push(`${r}:${lf(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=NZ(n,(i,r)=>r===ke?[lf(n.children[ke],!1)]:[`${r}:${lf(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ke]!=null?`${d_(n)}/${t[0]}`:`${d_(n)}/(${t.join("//")})`}}function Z2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function l_(n){return Z2(n).replace(/%3B/gi,";")}function VZ(n){return encodeURI(n)}function jS(n){return Z2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function h_(n){return decodeURIComponent(n)}function B2(n){return h_(n.replace(/\+/g,"%20"))}function J2(n){return`${jS(n.path)}${BZ(n.parameters)}`}function BZ(n){return Object.entries(n).map(([e,t])=>`;${jS(e)}=${jS(t)}`).join("")}function jZ(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${l_(t)}=${l_(r)}`).join("&"):`${l_(t)}=${l_(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var $Z=/^[^\/()?;#]+/;function OS(n){let e=n.match($Z);return e?e[0]:""}var HZ=/^[^\/()?;=#]+/;function UZ(n){let e=n.match(HZ);return e?e[0]:""}var zZ=/^[^=?&#]+/;function WZ(n){let e=n.match(zZ);return e?e[0]:""}var GZ=/^[^&#]+/;function qZ(n){let e=n.match(GZ);return e?e[0]:""}var $S=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new at([],{}):new at([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ke]=new at(e,t)),i}parseSegment(){let e=OS(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Yo(h_(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=UZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=OS(this.remaining);r&&(i=r,this.capture(i))}e[h_(t)]=h_(i)}parseQueryParam(e){let t=WZ(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=qZ(this.remaining);o&&(i=o,this.capture(i))}let r=B2(t),s=B2(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=OS(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new q(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ke);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[ke]:new at([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function eV(n){return n.segments.length>0?new at([],{[ke]:n}):n}function tV(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=tV(r);if(i===ke&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new at(n.segments,e);return YZ(t)}function YZ(n){if(n.numberOfChildren===1&&n.children[ke]){let e=n.children[ke];return new at(n.segments.concat(e.segments),e.children)}return n}function Ko(n){return n instanceof rs}function nV(n,e,t=null,i=null){let r=iV(n);return rV(r,e,t,i)}function iV(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new at(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=eV(i);return e??r}function rV(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return LS(r,r,r,t,i);let s=XZ(e);if(s.toRoot())return LS(r,r,new at([],{}),t,i);let o=KZ(s,r,n),a=o.processChildren?uf(o.segmentGroup,o.index,s.commands):oV(o.segmentGroup,o.index,s.commands);return LS(r,o.segmentGroup,a,t,i)}function p_(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function hf(n){return typeof n=="object"&&n!=null&&n.outlets}function LS(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=sV(n,e,t);let a=eV(tV(o));return new rs(a,s,r)}function sV(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=sV(s,e,t)}),new at(n.segments,i)}var m_=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&p_(i[0]))throw new q(4003,!1);let r=i.find(hf);if(r&&r!==q2(i))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XZ(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new m_(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new m_(t,e,i)}var fu=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function KZ(n,e,t){if(n.isAbsolute)return new fu(e,!0,0);if(!t)return new fu(e,!1,NaN);if(t.parent===null)return new fu(t,!0,0);let i=p_(n.commands[0])?0:1,r=t.segments.length-1+i;return QZ(t,r,n.numberOfDoubleDots)}function QZ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new q(4005,!1);r=i.segments.length}return new fu(i,!1,r-s)}function ZZ(n){return hf(n[0])?n[0].outlets:{[ke]:n}}function oV(n,e,t){if(n??=new at([],{}),n.segments.length===0&&n.hasChildren())return uf(n,e,t);let i=JZ(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new at(n.segments.slice(0,i.pathIndex),{});return s.children[ke]=new at(n.segments.slice(i.pathIndex),n.children),uf(s,0,r)}else return i.match&&r.length===0?new at(n.segments,{}):i.match&&!n.hasChildren()?HS(n,e,t):i.match?uf(n,0,r):HS(n,e,t)}function uf(n,e,t){if(t.length===0)return new at(n.segments,{});{let i=ZZ(t),r={};if(Object.keys(i).some(s=>s!==ke)&&n.children[ke]&&n.numberOfChildren===1&&n.children[ke].segments.length===0){let s=uf(n.children[ke],e,t);return new at(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=oV(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new at(n.segments,r)}}function JZ(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(hf(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!$2(l,c,o))return s;i+=2}else{if(!$2(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function HS(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(hf(s)){let l=eJ(s.outlets);return new at(i,l)}if(r===0&&p_(t[0])){let l=n.segments[e];i.push(new Yo(l.path,j2(t[0]))),r++;continue}let o=hf(s)?s.outlets[ke]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&p_(a)?(i.push(new Yo(o,j2(a))),r+=2):(i.push(new Yo(o,{})),r++)}return new at(i,{})}function eJ(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=HS(new at([],{}),0,i))}),e}function j2(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function $2(n,e,t){return n==t.path&&ns(e,t.parameters)}var f_="imperative",an=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(an||{}),Li=class{id;url;constructor(e,t){this.id=e,this.url=t}},Qo=class extends Li{type=an.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends Li{urlAfterRedirects;type=an.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(mi||{}),mu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(mu||{}),is=class extends Li{reason;code;type=an.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ss=class extends Li{reason;code;type=an.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},gu=class extends Li{error;target;type=an.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ff=class extends Li{urlAfterRedirects;state;type=an.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g_=class extends Li{urlAfterRedirects;state;type=an.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},y_=class extends Li{urlAfterRedirects;state;shouldActivate;type=an.GuardsCheckEnd;constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},__=class extends Li{urlAfterRedirects;state;type=an.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v_=class extends Li{urlAfterRedirects;state;type=an.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x_=class{route;type=an.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},b_=class{route;type=an.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},w_=class{snapshot;type=an.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},T_=class{snapshot;type=an.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C_=class{snapshot;type=an.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},S_=class{snapshot;type=an.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yu=class{routerEvent;position;anchor;type=an.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pf=class{},_u=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tJ(n,e){return n.providers&&!n._injector&&(n._injector=Oh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function br(n){return n.outlet||ke}function nJ(n,e){let t=n.filter(i=>br(i)===e);return t.push(...n.filter(i=>br(i)!==e)),t}function bf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var E_=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return bf(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new wl(this.rootInjector)}},wl=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new E_(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(se(hn))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I_=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=US(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=US(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=zS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return zS(e,this._root).map(t=>t.value)}};function US(n,e){if(n===e.value)return e;for(let t of e.children){let i=US(n,t);if(i)return i}return null}function zS(n,e){if(n===e.value)return[e];for(let t of e.children){let i=zS(n,t);if(i.length)return i.unshift(e),i}return[]}var Oi=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function hu(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var mf=class extends I_{snapshot;constructor(e,t){super(e),this.snapshot=t,ZS(this,e)}toString(){return this.snapshot.toString()}};function aV(n){let e=iJ(n),t=new Kt([new Yo("",{})]),i=new Kt({}),r=new Kt({}),s=new Kt({}),o=new Kt(""),a=new Ni(t,i,s,o,r,ke,n,e.root);return a.snapshot=e.root,new mf(new Oi(a,[]),e)}function iJ(n){let e={},t={},i={},r="",s=new vl([],e,i,r,t,ke,n,null,{});return new gf("",new Oi(s,[]))}var Ni=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(c=>c[xf]))??ye(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(e=>xl(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(e=>xl(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function D_(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),r?.data),n._resolvedData)}:i={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},r&&cV(r)&&(i.resolve[xf]=r.title),i}var vl=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xf]}constructor(e,t,i,r,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xl(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xl(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gf=class extends I_{url;constructor(e,t){super(t),this.url=e,ZS(this,t)}toString(){return lV(this._root)}};function ZS(n,e){e.value._routerState=n,e.children.forEach(t=>ZS(n,t))}function lV(n){let e=n.children.length>0?` { ${n.children.map(lV).join(", ")} } `:"";return`${n.value}${e}`}function NS(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ns(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ns(e.params,t.params)||n.paramsSubject.next(t.params),MZ(e.url,t.url)||n.urlSubject.next(t.url),ns(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function WS(n,e){let t=ns(n.params,e.params)&&LZ(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||WS(n.parent,e.parent))}function cV(n){return typeof n.title=="string"||n.title===null}var uV=new re(""),wf=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ke;activateEvents=new ce;deactivateEvents=new ce;attachEvents=new ce;detachEvents=new ce;routerOutletData=SL(void 0);parentContexts=G(wl);location=G(Yi);changeDetector=G(pr);inputBinder=G(Tf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new GS(t,a,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=it({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[st]})}return n})(),GS=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===Ni?this.route:e===wl?this.childContexts:e===uV?this.outletData:this.parent.get(e,t)}},Tf=new re(""),JS=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=fh([i.queryParams,i.params,i.data]).pipe(zi(([s,o,a],l)=>(a=U(U(U({},s),o),a),l===0?ye(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let o=wF(i.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),eE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&xe(0,"router-outlet")},dependencies:[wf],encapsulation:2})}return n})();function tE(n){let e=n.children&&n.children.map(tE),t=e?fe(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ke&&(t.component=eE),t}function rJ(n,e,t){let i=yf(n,e._root,t?t._root:void 0);return new mf(i,e)}function yf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=sJ(n,e,t);return new Oi(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>yf(n,a)),o}}let i=oJ(e.value),r=e.children.map(s=>yf(n,s));return new Oi(i,r)}}function sJ(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return yf(n,i,r);return yf(n,i)})}function oJ(n){return new Ni(new Kt(n.url),new Kt(n.params),new Kt(n.queryParams),new Kt(n.fragment),new Kt(n.data),n.outlet,n.component,n)}var vu=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},dV="ngNavigationCancelingError";function A_(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=hV(!1,mi.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function hV(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[dV]=!0,t.cancellationCode=e,t}function aJ(n){return fV(n)&&Ko(n.url)}function fV(n){return!!n&&n[dV]}var lJ=(n,e,t,i)=>Ie(r=>(new qS(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),qS=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),NS(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=hu(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=hu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=hu(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=hu(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new S_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T_(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(NS(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),NS(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},k_=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},pu=class{component;route;constructor(e,t){this.component=e,this.route=t}};function cJ(n,e,t){let i=n._root,r=e?e._root:null;return cf(i,r,t,[i.value])}function uJ(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function bu(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!wO(n)?n:e.get(n):i}function cf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=hu(e);return n.children.forEach(o=>{dJ(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>df(a,t.getContext(o),r)),r}function dJ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=hJ(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new k_(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?cf(n,e,a?a.children:null,i,r):cf(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new pu(a.outlet.component,o))}else o&&df(e,a,r),r.canActivateChecks.push(new k_(i)),s.component?cf(n,null,a?a.children:null,i,r):cf(n,null,t,i,r);return r}function hJ(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!_l(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_l(n.url,e.url)||!ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WS(n,e)||!ns(n.queryParams,e.queryParams);case"paramsChange":default:return!WS(n,e)}}function df(n,e,t){let i=hu(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?df(o,e.children.getContext(s),t):df(o,null,t):df(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new pu(e.outlet.component,r)):t.canDeactivateChecks.push(new pu(null,r)):t.canDeactivateChecks.push(new pu(null,r))}function Cf(n){return typeof n=="function"}function fJ(n){return typeof n=="boolean"}function pJ(n){return n&&Cf(n.canLoad)}function mJ(n){return n&&Cf(n.canActivate)}function gJ(n){return n&&Cf(n.canActivateChild)}function yJ(n){return n&&Cf(n.canDeactivate)}function _J(n){return n&&Cf(n.canMatch)}function pV(n){return n instanceof Ls||n?.name==="EmptyError"}var c_=Symbol("INITIAL_VALUE");function xu(){return zi(n=>fh(n.map(e=>e.pipe(Fs(1),bg(c_)))).pipe(Ie(e=>{for(let t of e)if(t!==!0){if(t===c_)return c_;if(t===!1||vJ(t))return t}return!0}),_n(e=>e!==c_),Fs(1)))}function vJ(n){return Ko(n)||n instanceof vu}function xJ(n,e){return Ot(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ye(fe(U({},t),{guardsResult:!0})):bJ(o,i,r,n).pipe(Ot(a=>a&&fJ(a)?wJ(i,s,n,e):ye(a)),Ie(a=>fe(U({},t),{guardsResult:a})))})}function bJ(n,e,t,i){return wt(n).pipe(Ot(r=>IJ(r.component,r.route,t,e,i)),Vs(r=>r!==!0,!0))}function wJ(n,e,t,i){return wt(e).pipe(Do(r=>Rc(CJ(r.route.parent,i),TJ(r.route,i),EJ(n,r.path,t),SJ(n,r.route,t))),Vs(r=>r!==!0,!0))}function TJ(n,e){return n!==null&&e&&e(new C_(n)),ye(!0)}function CJ(n,e){return n!==null&&e&&e(new w_(n)),ye(!0)}function SJ(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ye(!0);let r=i.map(s=>yg(()=>{let o=bf(e)??t,a=bu(s,o),l=mJ(a)?a.canActivate(e,n):Nn(o,()=>a(e,n));return Zo(l).pipe(Vs())}));return ye(r).pipe(xu())}function EJ(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>uJ(o)).filter(o=>o!==null).map(o=>yg(()=>{let a=o.guards.map(l=>{let c=bf(o.node)??t,u=bu(l,c),h=gJ(u)?u.canActivateChild(i,n):Nn(c,()=>u(i,n));return Zo(h).pipe(Vs())});return ye(a).pipe(xu())}));return ye(s).pipe(xu())}function IJ(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ye(!0);let o=s.map(a=>{let l=bf(e)??r,c=bu(a,l),u=yJ(c)?c.canDeactivate(n,e,t,i):Nn(l,()=>c(n,e,t,i));return Zo(u).pipe(Vs())});return ye(o).pipe(xu())}function DJ(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ye(!0);let s=r.map(o=>{let a=bu(o,n),l=pJ(a)?a.canLoad(e,t):Nn(n,()=>a(e,t));return Zo(l)});return ye(s).pipe(xu(),mV(i))}function mV(n){return eg(vn(e=>{if(typeof e!="boolean")throw A_(n,e)}),Ie(e=>e===!0))}function AJ(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ye(!0);let s=r.map(o=>{let a=bu(o,n),l=_J(a)?a.canMatch(e,t):Nn(n,()=>a(e,t));return Zo(l)});return ye(s).pipe(xu(),mV(i))}var _f=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},vf=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function du(n){return Mc(new _f(n))}function kJ(n){return Mc(new q(4e3,!1))}function MJ(n){return Mc(hV(!1,mi.GuardRejected))}var YS=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ye(i);if(r.numberOfChildren>1||!r.children[ke])return kJ(`${e.redirectTo}`);r=r.children[ke]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:h,outlet:f,params:p,data:g,title:y}=r,v=Nn(s,()=>a({params:p,data:g,queryParams:l,fragment:c,routeConfig:u,url:h,outlet:f,title:y}));if(v instanceof rs)throw new vf(v);t=v}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new vf(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new rs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new at(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new q(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},XS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PJ(n,e,t,i,r){let s=gV(n,e,t);return s.matched?(i=tJ(e,i),AJ(i,e,t,r).pipe(Ie(o=>o===!0?s:U({},XS)))):ye(s)}function gV(n,e,t){if(e.path==="**")return RJ(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},XS):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||W2)(t,n,e);if(!r)return U({},XS);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?U(U({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function RJ(n){return{matched:!0,parameters:n.length>0?q2(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function H2(n,e,t,i){return t.length>0&&NJ(n,t,i)?{segmentGroup:new at(e,LJ(i,new at(t,n.children))),slicedSegments:[]}:t.length===0&&FJ(n,t,i)?{segmentGroup:new at(n.segments,OJ(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new at(n.segments,n.children),slicedSegments:t}}function OJ(n,e,t,i){let r={};for(let s of t)if(P_(n,e,s)&&!i[br(s)]){let o=new at([],{});r[br(s)]=o}return U(U({},i),r)}function LJ(n,e){let t={};t[ke]=e;for(let i of n)if(i.path===""&&br(i)!==ke){let r=new at([],{});t[br(i)]=r}return t}function NJ(n,e,t){return t.some(i=>P_(n,e,i)&&br(i)!==ke)}function FJ(n,e,t){return t.some(i=>P_(n,e,i))}function P_(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VJ(n,e,t){return e.length===0&&!n.children[t]}var KS=class{};function BJ(n,e,t,i,r,s,o="emptyOnly"){return new QS(n,e,t,i,r,o,s).recognize()}var jJ=31,QS=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new YS(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=H2(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(({children:t,rootSnapshot:i})=>{let r=new Oi(i,t),s=new gf("",r),o=nV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new vl([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ke,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ke,t).pipe(Ie(i=>({children:i,rootSnapshot:t})),Ns(i=>{if(i instanceof vf)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof _f?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(Ie(o=>o instanceof Oi?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return wt(s).pipe(Do(o=>{let a=i.children[o],l=nJ(t,o);return this.processSegmentGroup(e,l,a,o,r)}),xg((o,a)=>(o.push(...a),o)),Ao(null),Hw(),Ot(o=>{if(o===null)return du(i);let a=yV(o);return $J(a),ye(a)}))}processSegment(e,t,i,r,s,o,a){return wt(t).pipe(Do(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Ns(c=>{if(c instanceof _f)return ye(null);throw c}))),Vs(l=>!!l),Ns(l=>{if(pV(l))return VJ(i,r,s)?ye(new KS):du(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return br(i)!==o&&(o===ke||!P_(r,s,i))?du(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):du(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=gV(t,r,s);if(!l)return du(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jJ&&(this.allowRedirects=!1));let p=new vl(s,c,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,U2(r),br(r),r.component??r._loadedComponent??null,r,z2(r)),g=D_(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let y=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(r,y).pipe(Ot(v=>this.processSegment(e,i,t,v.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=PJ(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(zi(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(zi(({routes:c})=>{let u=i._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:p}=l,g=new vl(f,h,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,U2(i),br(i),i.component??i._loadedComponent??null,i,z2(i)),y=D_(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(y.params),g.data=Object.freeze(y.data);let{segmentGroup:v,slicedSegments:I}=H2(t,f,p,c);if(I.length===0&&v.hasChildren())return this.processChildren(u,c,v,g).pipe(Ie(O=>new Oi(g,O)));if(c.length===0&&I.length===0)return ye(new Oi(g,[]));let M=br(i)===s;return this.processSegment(u,c,v,I,M?ke:s,!0,g).pipe(Ie(O=>new Oi(g,O instanceof Oi?[O]:[])))}))):du(t)))}getChildConfig(e,t,i){return t.children?ye({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ye({routes:t._loadedRoutes,injector:t._loadedInjector}):DJ(e,t,i,this.urlSerializer).pipe(Ot(r=>r?this.configLoader.loadChildren(e,t).pipe(vn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):MJ(t))):ye({routes:[],injector:e})}};function $J(n){n.sort((e,t)=>e.value.outlet===ke?-1:t.value.outlet===ke?1:e.value.outlet.localeCompare(t.value.outlet))}function HJ(n){let e=n.value.routeConfig;return e&&e.path===""}function yV(n){let e=[],t=new Set;for(let i of n){if(!HJ(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=yV(i.children);e.push(new Oi(i.value,r))}return e.filter(i=>!t.has(i))}function U2(n){return n.data||{}}function z2(n){return n.resolve||{}}function UJ(n,e,t,i,r,s){return Ot(o=>BJ(n,e,t,i,o.extractedUrl,r,s).pipe(Ie(({state:a,tree:l})=>fe(U({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function zJ(n,e){return Ot(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ye(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of _V(l))o.add(c);let a=0;return wt(o).pipe(Do(l=>s.has(l)?WJ(l,i,n,e):(l.data=D_(l,l.parent,n).resolve,ye(void 0))),vn(()=>a++),Oc(1),Ot(l=>a===o.size?ye(t):ii))})}function _V(n){let e=n.children.map(t=>_V(t)).flat();return[n,...e]}function WJ(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!cV(r)&&(s[xf]=r.title),GJ(s,n,e,i).pipe(Ie(o=>(n._resolvedData=o,n.data=D_(n,n.parent,t).resolve,null)))}function GJ(n,e,t,i){let r=BS(n);if(r.length===0)return ye({});let s={};return wt(r).pipe(Ot(o=>qJ(n[o],e,t,i).pipe(Vs(),vn(a=>{if(a instanceof vu)throw A_(new Xo,a);s[o]=a}))),Oc(1),Ie(()=>s),Ns(o=>pV(o)?ii:Mc(o)))}function qJ(n,e,t,i){let r=bf(e)??i,s=bu(n,r),o=s.resolve?s.resolve(e,t):Nn(r,()=>s(e,t));return Zo(o)}function FS(n){return zi(e=>{let t=n(e);return t?wt(t).pipe(Ie(()=>e)):ye(e)})}var nE=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ke);return i}getResolvedTitleForRoute(t){return t.data[xf]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>G(vV),providedIn:"root"})}return n})(),vV=(()=>{class n extends nE{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(se(d2))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tl=new re("",{providedIn:"root",factory:()=>({})}),wu=new re(""),R_=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=G(fF);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Zo(t.loadComponent()).pipe(Ie(bV),vn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),mh(()=>{this.componentLoaders.delete(t)})),r=new Ec(i,()=>new Xt).pipe(Sc());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ye({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=xV(i,this.compiler,t,this.onLoadEndListener).pipe(mh(()=>{this.childrenLoaders.delete(i)})),o=new Ec(s,()=>new Xt).pipe(Sc());return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xV(n,e,t,i){return Zo(n.loadChildren()).pipe(Ie(bV),Ot(r=>r instanceof qC||Array.isArray(r)?ye(r):wt(e.compileModuleAsync(r))),Ie(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(wu,[],{optional:!0,self:!0}).flat()),{routes:o.map(tE),injector:s}}))}function YJ(n){return n&&typeof n=="object"&&"default"in n}function bV(n){return YJ(n)?n.default:n}var O_=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>G(XJ),providedIn:"root"})}return n})(),XJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iE=new re(""),rE=new re("");function wV(n,e,t){let i=n.get(rE),r=n.get(Zt);return n.get(De).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),KJ(n))),{onViewTransitionCreated:l}=i;return l&&Nn(n,()=>l({transition:a,from:e,to:t})),o})}function KJ(n){return new Promise(e=>{IC({read:()=>setTimeout(e)},{injector:n})})}var sE=new re(""),L_=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Xt;transitionAbortSubject=new Xt;configLoader=G(R_);environmentInjector=G(hn);destroyRef=G(Xc);urlSerializer=G(bl);rootContexts=G(wl);location=G(Ho);inputBindingEnabled=G(Tf,{optional:!0})!==null;titleStrategy=G(nE);options=G(Tl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=G(O_);createViewTransition=G(iE,{optional:!0});navigationErrorHandler=G(sE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ye(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new x_(r)),i=r=>this.events.next(new b_(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(fe(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new Kt(null),this.transitions.pipe(_n(i=>i!==null),zi(i=>{let r=!1,s=!1;return ye(i).pipe(zi(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",mi.SupersededByNewNavigation),ii;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fe(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new ss(o.id,this.urlSerializer.serialize(o.rawUrl),c,mu.IgnoredSameUrlNavigation)),o.resolve(!1),ii}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ye(o).pipe(zi(c=>(this.events.next(new Qo(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?ii:Promise.resolve(c))),UJ(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),vn(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=fe(U({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new ff(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:h,restoredState:f,extras:p}=o,g=new Qo(c,this.urlSerializer.serialize(u),h,f);this.events.next(g);let y=aV(this.rootComponentType).snapshot;return this.currentTransition=i=fe(U({},o),{targetSnapshot:y,urlAfterRedirects:u,extras:fe(U({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,ye(i)}else{let c="";return this.events.next(new ss(o.id,this.urlSerializer.serialize(o.extractedUrl),c,mu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),ii}}),vn(o=>{let a=new g_(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Ie(o=>(this.currentTransition=i=fe(U({},o),{guards:cJ(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),xJ(this.environmentInjector,o=>this.events.next(o)),vn(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw A_(this.urlSerializer,o.guardsResult);let a=new y_(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),_n(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",mi.GuardRejected),!1)),FS(o=>{if(o.guards.canActivateChecks.length!==0)return ye(o).pipe(vn(a=>{let l=new __(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),zi(a=>{let l=!1;return ye(a).pipe(zJ(this.paramsInheritanceStrategy,this.environmentInjector),vn({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",mi.NoDataFromResolver)}}))}),vn(a=>{let l=new v_(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),FS(o=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(vn(u=>{l.component=u}),Ie(()=>{})));for(let u of l.children)c.push(...a(u));return c};return fh(a(o.targetSnapshot.root)).pipe(Ao(null),Fs(1))}),FS(()=>this.afterPreactivation()),zi(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?wt(l).pipe(Ie(()=>i)):ye(i)}),Ie(o=>{let a=rJ(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=fe(U({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,i}),vn(()=>{this.events.next(new pf)}),lJ(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Fs(1),vn({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Uw(this.transitionAbortSubject.pipe(vn(o=>{throw o}))),mh(()=>{!r&&!s&&this.cancelNavigationTransition(i,"",mi.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ns(o=>{if(this.destroyed)return i.resolve(!1),ii;if(s=!0,fV(o))this.events.next(new is(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),aJ(o)?this.events.next(new _u(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new gu(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let l=Nn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof vu){let{message:c,cancellationCode:u}=A_(this.urlSerializer,l);this.events.next(new is(i.id,this.urlSerializer.serialize(i.extractedUrl),c,u)),this.events.next(new _u(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return ii}))}))}cancelNavigationTransition(t,i,r){let s=new is(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QJ(n){return n!==f_}var TV=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>G(ZJ),providedIn:"root"})}return n})(),M_=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},ZJ=(()=>{class n extends M_{static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CV=(()=>{class n{urlSerializer=G(bl);options=G(Tl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=G(Ho);urlHandlingStrategy=G(O_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new rs;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,o=r??s;return o instanceof rs?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=aV(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:()=>G(JJ),providedIn:"root"})}return n})(),JJ=(()=>{class n extends CV{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Qo?this.updateStateMemento():t instanceof ss?this.commitTransition(i):t instanceof ff?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof pf?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof is&&(t.code===mi.GuardRejected||t.code===mi.NoDataFromResolver)?this.restoreHistory(i):t instanceof gu?this.restoreHistory(i,!0):t instanceof Tn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:s,state:o}=i;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,l=U(U({},o),this.generateNgRouterState(r,a));this.location.replaceState(t,"",l)}else{let a=U(U({},o),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N_(n,e){n.events.pipe(_n(t=>t instanceof Tn||t instanceof is||t instanceof gu||t instanceof ss),Ie(t=>t instanceof Tn||t instanceof ss?0:(t instanceof is?t.code===mi.Redirect||t.code===mi.SupersededByNewNavigation:!1)?2:1),_n(t=>t!==2),Fs(1)).subscribe(()=>{e()})}var eee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=G(BN);stateManager=G(CV);options=G(Tl,{optional:!0})||{};pendingTasks=G(fl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=G(L_);urlSerializer=G(bl);location=G(Ho);urlHandlingStrategy=G(O_);_events=new Xt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=G(TV);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=G(wu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!G(Tf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $t;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof is&&i.code!==mi.Redirect&&i.code!==mi.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Tn)this.navigated=!0;else if(i instanceof _u){let o=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=U({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QJ(r.source)},o);this.scheduleNavigation(a,f_,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}iee(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),f_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=U({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(tE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=r?r.snapshot:this.routerState.snapshot.root;h=iV(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return rV(h,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Ko(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,f_,null,i)}navigate(t,i={skipLocationChange:!1}){return nee(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=U({},eee):i===!1?r=U({},tee):r=i,Ko(t))return V2(this.currentUrlTree,t,r);let s=this.parseUrl(t);return V2(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,l=f});let u=this.pendingTasks.add();return N_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nee(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}function iee(n){return!(n instanceof pf)&&!(n instanceof _u)}var gi=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Xt;constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ko(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:YL(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Ko(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(H(ut),H(Ni),xC("tabindex"),H(di),H(_t),H(gr))};static \u0275dir=it({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&J("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Le("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$o],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$o],replaceUrl:[2,"replaceUrl","replaceUrl",$o],routerLink:"routerLink"},features:[st]})}return n})(),aE=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ce;constructor(t,i,r,s,o){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Tn&&this.update()})}ngAfterContentInit(){ye(this.links.changes,ye(null)).pipe(Io()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=wt(t).pipe(Io()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=ree(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let s=r.urlTree;return s?t.isActive(s,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(H(ut),H(_t),H(di),H(pr),H(gi,8))};static \u0275dir=it({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,s){if(i&1&&Nh(s,gi,5),i&2){let o;Qr(o=Zr())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[st]})}return n})();function ree(n){return!!n.paths}var Sf=class{};var SV=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,s){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(_n(t=>t instanceof Tn),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Oh(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return wt(r).pipe(Io())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=ye(null);let s=r.pipe(Ot(o=>o===null?ye(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return wt([s,o]).pipe(Io())}else return s})}static \u0275fac=function(i){return new(i||n)(se(ut),se(hn),se(Sf),se(R_))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EV=new re(""),see=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ss&&t.code===mu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yu&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yu(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){SN()};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function oee(n){return n.routerState.root}function Ef(n,e){return{\u0275kind:n,\u0275providers:e}}function aee(){let n=G(pt);return e=>{let t=n.get(Xr);if(e!==t.components[0])return;let i=n.get(ut),r=n.get(IV);n.get(lE)===1&&i.initialNavigation(),n.get(kV,null,Me.Optional)?.setUpPreloading(),n.get(EV,null,Me.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var IV=new re("",{factory:()=>new Xt}),lE=new re("",{providedIn:"root",factory:()=>1});function DV(){let n=[{provide:lE,useValue:0},QC(()=>{let e=G(pt);return e.get(sS,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(ut),s=e.get(IV);N_(r,()=>{i(!0)}),e.get(L_).afterPreactivation=()=>(i(!0),s.closed?ye(void 0):s),r.initialNavigation()}))})];return Ef(2,n)}function AV(){let n=[QC(()=>{G(ut).setUpLocationChangeListener()}),{provide:lE,useValue:2}];return Ef(3,n)}var kV=new re("");function MV(n){return Ef(0,[{provide:kV,useExisting:SV},{provide:Sf,useExisting:n}])}function PV(){return Ef(8,[JS,{provide:Tf,useExisting:JS}])}function RV(n){eu("NgRouterViewTransitions");let e=[{provide:iE,useValue:wV},{provide:rE,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ef(9,e)}var OV=[Ho,{provide:bl,useClass:Xo},ut,wl,{provide:Ni,useFactory:oee,deps:[ut]},R_,[]],F_=(()=>{class n{constructor(){}static forRoot(t,i){return{ngModule:n,providers:[OV,[],{provide:wu,multi:!0,useValue:t},[],i?.errorHandler?{provide:sE,useValue:i.errorHandler}:[],{provide:Tl,useValue:i||{}},i?.useHash?cee():uee(),lee(),i?.preloadingStrategy?MV(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?dee(i):[],i?.bindToComponentInputs?PV().\u0275providers:[],i?.enableViewTransitions?RV().\u0275providers:[],hee()]}}static forChild(t){return{ngModule:n,providers:[{provide:wu,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({})}return n})();function lee(){return{provide:EV,useFactory:()=>{let n=G(n2),e=G(De),t=G(Tl),i=G(L_),r=G(bl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new see(r,i,n,e,t)}}}function cee(){return{provide:gr,useClass:hS}}function uee(){return{provide:gr,useClass:Oy}}function dee(n){return[n.initialNavigation==="disabled"?AV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?DV().\u0275providers:[]]}var oE=new re("");function hee(){return[{provide:oE,useFactory:aee},{provide:ZC,multi:!0,useExisting:oE}]}var LV=()=>{};var VV=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},fee=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},V_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),i.push(t[u],t[h],t[f],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fee(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let c=r<n.length?t[n.charAt(r)]:64;++r;let h=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new uE;let f=s<<2|a>>4;if(i.push(f),c!==64){let p=a<<4&240|c>>2;if(i.push(p),h!==64){let g=c<<6&192|h;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},uE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pee=function(n){let e=VV(n);return V_.encodeByteArray(e,!0)},Df=function(n){return pee(n).replace(/\./g,"")},B_=function(n){try{return V_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mee=()=>hE().__FIREBASE_DEFAULTS__,gee=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yee=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&B_(n[1]);return e&&JSON.parse(e)},j_=()=>{try{return LV()||mee()||gee()||yee()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fE=n=>{var e,t;return(t=(e=j_())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},BV=n=>{let e=fE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},pE=()=>{var n;return(n=j_())===null||n===void 0?void 0:n.config},mE=n=>{var e;return(e=j_())===null||e===void 0?void 0:e[`_${n}`]};var Cl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function Sl(n){return n.endsWith(".cloudworkstations.dev")}function $_(n){return E(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function jV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Df(JSON.stringify(t)),Df(JSON.stringify(o)),""].join(".")}var If={};function _ee(){let n={prod:[],emulator:[]};for(let e of Object.keys(If))If[e]?n.emulator.push(e):n.prod.push(e);return n}function vee(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var NV=!1;function H_(n,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||If[n]===e||If[n]||NV)return;If[n]=e;function t(f){return`__firebase__banner__${f}`}let i="__firebase__banner",s=_ee().prod.length>0;function o(){let f=document.getElementById(i);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{NV=!0,o()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){let f=vee(i),p=t("text"),g=document.getElementById(p)||document.createElement("span"),y=t("learnmore"),v=document.getElementById(y)||document.createElement("a"),I=t("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let O=f.element;a(O),u(v,y);let N=c();l(M,I),O.append(M,g,v,N),document.body.appendChild(O)}s?(g.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function xee(){var n;let e=(n=j_())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UV(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WV(){let n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function GV(){return!xee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Af(){try{return typeof indexedDB=="object"}catch{return!1}}function qV(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var bee="FirebaseError",Fi=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bee,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}},Tr=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?wee(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Fi(r,a,i)}};function wee(n,e){return n.replace(Tee,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Tee=/\{\$([^}]+)}/g;function YV(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function os(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(FV(s)&&FV(o)){if(!os(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function FV(n){return n!==null&&typeof n=="object"}function kf(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tu(n){let e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Cu(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function XV(n,e){let t=new dE(n,e);return t.subscribe.bind(t)}var dE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Cee(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=cE),r.error===void 0&&(r.error=cE),r.complete===void 0&&(r.complete=cE);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Cee(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cE(){}var e1e=4*60*60*1e3;function zt(n){return n&&n._delegate?n._delegate:n}var Zn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var El="[DEFAULT]";var gE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Cl;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Eee(e))try{this.getOrInitializeService({instanceIdentifier:El})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=El){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=El){return this.instances.has(e)}getOptions(e=El){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:See(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=El){return this.component?this.component.multipleInstances?e:El:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function See(n){return n===El?void 0:n}function Eee(n){return n.instantiationMode==="EAGER"}var U_=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Iee=[],Ue=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ue||{}),Dee={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Aee=Ue.INFO,kee={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Mee=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=kee[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},as=class{constructor(e){this.name=e,this._logLevel=Aee,this._logHandler=Mee,this._userLogHandler=null,Iee.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}};var Pee=(n,e)=>e.some(t=>n instanceof t),KV,QV;function Ree(){return KV||(KV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Oee(){return QV||(QV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZV=new WeakMap,_E=new WeakMap,JV=new WeakMap,yE=new WeakMap,xE=new WeakMap;function Lee(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ls(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ZV.set(t,n)}).catch(()=>{}),xE.set(e,n),e}function Nee(n){if(_E.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});_E.set(n,e)}var vE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _E.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JV.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function eB(n){vE=n(vE)}function Fee(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(z_(this),e,...t);return JV.set(i,e.sort?e.sort():[e]),ls(i)}:Oee().includes(n)?function(...e){return n.apply(z_(this),e),ls(ZV.get(this))}:function(...e){return ls(n.apply(z_(this),e))}}function Vee(n){return typeof n=="function"?Fee(n):(n instanceof IDBTransaction&&Nee(n),Pee(n,Ree())?new Proxy(n,vE):n)}function ls(n){if(n instanceof IDBRequest)return Lee(n);if(yE.has(n))return yE.get(n);let e=Vee(n);return e!==n&&(yE.set(n,e),xE.set(e,n)),e}var z_=n=>xE.get(n);function nB(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=ls(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ls(o.result),l.oldVersion,l.newVersion,ls(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var Bee=["get","getKey","getAll","getAllKeys","count"],jee=["put","add","delete","clear"],bE=new Map;function tB(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bE.get(e))return bE.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=jee.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Bee.includes(t)))return;let s=function(o,...a){return E(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),r&&l.done]))[0]})};return bE.set(e,s),s}eB(n=>fe(U({},n),{get:(e,t,i)=>tB(e,t)||n.get(e,t,i),has:(e,t)=>!!tB(e,t)||n.has(e,t)}));var TE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($ee(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function $ee(n){let e=n.getComponent();return e?.type==="VERSION"}var CE="@firebase/app",iB="0.13.0";var Ys=new as("@firebase/app"),Hee="@firebase/app-compat",Uee="@firebase/analytics-compat",zee="@firebase/analytics",Wee="@firebase/app-check-compat",Gee="@firebase/app-check",qee="@firebase/auth",Yee="@firebase/auth-compat",Xee="@firebase/database",Kee="@firebase/data-connect",Qee="@firebase/database-compat",Zee="@firebase/functions",Jee="@firebase/functions-compat",ete="@firebase/installations",tte="@firebase/installations-compat",nte="@firebase/messaging",ite="@firebase/messaging-compat",rte="@firebase/performance",ste="@firebase/performance-compat",ote="@firebase/remote-config",ate="@firebase/remote-config-compat",lte="@firebase/storage",cte="@firebase/storage-compat",ute="@firebase/firestore",dte="@firebase/ai",hte="@firebase/firestore-compat",fte="firebase",pte="11.8.0";var SE="[DEFAULT]",mte={[CE]:"fire-core",[Hee]:"fire-core-compat",[zee]:"fire-analytics",[Uee]:"fire-analytics-compat",[Gee]:"fire-app-check",[Wee]:"fire-app-check-compat",[qee]:"fire-auth",[Yee]:"fire-auth-compat",[Xee]:"fire-rtdb",[Kee]:"fire-data-connect",[Qee]:"fire-rtdb-compat",[Zee]:"fire-fn",[Jee]:"fire-fn-compat",[ete]:"fire-iid",[tte]:"fire-iid-compat",[nte]:"fire-fcm",[ite]:"fire-fcm-compat",[rte]:"fire-perf",[ste]:"fire-perf-compat",[ote]:"fire-rc",[ate]:"fire-rc-compat",[lte]:"fire-gcs",[cte]:"fire-gcs-compat",[ute]:"fire-fst",[hte]:"fire-fst-compat",[dte]:"fire-vertex","fire-js":"fire-js",[fte]:"fire-js-all"};var Mf=new Map,gte=new Map,EE=new Map;function rB(n,e){try{n.container.addComponent(e)}catch(t){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Cr(n){let e=n.name;if(EE.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;EE.set(e,n);for(let t of Mf.values())rB(t,n);for(let t of gte.values())rB(t,n);return!0}function Su(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yi(n){return n==null?!1:n.settings!==void 0}var yte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Tr("app","Firebase",yte);var IE=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}};var ea=pte;function W_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:SE,automaticDataCollectionEnabled:!0},e),r=i.name;if(typeof r!="string"||!r)throw Jo.create("bad-app-name",{appName:String(r)});if(t||(t=pE()),!t)throw Jo.create("no-options");let s=Mf.get(r);if(s){if(os(t,s.options)&&os(i,s.config))return s;throw Jo.create("duplicate-app",{appName:r})}let o=new U_(r);for(let l of EE.values())o.addComponent(l);let a=new IE(t,i,o);return Mf.set(r,a),a}function Il(n=SE){let e=Mf.get(n);if(!e&&n===SE&&pE())return W_();if(!e)throw Jo.create("no-app",{appName:n});return e}function G_(){return Array.from(Mf.values())}function Wt(n,e,t){var i;let r=(i=mte[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ys.warn(a.join(" "));return}Cr(new Zn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var _te="firebase-heartbeat-database",vte=1,Pf="firebase-heartbeat-store",wE=null;function lB(){return wE||(wE=nB(_te,vte,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pf)}catch(t){console.warn(t)}}}}).catch(n=>{throw Jo.create("idb-open",{originalErrorMessage:n.message})})),wE}function xte(n){return E(this,null,function*(){try{let t=(yield lB()).transaction(Pf),i=yield t.objectStore(Pf).get(cB(n));return yield t.done,i}catch(e){if(e instanceof Fi)Ys.warn(e.message);else{let t=Jo.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(t.message)}}})}function sB(n,e){return E(this,null,function*(){try{let i=(yield lB()).transaction(Pf,"readwrite");yield i.objectStore(Pf).put(e,cB(n)),yield i.done}catch(t){if(t instanceof Fi)Ys.warn(t.message);else{let i=Jo.create("idb-set",{originalErrorMessage:t?.message});Ys.warn(i.message)}}})}function cB(n){return`${n.name}!${n.options.appId}`}var bte=1024,wte=30,DE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new AE(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oB();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>wte){let o=Cte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ys.warn(i)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=oB(),{heartbeatsToSend:i,unsentEntries:r}=Tte(this._heartbeatsCache.heartbeats),s=Df(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ys.warn(t),""}})}};function oB(){return new Date().toISOString().substring(0,10)}function Tte(n,e=bte){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),aB(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),aB(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var AE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Af()?qV().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield xte(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return sB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return sB(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function aB(n){return Df(JSON.stringify({version:2,heartbeats:n})).length}function Cte(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}function Ste(n){Cr(new Zn("platform-logger",e=>new TE(e),"PRIVATE")),Cr(new Zn("heartbeat",e=>new DE(e),"PRIVATE")),Wt(CE,iB,n),Wt(CE,iB,"esm2017"),Wt("fire-js","")}Ste("");var Ete="firebase",Ite="11.8.1";Wt(Ete,Ite,"app");function kE(n){n===void 0&&(sC(kE),n=G(pt));let e=n.get(vy);return t=>new Re(i=>{let r=e.add(),s=!1;function o(){s||(r(),s=!0)}let a=t.subscribe({next:l=>{i.next(l),o()},complete:()=>{i.complete(),o()},error:l=>{i.error(l),o()}});return a.add(()=>{i.unsubscribe(),o()}),a})}var ta=new dl("ANGULARFIRE2_VERSION");function Rf(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Iu=(n,e)=>{let t=e?[e]:G_(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Eu=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Eu||{}),uB=nS()&&typeof Zone<"u"?Eu.WARN:Eu.SILENT;var q_=class{zone;delegate;constructor(e,t=Fw){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r?r.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,i)}},na=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=G(De);this.outsideAngular=t.runOutsideAngular(()=>new q_(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new q_(typeof Zone>"u"?void 0:Zone.current,hh))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dB=!1;function Dte(n,e){!dB&&(uB>Eu.SILENT||nS())&&(dB=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),uB>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Ate(n){let e=G(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Dl(n){let e=G(De,{optional:!0});return e?e.run(()=>n()):n()}var kte=(n,e,t)=>(...i)=>(e&&setTimeout(e,0),Nn(t,()=>Dl(()=>n.apply(void 0,i)))),ln=(n,e,t)=>(t||=e?Eu.WARN:Eu.VERBOSE,function(){let i,r=arguments,s,o,a;try{s=G(na),o=G(vy),a=G(hn)}catch{return Dte(n,t),n.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(e&&(i||=Dl(()=>o.add())),r[c]=kte(r[c],i,a));let l=Ate(()=>n.apply(this,r));return e?l instanceof Re?l.pipe(Eo(s.outsideAngular),So(s.insideAngular),kE(a)):l instanceof Promise?Dl(()=>new Promise((c,u)=>{o.run(()=>l).then(h=>Nn(a,()=>Dl(()=>c(h))),h=>Nn(a,()=>Dl(()=>u(h))))})):typeof l=="function"&&i?function(){return setTimeout(i,0),l.apply(this,arguments)}:Dl(()=>l):l instanceof Re?l.pipe(Eo(s.outsideAngular),So(s.insideAngular)):Dl(()=>l)});var Xs=class{constructor(e){return e}},Al=class{constructor(){return G_()}};function Mte(n){return n&&n.length===1?n[0]:new Xs(Il())}var ME=new re("angularfire2._apps"),Pte={provide:Xs,useFactory:Mte,deps:[[new Ai,ME]]},Rte={provide:Al,deps:[[new Ai,ME]]};function Ote(n){return(e,t)=>{let i=t.get(Qn);Wt("angularfire",ta.full,"core"),Wt("angularfire",ta.full,"app"),Wt("angular",hF.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Xs(r)}}function hB(n,...e){return Fo([Pte,Rte,{provide:ME,useFactory:Ote(n),multi:!0,deps:[De,pt,na,...e]}])}var Lte=new Map,Nte={activated:!1,tokenObservers:[]},Fte={initialized:!1,enabled:!1};function Sr(n){return Lte.get(n)||Object.assign({},Nte)}function gB(){return Fte}var Vte="https://content-firebaseappcheck.googleapis.com/v1";var Bte="exchangeDebugToken",fB={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},oke=24*60*60*1e3;var OE=class{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new Cl,this.pending.promise.catch(t=>{}),yield jte(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Cl,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function jte(n){return new Promise(e=>{setTimeout(e,n)})}var $te={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ia=new Tr("appCheck","AppCheck",$te);function yB(n){if(!Sr(n).activated)throw ia.create("use-before-activation",{appName:n.name})}function _B(i,r){return E(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(p){throw ia.create("fetch-network-error",{originalErrorMessage:p?.message})}if(l.status!==200)throw ia.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(p){throw ia.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ia.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let h=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function vB(n,e){let{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Vte}/projects/${t}/apps/${i}:${Bte}?key=${r}`,body:{debug_token:e}}}var Hte="firebase-app-check-database",Ute=1,LE="firebase-app-check-store";var Y_=null;function zte(){return Y_||(Y_=new Promise((n,e)=>{try{let t=indexedDB.open(Hte,Ute);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(ia.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},t.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(LE,{keyPath:"compositeKey"})}}}catch(t){e(ia.create("storage-open",{originalErrorMessage:t?.message}))}}),Y_)}function Wte(n,e){return Gte(qte(n),e)}function Gte(n,e){return E(this,null,function*(){let i=(yield zte()).transaction(LE,"readwrite"),s=i.objectStore(LE).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(ia.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function qte(n){return`${n.options.appId}-${n.name}`}var Of=new as("@firebase/app-check");function PE(n,e){return Af()?Wte(n,e).catch(t=>{Of.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xB(){return gB().enabled}function bB(){return E(this,null,function*(){let n=gB();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Yte={error:"UNKNOWN_ERROR"};function Xte(n){return V_.encodeString(JSON.stringify(n),!1)}function NE(n,e=!1,t=!1){return E(this,null,function*(){let i=n.app;yB(i);let r=Sr(i),s=r.token,o;if(s&&!Lf(s)&&(r.token=void 0,s=void 0),!s){let c=yield r.cachedTokenPromise;c&&(Lf(c)?s=c:yield PE(i,void 0))}if(!e&&s&&Lf(s))return{token:s.token};let a=!1;if(xB())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=_B(vB(i,yield bB()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let c=yield r.exchangeTokenPromise;return yield PE(i,c),r.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Of.warn(c.message):t&&Of.error(c),RE(c)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),s=yield Sr(i).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Of.warn(c.message):t&&Of.error(c),o=c}let l;return s?o?Lf(s)?l={token:s.token,internalError:o}:l=RE(o):(l={token:s.token},r.token=s,yield PE(i,s)):l=RE(o),a&&Jte(i,l),l})}function Kte(n){return E(this,null,function*(){let e=n.app;yB(e);let{provider:t}=Sr(e);if(xB()){let i=yield bB(),{token:r}=yield _B(vB(e,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield t.getToken();return{token:i}}})}function Qte(n,e,t,i){let{app:r}=n,s=Sr(r),o={next:t,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Lf(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),pB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>pB(n))}function wB(n,e){let t=Sr(n),i=t.tokenObservers.filter(r=>r.next!==e);i.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function pB(n){let{app:e}=n,t=Sr(e),i=t.tokenRefresher;i||(i=Zte(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Zte(n){let{app:e}=n;return new OE(()=>E(null,null,function*(){let t=Sr(e),i;if(t.token?i=yield NE(n,!0):i=yield NE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let t=Sr(e);if(t.token){let i=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,r=t.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},fB.RETRIAL_MIN_WAIT,fB.RETRIAL_MAX_WAIT)}function Jte(n,e){let t=Sr(n).tokenObservers;for(let i of t)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Lf(n){return n.expireTimeMillis-Date.now()>0}function RE(n){return{token:Xte(Yte),error:n}}var FE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Sr(this.app);for(let t of e)wB(this.app,t.next);return Promise.resolve()}};function ene(n,e){return new FE(n,e)}function tne(n){return{getToken:e=>NE(n,e),getLimitedUseToken:()=>Kte(n),addTokenListener:e=>Qte(n,"INTERNAL",e),removeTokenListener:e=>wB(n.app,e)}}var nne="@firebase/app-check",ine="0.10.0";var rne="app-check",mB="app-check-internal";function sne(){Cr(new Zn(rne,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return ene(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mB).initialize()})),Cr(new Zn(mB,n=>{let e=n.getProvider("app-check").getImmediate();return tne(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Wt(nne,ine)}sne();var one="app-check";var Du=class{constructor(){return Iu(one)}};var ane=["localhost","0.0.0.0","127.0.0.1"],vke=typeof window<"u"&&ane.includes(window.location.hostname);function VB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BB=VB,jB=new Tr("auth","Firebase",VB());var ev=new as("@firebase/auth");function lne(n,...e){ev.logLevel<=Ue.WARN&&ev.warn(`Auth (${ea}): ${n}`,...e)}function K_(n,...e){ev.logLevel<=Ue.ERROR&&ev.error(`Auth (${ea}): ${n}`,...e)}function us(n,...e){throw lI(n,...e)}function kl(n,...e){return lI(n,...e)}function $B(n,e,t){let i=Object.assign(Object.assign({},BB()),{[e]:t});return new Tr("auth","Firebase",i).create(e,{appName:n.name})}function Zs(n){return $B(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lI(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return jB.create(n,...e)}function ve(n,e,...t){if(!n)throw lI(e,...t)}function Ks(n){let e="INTERNAL ASSERTION FAILED: "+n;throw K_(e),new Error(e)}function oa(n,e){n||Ks(e)}function $E(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cne(){return TB()==="http:"||TB()==="https:"}function TB(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function une(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cne()||UV()||"connection"in navigator)?navigator.onLine:!0}function dne(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ml=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,oa(t>e,"Short delay should be less than long delay!"),this.isMobile=$V()||zV()}get(){return une()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cI(n,e){oa(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var tv=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fne=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pne=new Ml(3e4,6e4);function aa(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function la(s,o,a,l){return E(this,arguments,function*(n,e,t,i,r={}){return HB(n,r,()=>E(null,null,function*(){let c={},u={};i&&(e==="GET"?u=i:c={body:JSON.stringify(i)});let h=kf(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:f},c);return HV()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Sl(n.emulatorConfig.host)&&(p.credentials="include"),tv.fetch()(yield UB(n,n.config.apiHost,t,h),p)}))})}function HB(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},hne),e);try{let r=new HE(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw X_(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw X_(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw X_(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw X_(n,"user-disabled",o);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $B(n,u,c);us(n,u)}}catch(r){if(r instanceof Fi)throw r;us(n,"network-request-failed",{message:String(r)})}})}function zf(s,o,a,l){return E(this,arguments,function*(n,e,t,i,r={}){let c=yield la(n,e,t,i,r);return"mfaPendingCredential"in c&&us(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function UB(n,e,t,i){return E(this,null,function*(){let r=`${e}${t}?${i}`,s=n,o=s.config.emulator?cI(n.config,r):`${n.config.apiScheme}://${r}`;return fne.includes(t)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function mne(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var HE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(kl(this.auth,"network-request-failed")),pne.get())})}};function X_(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=kl(n,e,i);return r.customData._tokenResponse=t,r}function CB(n){return n!==void 0&&n.enterprise!==void 0}var UE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mne(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function gne(n,e){return E(this,null,function*(){return la(n,"GET","/v2/recaptchaConfig",aa(n,e))})}function yne(n,e){return E(this,null,function*(){return la(n,"POST","/v1/accounts:delete",e)})}function nv(n,e){return E(this,null,function*(){return la(n,"POST","/v1/accounts:lookup",e)})}function Ff(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function uI(n,e=!1){return E(this,null,function*(){let t=zt(n),i=yield t.getIdToken(e),r=dI(i);ve(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ff(VE(r.auth_time)),issuedAtTime:Ff(VE(r.iat)),expirationTime:Ff(VE(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function VE(n){return Number(n)*1e3}function dI(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return K_("JWT malformed, contained fewer than 3 sections"),null;try{let r=B_(t);return r?JSON.parse(r):(K_("Failed to decode base64 JWT payload"),null)}catch(r){return K_("Caught error parsing JWT payload as JSON",r?.toString()),null}}function SB(n){let e=dI(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Bf(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Fi&&_ne(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function _ne({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var zE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function iv(n){return E(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield Bf(n,nv(t,{idToken:i}));ve(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?zB(s.providerUserInfo):[],a=vne(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,u=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function hI(n){return E(this,null,function*(){let e=zt(n);yield iv(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vne(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function zB(n){return n.map(e=>{var{providerId:t}=e,i=Vw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function xne(n,e){return E(this,null,function*(){let t=yield HB(n,{},()=>E(null,null,function*(){let i=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=yield UB(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tv.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function bne(n,e){return E(this,null,function*(){return la(n,"POST","/v2/accounts:revokeToken",aa(n,e))})}var Vf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");let t=SB(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield xne(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(ve(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ve(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ve(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ks("not implemented")}};function ra(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var sa=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Vw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield Bf(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return uI(this,e)}reload(){return hI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield iv(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(yi(this.auth.app))return Promise.reject(Zs(this.auth));let e=yield this.getIdToken();return yield Bf(this,yne(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;let h=(i=t.displayName)!==null&&i!==void 0?i:void 0,f=(r=t.email)!==null&&r!==void 0?r:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,I=(c=t.createdAt)!==null&&c!==void 0?c:void 0,M=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:O,emailVerified:N,isAnonymous:F,providerData:B,stsTokenManager:D}=t;ve(O&&D,e,"internal-error");let x=Vf.fromJSON(this.name,D);ve(typeof O=="string",e,"internal-error"),ra(h,e.name),ra(f,e.name),ve(typeof N=="boolean",e,"internal-error"),ve(typeof F=="boolean",e,"internal-error"),ra(p,e.name),ra(g,e.name),ra(y,e.name),ra(v,e.name),ra(I,e.name),ra(M,e.name);let T=new n({uid:O,auth:e,email:f,emailVerified:N,displayName:h,isAnonymous:F,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:x,createdAt:I,lastLoginAt:M});return B&&Array.isArray(B)&&(T.providerData=B.map(k=>Object.assign({},k))),v&&(T._redirectEventId=v),T}static _fromIdTokenResponse(e,t,i=!1){return E(this,null,function*(){let r=new Vf;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield iv(s),s})}static _fromGetAccountInfoResponse(e,t,i){return E(this,null,function*(){let r=t.users[0];ve(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?zB(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Vf;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new jf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var EB=new Map;function Qs(n){oa(n instanceof Function,"Expected a class definition");let e=EB.get(n);return e?(oa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EB.set(n,e),e)}var wne=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,i){return E(this,null,function*(){this.storage[t]=i})}_get(t){return E(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),WE=wne;function Q_(n,e,t){return`firebase:${n}:${e}:${t}`}var rv=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=Q_(this.userKey,r.apiKey,s),this.fullPersistenceKey=Q_("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield nv(this.auth,{idToken:e}).catch(()=>{});return t?sa._fromGetAccountInfoResponse(this.auth,t,e):null}return sa._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return E(this,null,function*(){if(!t.length)return new n(Qs(WE),e,i);let r=(yield Promise.all(t.map(c=>E(null,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||Qs(WE),o=Q_(i,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(o);if(u){let h;if(typeof u=="string"){let f=yield nv(e,{idToken:u}).catch(()=>{});if(!f)break;h=yield sa._fromGetAccountInfoResponse(e,f,u)}else h=sa._fromJSON(e,u);c!==s&&(a=h),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>E(null,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,i))})}};function IB(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KB(e))return"Blackberry";if(QB(e))return"Webos";if(GB(e))return"Safari";if((e.includes("chrome/")||qB(e))&&!e.includes("edge/"))return"Chrome";if(XB(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function WB(n=pn()){return/firefox\//i.test(n)}function GB(n=pn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qB(n=pn()){return/crios\//i.test(n)}function YB(n=pn()){return/iemobile/i.test(n)}function XB(n=pn()){return/android/i.test(n)}function KB(n=pn()){return/blackberry/i.test(n)}function QB(n=pn()){return/webos/i.test(n)}function fI(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Tne(n=pn()){var e;return fI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Cne(){return WV()&&document.documentMode===10}function ZB(n=pn()){return fI(n)||XB(n)||QB(n)||KB(n)||/windows phone/i.test(n)||YB(n)}function JB(n,e=[]){let t;switch(n){case"Browser":t=IB(pn());break;case"Worker":t=`${IB(pn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ea}/${i}`}var GE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Sne(t){return E(this,arguments,function*(n,e={}){return la(n,"GET","/v2/passwordPolicy",aa(n,e))})}var Ene=6,qE=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Ene,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var YE=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sv(this),this.idTokenSubscription=new sv(this),this.beforeStateQueue=new GE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qs(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var i,r,s;if(!this._deleted&&(this.persistenceManager=yield rv.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield nv(this,{idToken:e}),i=yield sa._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(yi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield iv(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dne()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(yi(this.app))return Promise.reject(Zs(this));let t=e?zt(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return yi(this.app)?Promise.reject(Zs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return yi(this.app)?Promise.reject(Zs(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Qs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield Sne(this),t=new qE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield bne(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qs(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=yield rv.create(this,[Qs(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return E(this,null,function*(){var e;if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&lne(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Rl(n){return zt(n)}var sv=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=XV(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hv={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ine(n){hv=n}function ej(n){return hv.loadJS(n)}function Dne(){return hv.recaptchaEnterpriseScript}function Ane(){return hv.gapiScript}function tj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var XE=class{constructor(){this.enterprise=new KE}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},KE=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var kne="recaptcha-enterprise",nj="NO_RECAPTCHA",QE=class{constructor(e){this.type=kne,this.auth=Rl(e)}verify(e="verify",t=!1){return E(this,null,function*(){function i(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>E(null,null,function*(){gne(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new UE(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(s,o,a){let l=window.grecaptcha;CB(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(nj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XE().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!t&&CB(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Dne();l.length!==0&&(l+=a),ej(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function Nf(n,e,t,i=!1,r=!1){return E(this,null,function*(){let s=new QE(n),o;if(r)o=nj;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function ZE(n,e,t,i,r){return E(this,null,function*(){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Nf(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(a=>E(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Nf(n,e,t,t==="getOobCode");return i(n,l)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield Nf(n,e,t);return i(n,a).catch(l=>E(null,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield Nf(n,e,t,!1,!0);return i(n,u)}return Promise.reject(l)}))}else{let a=yield Nf(n,e,t,!1,!0);return i(n,a)}else return Promise.reject(r+" provider is not supported.")})}function pI(n,e){let t=Su(n,"auth");if(t.isInitialized()){let r=t.getImmediate(),s=t.getOptions();if(os(s,e??{}))return r;us(r,"already-initialized")}return t.initialize({options:e})}function Mne(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Qs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function mI(n,e,t){let i=Rl(n);ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!t?.disableWarnings,s=ij(e),{host:o,port:a}=Pne(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ve(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ve(os(c,i.config.emulator)&&os(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Sl(o)?($_(`${s}//${o}${l}`),H_("Auth",!0)):r||Rne()}function ij(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Pne(n){let e=ij(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:DB(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:DB(o)}}}function DB(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Rne(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var $f=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,t){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}};function One(n,e){return E(this,null,function*(){return la(n,"POST","/v1/accounts:signUp",e)})}function Lne(n,e){return E(this,null,function*(){return zf(n,"POST","/v1/accounts:signInWithPassword",aa(n,e))})}function Nne(n,e){return E(this,null,function*(){return zf(n,"POST","/v1/accounts:signInWithEmailLink",aa(n,e))})}function Fne(n,e){return E(this,null,function*(){return zf(n,"POST","/v1/accounts:signInWithEmailLink",aa(n,e))})}var Hf=class n extends $f{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new n(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZE(e,t,"signInWithPassword",Lne,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Nne(e,{email:this._email,oobCode:this._password});default:us(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ZE(e,i,"signUpPassword",One,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Fne(e,{idToken:t,email:this._email,oobCode:this._password});default:us(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function BE(n,e){return E(this,null,function*(){return zf(n,"POST","/v1/accounts:signInWithIdp",aa(n,e))})}function Vne(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bne(n){let e=Tu(Cu(n)).link,t=e?Tu(Cu(e)).deep_link_id:null,i=Tu(Cu(n)).deep_link_id;return(i?Tu(Cu(i)).link:null)||i||t||e||n}var ov=class n{constructor(e){var t,i,r,s,o,a;let l=Tu(Cu(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=Vne((r=l.mode)!==null&&r!==void 0?r:null);ve(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Bne(e);try{return new n(t)}catch{return null}}};var rj=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Hf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){let r=ov.parseLink(i);return ve(r,"argument-error"),Hf._fromEmailAndCode(t,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),av=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var JE=class extends av{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function jne(n,e){return E(this,null,function*(){return zf(n,"POST","/v1/accounts:signUp",aa(n,e))})}var Au=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return E(this,null,function*(){let s=yield sa._fromIdTokenResponse(e,i,r),o=AB(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:t})})}static _forOperation(e,t,i){return E(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=AB(i);return new n({user:e,providerId:r,_tokenResponse:i,operationType:t})})}};function AB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var eI=class n extends Fi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new n(e,t,i,r)}};function sj(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eI._fromErrorAndOperation(n,s,e,i):s})}function $ne(n,e,t=!1){return E(this,null,function*(){let i=yield Bf(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Au._forOperation(n,"link",i)})}function Hne(n,e,t=!1){return E(this,null,function*(){let{auth:i}=n;if(yi(i.app))return Promise.reject(Zs(i));let r="reauthenticate";try{let s=yield Bf(n,sj(i,r,e,n),t);ve(s.idToken,i,"internal-error");let o=dI(s.idToken);ve(o,i,"internal-error");let{sub:a}=o;return ve(n.uid===a,i,"user-mismatch"),Au._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&us(i,"user-mismatch"),s}})}function oj(n,e,t=!1){return E(this,null,function*(){if(yi(n.app))return Promise.reject(Zs(n));let i="signIn",r=yield sj(n,i,e),s=yield Au._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s})}function gI(n,e){return E(this,null,function*(){return oj(Rl(n),e)})}function aj(n){return E(this,null,function*(){let e=Rl(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function yI(n,e,t){return E(this,null,function*(){if(yi(n.app))return Promise.reject(Zs(n));let i=Rl(n),o=yield ZE(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jne,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&aj(n),l}),a=yield Au._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function _I(n,e,t){return yi(n.app)?Promise.reject(Zs(n)):gI(zt(n),rj.credential(e,t)).catch(i=>E(null,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&aj(n),i}))}function vI(n,e,t,i){return zt(n).onIdTokenChanged(e,t,i)}function xI(n,e,t){return zt(n).beforeAuthStateChanged(e,t)}function bI(n,e,t,i){return zt(n).onAuthStateChanged(e,t,i)}function wI(n){return zt(n).signOut()}var lv="__sak";var cv=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lv,"1"),this.storage.removeItem(lv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Une=1e3,zne=10,Wne=(()=>{class n extends cv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=t.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Cne()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,zne):s()}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Une)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,i){return E(this,null,function*(){yield To(n.prototype,this,"_set").call(this,t,i),this.localCache[t]=JSON.stringify(i)})}_get(t){return E(this,null,function*(){let i=yield To(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(i),i})}_remove(t){return E(this,null,function*(){yield To(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),lj=Wne;var Gne=(()=>{class n extends cv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})(),TI=Gne;function qne(n){return Promise.all(n.map(e=>E(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var Yne=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;let r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let i=t,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(u=>E(this,null,function*(){return u(i.origin,o)})),c=yield qne(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function cj(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}var tI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){return E(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=cj("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(h){let f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function cs(){return window}function Xne(n){cs().location.href=n}function uj(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}function Kne(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Qne(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Zne(){return uj()?self:null}var dj="firebaseLocalStorageDb",Jne=1,uv="firebaseLocalStorage",hj="fbase_key",Pl=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function fv(n,e){return n.transaction([uv],e?"readwrite":"readonly").objectStore(uv)}function eie(){let n=indexedDB.deleteDatabase(dj);return new Pl(n).toPromise()}function nI(){let n=indexedDB.open(dj,Jne);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(uv,{keyPath:hj})}catch(r){t(r)}}),n.addEventListener("success",()=>E(null,null,function*(){let i=n.result;i.objectStoreNames.contains(uv)?e(i):(i.close(),yield eie(),e(yield nI()))}))})}function kB(n,e,t){return E(this,null,function*(){let i=fv(n,!0).put({[hj]:e,value:t});return new Pl(i).toPromise()})}function tie(n,e){return E(this,null,function*(){let t=fv(n,!1).get(e),i=yield new Pl(t).toPromise();return i===void 0?null:i.value})}function MB(n,e){let t=fv(n,!0).delete(e);return new Pl(t).toPromise()}var nie=800,iie=3,rie=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield nI(),this.db)})}_withRetries(t){return E(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield t(r)}catch(r){if(i++>iie)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return uj()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=Yne._getInstance(Zne()),this.receiver._subscribe("keyChanged",(t,i)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(t,i)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,i;if(this.activeServiceWorker=yield Kne(),!this.activeServiceWorker)return;this.sender=new tI(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Qne()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield nI();return yield kB(t,lv,"1"),yield MB(t,lv),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,i){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>kB(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let i=yield this._withRetries(r=>tie(r,t));return this.localCache[t]=i,i})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>MB(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let o=fv(s,!1).getAll();return new Pl(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(t,i){this.localCache[t]=i;let r=this.listeners[t];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),nie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),fj=rie;var Ike=tj("rcb"),Dke=new Ml(3e4,6e4);function sie(n,e){return e?Qs(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Uf=class extends $f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return BE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return BE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return BE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function oie(n){return oj(n.auth,new Uf(n),n.bypassAuthState)}function aie(n){let{auth:e,user:t}=n;return ve(t,e,"internal-error"),Hne(t,new Uf(n),n.bypassAuthState)}function lie(n){return E(this,null,function*(){let{auth:e,user:t}=n;return ve(t,e,"internal-error"),$ne(t,new Uf(n),n.bypassAuthState)})}var iI=class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oie;case"linkViaPopup":case"linkViaRedirect":return lie;case"reauthViaPopup":case"reauthViaRedirect":return aie;default:us(this.auth,"internal-error")}}resolve(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ake=new Ml(2e3,1e4);var cie="pendingRedirect",Z_=new Map,rI=class n extends iI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){return E(this,null,function*(){let e=Z_.get(this.auth._key());if(!e){try{let i=(yield uie(this.resolver,this.auth))?yield To(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Z_.set(this.auth._key(),e)}return this.bypassAuthState||Z_.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return To(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,To(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function uie(n,e){return E(this,null,function*(){let t=fie(e),i=hie(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(t))==="true";return yield i._remove(t),r})}function die(n,e){Z_.set(n._key(),e)}function hie(n){return Qs(n._redirectPersistence)}function fie(n){return Q_(cie,n.config.apiKey,n.name)}function pie(n,e,t=!1){return E(this,null,function*(){if(yi(n.app))return Promise.reject(Zs(n));let i=Rl(n),r=sie(i,e),o=yield new rI(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var mie=10*60*1e3,sI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gie(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!pj(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(kl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mie&&this.cachedEventUids.clear(),this.cachedEventUids.has(PB(e))}saveEventToCache(e){this.cachedEventUids.add(PB(e)),this.lastProcessedEventTime=Date.now()}};function PB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function pj({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function gie(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pj(n);default:return!1}}function yie(t){return E(this,arguments,function*(n,e={}){return la(n,"GET","/v1/projects",e)})}var _ie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vie=/^https?/;function xie(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield yie(n);for(let t of e)try{if(bie(t))return}catch{}us(n,"unauthorized-domain")})}function bie(n){let e=$E(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===i}if(!vie.test(t))return!1;if(_ie.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var wie=new Ml(3e4,6e4);function RB(){let n=cs().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Tie(n){return new Promise((e,t)=>{var i,r,s;function o(){RB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RB(),t(kl(n,"network-request-failed"))},timeout:wie.get()})}if(!((r=(i=cs().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=cs().gapi)===null||s===void 0)&&s.load)o();else{let a=tj("iframefcb");return cs()[a]=()=>{gapi.load?o():t(kl(n,"network-request-failed"))},ej(`${Ane()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw J_=null,e})}var J_=null;function Cie(n){return J_=J_||Tie(n),J_}var Sie=new Ml(5e3,15e3),Eie="__/auth/iframe",Iie="emulator/auth/iframe",Die={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aie=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kie(n){let e=n.config;ve(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?cI(e,Iie):`https://${n.config.authDomain}/${Eie}`,i={apiKey:e.apiKey,appName:n.name,v:ea},r=Aie.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${kf(i).slice(1)}`}function Mie(n){return E(this,null,function*(){let e=yield Cie(n),t=cs().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:kie(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Die,dontclear:!0},i=>new Promise((r,s)=>E(null,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=kl(n,"network-request-failed"),a=cs().setTimeout(()=>{s(o)},Sie.get());function l(){cs().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var Pie={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rie=500,Oie=600,Lie="_blank",Nie="http://localhost",dv=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Fie(n,e,t,i=Rie,r=Oie){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},Pie),{width:i.toString(),height:r.toString(),top:s,left:o}),c=pn().toLowerCase();t&&(a=qB(c)?Lie:t),WB(c)&&(e=e||Nie,l.scrollbars="yes");let u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(Tne(c)&&a!=="_self")return Vie(e||"",a),new dv(null);let h=window.open(e||"",a,u);ve(h,n,"popup-blocked");try{h.focus()}catch{}return new dv(h)}function Vie(n,e){let t=document.createElement("a");t.href=n,t.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}var Bie="__/auth/handler",jie="emulator/auth/handler",$ie=encodeURIComponent("fac");function OB(n,e,t,i,r,s){return E(this,null,function*(){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ea,eventId:r};if(e instanceof av){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",YV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(s||{}))o[u]=h}if(e instanceof JE){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${$ie}=${encodeURIComponent(l)}`:"";return`${Hie(n)}?${kf(a).slice(1)}${c}`})}function Hie({config:n}){return n.emulator?cI(n,jie):`https://${n.authDomain}/${Bie}`}var jE="webStorageSupport",oI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=pie,this._overrideRedirectResult=die}_openPopup(e,t,i,r){return E(this,null,function*(){var s;oa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield OB(e,t,i,$E(),r);return Fie(e,o,cj())})}_openRedirect(e,t,i,r){return E(this,null,function*(){yield this._originValidation(e);let s=yield OB(e,t,i,$E(),r);return Xne(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(oa(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){return E(this,null,function*(){let t=yield Mie(e),i=new sI(e);return t.register("authEvent",r=>(ve(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jE,{type:jE},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[jE];o!==void 0&&t(!!o),us(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xie(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ZB()||GB()||fI()}},mj=oI;var LB="@firebase/auth",NB="1.10.6";var aI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Uie(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zie(n){Cr(new Zn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JB(n)},c=new YE(i,r,s,l);return Mne(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Cr(new Zn("auth-internal",e=>{let t=Rl(e.getProvider("auth").getImmediate());return(i=>new aI(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(LB,NB,Uie(n)),Wt(LB,NB,"esm2017")}var Wie=5*60,Gie=mE("authIdTokenMaxAge")||Wie,FB=null,qie=n=>e=>E(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Gie)return;let r=t?.token;FB!==r&&(FB=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function pv(n=Il()){let e=Su(n,"auth");if(e.isInitialized())return e.getImmediate();let t=pI(n,{popupRedirectResolver:mj,persistence:[fj,lj,TI]}),i=mE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=qie(s.toString());xI(t,o,()=>o(t.currentUser)),vI(t,a=>o(a))}}let r=fE("auth");return r&&mI(t,`http://${r}`),t}function Yie(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Ine({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=kl("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Yie().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zie("Browser");var gj="auth",Er=class{constructor(e){return e}},Wf=class{constructor(){return Iu(gj)}};var CI=new re("angularfire2.auth-instances");function Nre(n,e){let t=Rf(gj,n,e);return t&&new Er(t)}function Fre(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Er(i)}}var Vre={provide:Wf,deps:[[new Ai,CI]]},Bre={provide:Er,useFactory:Nre,deps:[[new Ai,CI],Xs]};function yj(n,...e){return Wt("angularfire",ta.full,"auth"),Fo([Bre,Vre,{provide:CI,useFactory:Fre(n),multi:!0,deps:[De,pt,na,Al,[new Ai,Du],...e]}])}var _j=ln(yI,!0,2);var vj=ln(bI,!0);var xj=ln(_I,!0,2);var bj=ln(wI,!0,2);var Tj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cj={};var Js,SI;(function(){var n;function e(D,x){function T(){}T.prototype=x.prototype,D.D=x.prototype,D.prototype=new T,D.prototype.constructor=D,D.C=function(k,A,P){for(var C=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)C[ue-2]=arguments[ue];return x.prototype[A].apply(k,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,x,T){T||(T=0);var k=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)k[A]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(A=0;16>A;++A)k[A]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=D.g[0],T=D.g[1],A=D.g[2];var P=D.g[3],C=x+(P^T&(A^P))+k[0]+3614090360&4294967295;x=T+(C<<7&4294967295|C>>>25),C=P+(A^x&(T^A))+k[1]+3905402710&4294967295,P=x+(C<<12&4294967295|C>>>20),C=A+(T^P&(x^T))+k[2]+606105819&4294967295,A=P+(C<<17&4294967295|C>>>15),C=T+(x^A&(P^x))+k[3]+3250441966&4294967295,T=A+(C<<22&4294967295|C>>>10),C=x+(P^T&(A^P))+k[4]+4118548399&4294967295,x=T+(C<<7&4294967295|C>>>25),C=P+(A^x&(T^A))+k[5]+1200080426&4294967295,P=x+(C<<12&4294967295|C>>>20),C=A+(T^P&(x^T))+k[6]+2821735955&4294967295,A=P+(C<<17&4294967295|C>>>15),C=T+(x^A&(P^x))+k[7]+4249261313&4294967295,T=A+(C<<22&4294967295|C>>>10),C=x+(P^T&(A^P))+k[8]+1770035416&4294967295,x=T+(C<<7&4294967295|C>>>25),C=P+(A^x&(T^A))+k[9]+2336552879&4294967295,P=x+(C<<12&4294967295|C>>>20),C=A+(T^P&(x^T))+k[10]+4294925233&4294967295,A=P+(C<<17&4294967295|C>>>15),C=T+(x^A&(P^x))+k[11]+2304563134&4294967295,T=A+(C<<22&4294967295|C>>>10),C=x+(P^T&(A^P))+k[12]+1804603682&4294967295,x=T+(C<<7&4294967295|C>>>25),C=P+(A^x&(T^A))+k[13]+4254626195&4294967295,P=x+(C<<12&4294967295|C>>>20),C=A+(T^P&(x^T))+k[14]+2792965006&4294967295,A=P+(C<<17&4294967295|C>>>15),C=T+(x^A&(P^x))+k[15]+1236535329&4294967295,T=A+(C<<22&4294967295|C>>>10),C=x+(A^P&(T^A))+k[1]+4129170786&4294967295,x=T+(C<<5&4294967295|C>>>27),C=P+(T^A&(x^T))+k[6]+3225465664&4294967295,P=x+(C<<9&4294967295|C>>>23),C=A+(x^T&(P^x))+k[11]+643717713&4294967295,A=P+(C<<14&4294967295|C>>>18),C=T+(P^x&(A^P))+k[0]+3921069994&4294967295,T=A+(C<<20&4294967295|C>>>12),C=x+(A^P&(T^A))+k[5]+3593408605&4294967295,x=T+(C<<5&4294967295|C>>>27),C=P+(T^A&(x^T))+k[10]+38016083&4294967295,P=x+(C<<9&4294967295|C>>>23),C=A+(x^T&(P^x))+k[15]+3634488961&4294967295,A=P+(C<<14&4294967295|C>>>18),C=T+(P^x&(A^P))+k[4]+3889429448&4294967295,T=A+(C<<20&4294967295|C>>>12),C=x+(A^P&(T^A))+k[9]+568446438&4294967295,x=T+(C<<5&4294967295|C>>>27),C=P+(T^A&(x^T))+k[14]+3275163606&4294967295,P=x+(C<<9&4294967295|C>>>23),C=A+(x^T&(P^x))+k[3]+4107603335&4294967295,A=P+(C<<14&4294967295|C>>>18),C=T+(P^x&(A^P))+k[8]+1163531501&4294967295,T=A+(C<<20&4294967295|C>>>12),C=x+(A^P&(T^A))+k[13]+2850285829&4294967295,x=T+(C<<5&4294967295|C>>>27),C=P+(T^A&(x^T))+k[2]+4243563512&4294967295,P=x+(C<<9&4294967295|C>>>23),C=A+(x^T&(P^x))+k[7]+1735328473&4294967295,A=P+(C<<14&4294967295|C>>>18),C=T+(P^x&(A^P))+k[12]+2368359562&4294967295,T=A+(C<<20&4294967295|C>>>12),C=x+(T^A^P)+k[5]+4294588738&4294967295,x=T+(C<<4&4294967295|C>>>28),C=P+(x^T^A)+k[8]+2272392833&4294967295,P=x+(C<<11&4294967295|C>>>21),C=A+(P^x^T)+k[11]+1839030562&4294967295,A=P+(C<<16&4294967295|C>>>16),C=T+(A^P^x)+k[14]+4259657740&4294967295,T=A+(C<<23&4294967295|C>>>9),C=x+(T^A^P)+k[1]+2763975236&4294967295,x=T+(C<<4&4294967295|C>>>28),C=P+(x^T^A)+k[4]+1272893353&4294967295,P=x+(C<<11&4294967295|C>>>21),C=A+(P^x^T)+k[7]+4139469664&4294967295,A=P+(C<<16&4294967295|C>>>16),C=T+(A^P^x)+k[10]+3200236656&4294967295,T=A+(C<<23&4294967295|C>>>9),C=x+(T^A^P)+k[13]+681279174&4294967295,x=T+(C<<4&4294967295|C>>>28),C=P+(x^T^A)+k[0]+3936430074&4294967295,P=x+(C<<11&4294967295|C>>>21),C=A+(P^x^T)+k[3]+3572445317&4294967295,A=P+(C<<16&4294967295|C>>>16),C=T+(A^P^x)+k[6]+76029189&4294967295,T=A+(C<<23&4294967295|C>>>9),C=x+(T^A^P)+k[9]+3654602809&4294967295,x=T+(C<<4&4294967295|C>>>28),C=P+(x^T^A)+k[12]+3873151461&4294967295,P=x+(C<<11&4294967295|C>>>21),C=A+(P^x^T)+k[15]+530742520&4294967295,A=P+(C<<16&4294967295|C>>>16),C=T+(A^P^x)+k[2]+3299628645&4294967295,T=A+(C<<23&4294967295|C>>>9),C=x+(A^(T|~P))+k[0]+4096336452&4294967295,x=T+(C<<6&4294967295|C>>>26),C=P+(T^(x|~A))+k[7]+1126891415&4294967295,P=x+(C<<10&4294967295|C>>>22),C=A+(x^(P|~T))+k[14]+2878612391&4294967295,A=P+(C<<15&4294967295|C>>>17),C=T+(P^(A|~x))+k[5]+4237533241&4294967295,T=A+(C<<21&4294967295|C>>>11),C=x+(A^(T|~P))+k[12]+1700485571&4294967295,x=T+(C<<6&4294967295|C>>>26),C=P+(T^(x|~A))+k[3]+2399980690&4294967295,P=x+(C<<10&4294967295|C>>>22),C=A+(x^(P|~T))+k[10]+4293915773&4294967295,A=P+(C<<15&4294967295|C>>>17),C=T+(P^(A|~x))+k[1]+2240044497&4294967295,T=A+(C<<21&4294967295|C>>>11),C=x+(A^(T|~P))+k[8]+1873313359&4294967295,x=T+(C<<6&4294967295|C>>>26),C=P+(T^(x|~A))+k[15]+4264355552&4294967295,P=x+(C<<10&4294967295|C>>>22),C=A+(x^(P|~T))+k[6]+2734768916&4294967295,A=P+(C<<15&4294967295|C>>>17),C=T+(P^(A|~x))+k[13]+1309151649&4294967295,T=A+(C<<21&4294967295|C>>>11),C=x+(A^(T|~P))+k[4]+4149444226&4294967295,x=T+(C<<6&4294967295|C>>>26),C=P+(T^(x|~A))+k[11]+3174756917&4294967295,P=x+(C<<10&4294967295|C>>>22),C=A+(x^(P|~T))+k[2]+718787259&4294967295,A=P+(C<<15&4294967295|C>>>17),C=T+(P^(A|~x))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+P&4294967295}i.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var T=x-this.blockSize,k=this.B,A=this.h,P=0;P<x;){if(A==0)for(;P<=T;)r(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<x;)if(k[A++]=D.charCodeAt(P++),A==this.blockSize){r(this,k),A=0;break}}else for(;P<x;)if(k[A++]=D[P++],A==this.blockSize){r(this,k),A=0;break}}this.h=A,this.o+=x},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var T=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=T&255,T/=256;for(this.u(D),D=Array(16),x=T=0;4>x;++x)for(var k=0;32>k;k+=8)D[T++]=this.g[x]>>>k&255;return D};function s(D,x){var T=a;return Object.prototype.hasOwnProperty.call(T,D)?T[D]:T[D]=x(D)}function o(D,x){this.h=x;for(var T=[],k=!0,A=D.length-1;0<=A;A--){var P=D[A]|0;k&&P==x||(T[A]=P,k=!1)}this.g=T}var a={};function l(D){return-128<=D&&128>D?s(D,function(x){return new o([x|0],0>x?-1:0)}):new o([D|0],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return v(c(-D));for(var x=[],T=1,k=0;D>=T;k++)x[k]=D/T|0,T*=4294967296;return new o(x,0)}function u(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return v(u(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(x,8)),k=h,A=0;A<D.length;A+=8){var P=Math.min(8,D.length-A),C=parseInt(D.substring(A,A+P),x);8>P?(P=c(Math.pow(x,P)),k=k.j(P).add(c(C))):(k=k.j(T),k=k.add(c(C)))}return k}var h=l(0),f=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-v(this).m();for(var D=0,x=1,T=0;T<this.g.length;T++){var k=this.i(T);D+=(0<=k?k:4294967296+k)*x,x*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(g(this))return"0";if(y(this))return"-"+v(this).toString(D);for(var x=c(Math.pow(D,6)),T=this,k="";;){var A=N(T,x).g;T=I(T,A.j(x));var P=((0<T.g.length?T.g[0]:T.h)>>>0).toString(D);if(T=A,g(T))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function g(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function y(D){return D.h==-1}n.l=function(D){return D=I(this,D),y(D)?-1:g(D)?0:1};function v(D){for(var x=D.g.length,T=[],k=0;k<x;k++)T[k]=~D.g[k];return new o(T,~D.h).add(f)}n.abs=function(){return y(this)?v(this):this},n.add=function(D){for(var x=Math.max(this.g.length,D.g.length),T=[],k=0,A=0;A<=x;A++){var P=k+(this.i(A)&65535)+(D.i(A)&65535),C=(P>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);k=C>>>16,P&=65535,C&=65535,T[A]=C<<16|P}return new o(T,T[T.length-1]&-2147483648?-1:0)};function I(D,x){return D.add(v(x))}n.j=function(D){if(g(this)||g(D))return h;if(y(this))return y(D)?v(this).j(v(D)):v(v(this).j(D));if(y(D))return v(this.j(v(D)));if(0>this.l(p)&&0>D.l(p))return c(this.m()*D.m());for(var x=this.g.length+D.g.length,T=[],k=0;k<2*x;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var A=0;A<D.g.length;A++){var P=this.i(k)>>>16,C=this.i(k)&65535,ue=D.i(A)>>>16,_e=D.i(A)&65535;T[2*k+2*A]+=C*_e,M(T,2*k+2*A),T[2*k+2*A+1]+=P*_e,M(T,2*k+2*A+1),T[2*k+2*A+1]+=C*ue,M(T,2*k+2*A+1),T[2*k+2*A+2]+=P*ue,M(T,2*k+2*A+2)}for(k=0;k<x;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=x;k<2*x;k++)T[k]=0;return new o(T,0)};function M(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function O(D,x){this.g=D,this.h=x}function N(D,x){if(g(x))throw Error("division by zero");if(g(D))return new O(h,h);if(y(D))return x=N(v(D),x),new O(v(x.g),v(x.h));if(y(x))return x=N(D,v(x)),new O(v(x.g),x.h);if(30<D.g.length){if(y(D)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var T=f,k=x;0>=k.l(D);)T=F(T),k=F(k);var A=B(T,1),P=B(k,1);for(k=B(k,2),T=B(T,2);!g(k);){var C=P.add(k);0>=C.l(D)&&(A=A.add(T),P=C),k=B(k,1),T=B(T,1)}return x=I(D,A.j(x)),new O(A,x)}for(A=h;0<=D.l(x);){for(T=Math.max(1,Math.floor(D.m()/x.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=c(T),C=P.j(x);y(C)||0<C.l(D);)T-=k,P=c(T),C=P.j(x);g(P)&&(P=f),A=A.add(P),D=I(D,C)}return new O(A,D)}n.A=function(D){return N(this,D).h},n.and=function(D){for(var x=Math.max(this.g.length,D.g.length),T=[],k=0;k<x;k++)T[k]=this.i(k)&D.i(k);return new o(T,this.h&D.h)},n.or=function(D){for(var x=Math.max(this.g.length,D.g.length),T=[],k=0;k<x;k++)T[k]=this.i(k)|D.i(k);return new o(T,this.h|D.h)},n.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),T=[],k=0;k<x;k++)T[k]=this.i(k)^D.i(k);return new o(T,this.h^D.h)};function F(D){for(var x=D.g.length+1,T=[],k=0;k<x;k++)T[k]=D.i(k)<<1|D.i(k-1)>>>31;return new o(T,D.h)}function B(D,x){var T=x>>5;x%=32;for(var k=D.g.length-T,A=[],P=0;P<k;P++)A[P]=0<x?D.i(P+T)>>>x|D.i(P+T+1)<<32-x:D.i(P+T);return new o(A,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,SI=Cj.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,Js=Cj.Integer=o}).apply(typeof Tj<"u"?Tj:typeof self<"u"?self:typeof window<"u"?window:{});var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eo={};var EI,jre,ku,II,Gf,gv,DI,AI,kI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,m,_){return d==Array.prototype||d==Object.prototype||(d[m]=_.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof mv=="object"&&mv];for(var m=0;m<d.length;++m){var _=d[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function r(d,m){if(m)e:{var _=i;d=d.split(".");for(var b=0;b<d.length-1;b++){var V=d[b];if(!(V in _))break e;_=_[V]}d=d[d.length-1],b=_[d],m=m(b),m!=b&&m!=null&&e(_,d,{configurable:!0,writable:!0,value:m})}}function s(d,m){d instanceof String&&(d+="");var _=0,b=!1,V={next:function(){if(!b&&_<d.length){var j=_++;return{value:m(j,d[j]),done:!1}}return b=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(d){return d||function(){return s(this,function(m,_){return _})}});var o=o||{},a=this||self;function l(d){var m=typeof d;return m=m!="object"?m:d?Array.isArray(d)?"array":m:"null",m=="array"||m=="object"&&typeof d.length=="number"}function c(d){var m=typeof d;return m=="object"&&d!=null||m=="function"}function u(d,m,_){return d.call.apply(d.bind,arguments)}function h(d,m,_){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,b),d.apply(m,V)}}return function(){return d.apply(m,arguments)}}function f(d,m,_){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function g(d,m){function _(){}_.prototype=m.prototype,d.aa=m.prototype,d.prototype=new _,d.prototype.constructor=d,d.Qb=function(b,V,j){for(var Z=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Z[gt-2]=arguments[gt];return m.prototype[V].apply(b,Z)}}function y(d){let m=d.length;if(0<m){let _=Array(m);for(let b=0;b<m;b++)_[b]=d[b];return _}return[]}function v(d,m){for(let _=1;_<arguments.length;_++){let b=arguments[_];if(l(b)){let V=d.length||0,j=b.length||0;d.length=V+j;for(let Z=0;Z<j;Z++)d[V+Z]=b[Z]}else d.push(b)}}class I{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function M(d){return/^[\s\xa0]*$/.test(d)}function O(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function N(d){return N[" "](d),d}N[" "]=function(){};var F=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function B(d,m,_){for(let b in d)m.call(_,d[b],b,d)}function D(d,m){for(let _ in d)m.call(void 0,d[_],_,d)}function x(d){let m={};for(let _ in d)m[_]=d[_];return m}let T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,m){let _,b;for(let V=1;V<arguments.length;V++){b=arguments[V];for(_ in b)d[_]=b[_];for(let j=0;j<T.length;j++)_=T[j],Object.prototype.hasOwnProperty.call(b,_)&&(d[_]=b[_])}}function A(d){var m=1;d=d.split(":");let _=[];for(;0<m&&d.length;)_.push(d.shift()),m--;return d.length&&_.push(d.join(":")),_}function P(d){a.setTimeout(()=>{throw d},0)}function C(){var d=oe;let m=null;return d.g&&(m=d.g,d.g=d.g.next,d.g||(d.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,_){let b=_e.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new I(()=>new Y,d=>d.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ee=!1,oe=new ue,nt=()=>{let d=a.Promise.resolve(void 0);K=()=>{d.then(Bt)}};var Bt=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(_){P(_)}var m=_e;m.j(d),100>m.h&&(m.h++,d.next=m.g,m.g=d)}ee=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ze(d,m){this.type=d,this.g=this.target=m,this.defaultPrevented=!1}Ze.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,m=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let _=()=>{};a.addEventListener("test",_,m),a.removeEventListener("test",_,m)}catch{}return d}();function kt(d,m){if(Ze.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var _=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=m,m=d.relatedTarget){if(F){e:{try{N(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else _=="mouseover"?m=d.fromElement:_=="mouseout"&&(m=d.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Gn[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&kt.aa.h.call(this)}}g(kt,Ze);var Gn={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var bt="closure_listenable_"+(1e6*Math.random()|0),Ei=0;function dn(d,m,_,b,V){this.listener=d,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=V,this.key=++Ei,this.da=this.fa=!1}function Hi(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function lr(d){this.src=d,this.g={},this.h=0}lr.prototype.add=function(d,m,_,b,V){var j=d.toString();d=this.g[j],d||(d=this.g[j]=[],this.h++);var Z=$b(d,m,b,V);return-1<Z?(m=d[Z],_||(m.fa=!1)):(m=new dn(m,this.src,j,!!b,V),m.fa=_,d.push(m)),m};function jb(d,m){var _=m.type;if(_ in d.g){var b=d.g[_],V=Array.prototype.indexOf.call(b,m,void 0),j;(j=0<=V)&&Array.prototype.splice.call(b,V,1),j&&(Hi(m),d.g[_].length==0&&(delete d.g[_],d.h--))}}function $b(d,m,_,b){for(var V=0;V<d.length;++V){var j=d[V];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==b)return V}return-1}var Hb="closure_lm_"+(1e6*Math.random()|0),Ub={};function zM(d,m,_,b,V){if(b&&b.once)return GM(d,m,_,b,V);if(Array.isArray(m)){for(var j=0;j<m.length;j++)zM(d,m[j],_,b,V);return null}return _=qb(_),d&&d[bt]?d.K(m,_,c(b)?!!b.capture:!!b,V):WM(d,m,_,!1,b,V)}function WM(d,m,_,b,V,j){if(!m)throw Error("Invalid event type");var Z=c(V)?!!V.capture:!!V,gt=Wb(d);if(gt||(d[Hb]=gt=new lr(d)),_=gt.add(m,_,b,Z,j),_.proxy)return _;if(b=PG(),_.proxy=b,b.src=d,b.listener=_,d.addEventListener)je||(V=Z),V===void 0&&(V=!1),d.addEventListener(m.toString(),b,V);else if(d.attachEvent)d.attachEvent(YM(m.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function PG(){function d(_){return m.call(d.src,d.listener,_)}let m=RG;return d}function GM(d,m,_,b,V){if(Array.isArray(m)){for(var j=0;j<m.length;j++)GM(d,m[j],_,b,V);return null}return _=qb(_),d&&d[bt]?d.L(m,_,c(b)?!!b.capture:!!b,V):WM(d,m,_,!0,b,V)}function qM(d,m,_,b,V){if(Array.isArray(m))for(var j=0;j<m.length;j++)qM(d,m[j],_,b,V);else b=c(b)?!!b.capture:!!b,_=qb(_),d&&d[bt]?(d=d.i,m=String(m).toString(),m in d.g&&(j=d.g[m],_=$b(j,_,b,V),-1<_&&(Hi(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete d.g[m],d.h--)))):d&&(d=Wb(d))&&(m=d.g[m.toString()],d=-1,m&&(d=$b(m,_,b,V)),(_=-1<d?m[d]:null)&&zb(_))}function zb(d){if(typeof d!="number"&&d&&!d.da){var m=d.src;if(m&&m[bt])jb(m.i,d);else{var _=d.type,b=d.proxy;m.removeEventListener?m.removeEventListener(_,b,d.capture):m.detachEvent?m.detachEvent(YM(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=Wb(m))?(jb(_,d),_.h==0&&(_.src=null,m[Hb]=null)):Hi(d)}}}function YM(d){return d in Ub?Ub[d]:Ub[d]="on"+d}function RG(d,m){if(d.da)d=!0;else{m=new kt(m,this);var _=d.listener,b=d.ha||d.src;d.fa&&zb(d),d=_.call(b,m)}return d}function Wb(d){return d=d[Hb],d instanceof lr?d:null}var Gb="__closure_events_fn_"+(1e9*Math.random()>>>0);function qb(d){return typeof d=="function"?d:(d[Gb]||(d[Gb]=function(m){return d.handleEvent(m)}),d[Gb])}function Mn(){et.call(this),this.i=new lr(this),this.M=this,this.F=null}g(Mn,et),Mn.prototype[bt]=!0,Mn.prototype.removeEventListener=function(d,m,_,b){qM(this,d,m,_,b)};function qn(d,m){var _,b=d.F;if(b)for(_=[];b;b=b.F)_.push(b);if(d=d.M,b=m.type||m,typeof m=="string")m=new Ze(m,d);else if(m instanceof Ze)m.target=m.target||d;else{var V=m;m=new Ze(b,d),k(m,V)}if(V=!0,_)for(var j=_.length-1;0<=j;j--){var Z=m.g=_[j];V=Im(Z,b,!0,m)&&V}if(Z=m.g=d,V=Im(Z,b,!0,m)&&V,V=Im(Z,b,!1,m)&&V,_)for(j=0;j<_.length;j++)Z=m.g=_[j],V=Im(Z,b,!1,m)&&V}Mn.prototype.N=function(){if(Mn.aa.N.call(this),this.i){var d=this.i,m;for(m in d.g){for(var _=d.g[m],b=0;b<_.length;b++)Hi(_[b]);delete d.g[m],d.h--}}this.F=null},Mn.prototype.K=function(d,m,_,b){return this.i.add(String(d),m,!1,_,b)},Mn.prototype.L=function(d,m,_,b){return this.i.add(String(d),m,!0,_,b)};function Im(d,m,_,b){if(m=d.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,j=0;j<m.length;++j){var Z=m[j];if(Z&&!Z.da&&Z.capture==_){var gt=Z.listener,yn=Z.ha||Z.src;Z.fa&&jb(d.i,Z),V=gt.call(yn,b)!==!1&&V}}return V&&!b.defaultPrevented}function XM(d,m,_){if(typeof d=="function")_&&(d=f(d,_));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(d,m||0)}function KM(d){d.g=XM(()=>{d.g=null,d.i&&(d.i=!1,KM(d))},d.l);let m=d.h;d.h=null,d.m.apply(null,m)}class OG extends et{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:KM(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wd(d){et.call(this),this.h=d,this.g={}}g(Wd,et);var QM=[];function ZM(d){B(d.g,function(m,_){this.g.hasOwnProperty(_)&&zb(m)},d),d.g={}}Wd.prototype.N=function(){Wd.aa.N.call(this),ZM(this)},Wd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yb=a.JSON.stringify,LG=a.JSON.parse,NG=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function Xb(){}Xb.prototype.h=null;function JM(d){return d.h||(d.h=d.i())}function eP(){}var Gd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kb(){Ze.call(this,"d")}g(Kb,Ze);function Qb(){Ze.call(this,"c")}g(Qb,Ze);var Ua={},tP=null;function Dm(){return tP=tP||new Mn}Ua.La="serverreachability";function nP(d){Ze.call(this,Ua.La,d)}g(nP,Ze);function qd(d){let m=Dm();qn(m,new nP(m))}Ua.STAT_EVENT="statevent";function iP(d,m){Ze.call(this,Ua.STAT_EVENT,d),this.stat=m}g(iP,Ze);function Yn(d){let m=Dm();qn(m,new iP(m,d))}Ua.Ma="timingevent";function rP(d,m){Ze.call(this,Ua.Ma,d),this.size=m}g(rP,Ze);function Yd(d,m){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},m)}function Xd(){this.g=!0}Xd.prototype.xa=function(){this.g=!1};function FG(d,m,_,b,V,j){d.info(function(){if(d.g)if(j)for(var Z="",gt=j.split("&"),yn=0;yn<gt.length;yn++){var rt=gt[yn].split("=");if(1<rt.length){var Pn=rt[0];rt=rt[1];var Rn=Pn.split("_");Z=2<=Rn.length&&Rn[1]=="type"?Z+(Pn+"="+rt+"&"):Z+(Pn+"=redacted&")}}else Z=null;else Z=j;return"XMLHTTP REQ ("+b+") [attempt "+V+"]: "+m+`
`+_+`
`+Z})}function VG(d,m,_,b,V,j,Z){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+V+"]: "+m+`
`+_+`
`+j+" "+Z})}function gc(d,m,_,b){d.info(function(){return"XMLHTTP TEXT ("+m+"): "+jG(d,_)+(b?" "+b:"")})}function BG(d,m){d.info(function(){return"TIMEOUT: "+m})}Xd.prototype.info=function(){};function jG(d,m){if(!d.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(d=0;d<_.length;d++)if(Array.isArray(_[d])){var b=_[d];if(!(2>b.length)){var V=b[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return Yb(_)}catch{return m}}var Am={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sP={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zb;function km(){}g(km,Xb),km.prototype.g=function(){return new XMLHttpRequest},km.prototype.i=function(){return{}},Zb=new km;function xo(d,m,_,b){this.j=d,this.i=m,this.l=_,this.R=b||1,this.U=new Wd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oP}function oP(){this.i=null,this.g="",this.h=!1}var aP={},Jb={};function ew(d,m,_){d.L=1,d.v=Om(Ps(m)),d.m=_,d.P=!0,lP(d,null)}function lP(d,m){d.F=Date.now(),Mm(d),d.A=Ps(d.v);var _=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),wP(_.i,"t",b),d.C=0,_=d.j.J,d.h=new oP,d.g=jP(d.j,_?m:null,!d.m),0<d.O&&(d.M=new OG(f(d.Y,d,d.g),d.O)),m=d.U,_=d.g,b=d.ca;var V="readystatechange";Array.isArray(V)||(V&&(QM[0]=V.toString()),V=QM);for(var j=0;j<V.length;j++){var Z=zM(_,V[j],b||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=d.H?x(d.H):{},d.m?(d.u||(d.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,m)):(d.u="GET",d.g.ea(d.A,d.u,null,m)),qd(),FG(d.i,d.u,d.A,d.l,d.R,d.m)}xo.prototype.ca=function(d){d=d.target;let m=this.M;m&&Rs(d)==3?m.j():this.Y(d)},xo.prototype.Y=function(d){try{if(d==this.g)e:{let Rn=Rs(this.g);var m=this.g.Ba();let vc=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||AP(this.g)))){this.J||Rn!=4||m==7||(m==8||0>=vc?qd(3):qd(2)),tw(this);var _=this.g.Z();this.X=_;t:if(cP(this)){var b=AP(this.g);d="";var V=b.length,j=Rs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){za(this),Kd(this);var Z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,d+=this.h.i.decode(b[m],{stream:!(j&&m==V-1)});b.length=0,this.h.g+=d,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=_==200,VG(this.i,this.u,this.A,this.l,this.R,Rn,_),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,yn=this.g;if((gt=yn.g?yn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(gt)){var rt=gt;break t}}rt=null}if(_=rt)gc(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nw(this,_);else{this.o=!1,this.s=3,Yn(12),za(this),Kd(this);break e}}if(this.P){_=!0;let cr;for(;!this.J&&this.C<Z.length;)if(cr=$G(this,Z),cr==Jb){Rn==4&&(this.s=4,Yn(14),_=!1),gc(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==aP){this.s=4,Yn(15),gc(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}else gc(this.i,this.l,cr,null),nw(this,cr);if(cP(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||Z.length!=0||this.h.h||(this.s=1,Yn(16),_=!1),this.o=this.o&&_,!_)gc(this.i,this.l,Z,"[Invalid Chunked Response]"),za(this),Kd(this);else if(0<Z.length&&!this.W){this.W=!0;var Pn=this.j;Pn.g==this&&Pn.ba&&!Pn.M&&(Pn.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),lw(Pn),Pn.M=!0,Yn(11))}}else gc(this.i,this.l,Z,null),nw(this,Z);Rn==4&&za(this),this.o&&!this.J&&(Rn==4?NP(this.j,this):(this.o=!1,Mm(this)))}else rq(this.g),_==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Yn(12)):(this.s=0,Yn(13)),za(this),Kd(this)}}}catch{}finally{}};function cP(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function $G(d,m){var _=d.C,b=m.indexOf(`
`,_);return b==-1?Jb:(_=Number(m.substring(_,b)),isNaN(_)?aP:(b+=1,b+_>m.length?Jb:(m=m.slice(b,b+_),d.C=b+_,m)))}xo.prototype.cancel=function(){this.J=!0,za(this)};function Mm(d){d.S=Date.now()+d.I,uP(d,d.I)}function uP(d,m){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Yd(f(d.ba,d),m)}function tw(d){d.B&&(a.clearTimeout(d.B),d.B=null)}xo.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(BG(this.i,this.A),this.L!=2&&(qd(),Yn(17)),za(this),this.s=2,Kd(this)):uP(this,this.S-d)};function Kd(d){d.j.G==0||d.J||NP(d.j,d)}function za(d){tw(d);var m=d.M;m&&typeof m.ma=="function"&&m.ma(),d.M=null,ZM(d.U),d.g&&(m=d.g,d.g=null,m.abort(),m.ma())}function nw(d,m){try{var _=d.j;if(_.G!=0&&(_.g==d||iw(_.h,d))){if(!d.K&&iw(_.h,d)&&_.G==3){try{var b=_.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var V=b;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<d.F)Bm(_),Fm(_);else break e;aw(_),Yn(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=Yd(f(_.Za,_),6e3));if(1>=fP(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ga(_,11)}else if((d.K||_.g==d)&&Bm(_),!M(m))for(V=_.Da.g.parse(m),m=0;m<V.length;m++){let rt=V[m];if(_.T=rt[0],rt=rt[1],_.G==2)if(rt[0]=="c"){_.K=rt[1],_.ia=rt[2];let Pn=rt[3];Pn!=null&&(_.la=Pn,_.j.info("VER="+_.la));let Rn=rt[4];Rn!=null&&(_.Aa=Rn,_.j.info("SVER="+_.Aa));let vc=rt[5];vc!=null&&typeof vc=="number"&&0<vc&&(b=1.5*vc,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;let cr=d.g;if(cr){let $m=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($m){var j=b.h;j.g||$m.indexOf("spdy")==-1&&$m.indexOf("quic")==-1&&$m.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(rw(j,j.h),j.h=null))}if(b.D){let cw=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;cw&&(b.ya=cw,Dt(b.I,b.D,cw))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-d.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var Z=d;if(b.qa=BP(b,b.J?b.ia:null,b.W),Z.K){pP(b.h,Z);var gt=Z,yn=b.L;yn&&(gt.I=yn),gt.B&&(tw(gt),Mm(gt)),b.g=Z}else OP(b);0<_.i.length&&Vm(_)}else rt[0]!="stop"&&rt[0]!="close"||Ga(_,7);else _.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ga(_,7):ow(_):rt[0]!="noop"&&_.l&&_.l.ta(rt),_.v=0)}}qd(4)}catch{}}var HG=class{constructor(d,m){this.g=d,this.map=m}};function dP(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hP(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fP(d){return d.h?1:d.g?d.g.size:0}function iw(d,m){return d.h?d.h==m:d.g?d.g.has(m):!1}function rw(d,m){d.g?d.g.add(m):d.h=m}function pP(d,m){d.h&&d.h==m?d.h=null:d.g&&d.g.has(m)&&d.g.delete(m)}dP.prototype.cancel=function(){if(this.i=mP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function mP(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let m=d.i;for(let _ of d.g.values())m=m.concat(_.D);return m}return y(d.i)}function UG(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var m=[],_=d.length,b=0;b<_;b++)m.push(d[b]);return m}m=[],_=0;for(b in d)m[_++]=d[b];return m}function zG(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var m=[];d=d.length;for(var _=0;_<d;_++)m.push(_);return m}m=[],_=0;for(let b in d)m[_++]=b;return m}}}function gP(d,m){if(d.forEach&&typeof d.forEach=="function")d.forEach(m,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,m,void 0);else for(var _=zG(d),b=UG(d),V=b.length,j=0;j<V;j++)m.call(void 0,b[j],_&&_[j],d)}var yP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WG(d,m){if(d){d=d.split("&");for(var _=0;_<d.length;_++){var b=d[_].indexOf("="),V=null;if(0<=b){var j=d[_].substring(0,b);V=d[_].substring(b+1)}else j=d[_];m(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Wa(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wa){this.h=d.h,Pm(this,d.j),this.o=d.o,this.g=d.g,Rm(this,d.s),this.l=d.l;var m=d.i,_=new Jd;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_P(this,_),this.m=d.m}else d&&(m=String(d).match(yP))?(this.h=!1,Pm(this,m[1]||"",!0),this.o=Qd(m[2]||""),this.g=Qd(m[3]||"",!0),Rm(this,m[4]),this.l=Qd(m[5]||"",!0),_P(this,m[6]||"",!0),this.m=Qd(m[7]||"")):(this.h=!1,this.i=new Jd(null,this.h))}Wa.prototype.toString=function(){var d=[],m=this.j;m&&d.push(Zd(m,vP,!0),":");var _=this.g;return(_||m=="file")&&(d.push("//"),(m=this.o)&&d.push(Zd(m,vP,!0),"@"),d.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&d.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(Zd(_,_.charAt(0)=="/"?YG:qG,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",Zd(_,KG)),d.join("")};function Ps(d){return new Wa(d)}function Pm(d,m,_){d.j=_?Qd(m,!0):m,d.j&&(d.j=d.j.replace(/:$/,""))}function Rm(d,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);d.s=m}else d.s=null}function _P(d,m,_){m instanceof Jd?(d.i=m,QG(d.i,d.h)):(_||(m=Zd(m,XG)),d.i=new Jd(m,d.h))}function Dt(d,m,_){d.i.set(m,_)}function Om(d){return Dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Qd(d,m){return d?m?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zd(d,m,_){return typeof d=="string"?(d=encodeURI(d).replace(m,GG),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function GG(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var vP=/[#\/\?@]/g,qG=/[#\?:]/g,YG=/[#\?]/g,XG=/[#\?@]/g,KG=/#/g;function Jd(d,m){this.h=this.g=null,this.i=d||null,this.j=!!m}function bo(d){d.g||(d.g=new Map,d.h=0,d.i&&WG(d.i,function(m,_){d.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=Jd.prototype,n.add=function(d,m){bo(this),this.i=null,d=yc(this,d);var _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(m),this.h+=1,this};function xP(d,m){bo(d),m=yc(d,m),d.g.has(m)&&(d.i=null,d.h-=d.g.get(m).length,d.g.delete(m))}function bP(d,m){return bo(d),m=yc(d,m),d.g.has(m)}n.forEach=function(d,m){bo(this),this.g.forEach(function(_,b){_.forEach(function(V){d.call(m,V,b,this)},this)},this)},n.na=function(){bo(this);let d=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let b=0;b<m.length;b++){let V=d[b];for(let j=0;j<V.length;j++)_.push(m[b])}return _},n.V=function(d){bo(this);let m=[];if(typeof d=="string")bP(this,d)&&(m=m.concat(this.g.get(yc(this,d))));else{d=Array.from(this.g.values());for(let _=0;_<d.length;_++)m=m.concat(d[_])}return m},n.set=function(d,m){return bo(this),this.i=null,d=yc(this,d),bP(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[m]),this.h+=1,this},n.get=function(d,m){return d?(d=this.V(d),0<d.length?String(d[0]):m):m};function wP(d,m,_){xP(d,m),0<_.length&&(d.i=null,d.g.set(yc(d,m),y(_)),d.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var b=m[_];let j=encodeURIComponent(String(b)),Z=this.V(b);for(b=0;b<Z.length;b++){var V=j;Z[b]!==""&&(V+="="+encodeURIComponent(String(Z[b]))),d.push(V)}}return this.i=d.join("&")};function yc(d,m){return m=String(m),d.j&&(m=m.toLowerCase()),m}function QG(d,m){m&&!d.j&&(bo(d),d.i=null,d.g.forEach(function(_,b){var V=b.toLowerCase();b!=V&&(xP(this,b),wP(this,V,_))},d)),d.j=m}function ZG(d,m){let _=new Xd;if(a.Image){let b=new Image;b.onload=p(wo,_,"TestLoadImage: loaded",!0,m,b),b.onerror=p(wo,_,"TestLoadImage: error",!1,m,b),b.onabort=p(wo,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=p(wo,_,"TestLoadImage: timeout",!1,m,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else m(!1)}function JG(d,m){let _=new Xd,b=new AbortController,V=setTimeout(()=>{b.abort(),wo(_,"TestPingServer: timeout",!1,m)},1e4);fetch(d,{signal:b.signal}).then(j=>{clearTimeout(V),j.ok?wo(_,"TestPingServer: ok",!0,m):wo(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),wo(_,"TestPingServer: error",!1,m)})}function wo(d,m,_,b,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),b(_)}catch{}}function eq(){this.g=new NG}function tq(d,m,_){let b=_||"";try{gP(d,function(V,j){let Z=V;c(V)&&(Z=Yb(V)),m.push(b+j+"="+encodeURIComponent(Z))})}catch(V){throw m.push(b+"type="+encodeURIComponent("_badmap")),V}}function eh(d){this.l=d.Ub||null,this.j=d.eb||!1}g(eh,Xb),eh.prototype.g=function(){return new Lm(this.l,this.j)},eh.prototype.i=function(d){return function(){return d}}({});function Lm(d,m){Mn.call(this),this.D=d,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Lm,Mn),n=Lm.prototype,n.open=function(d,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=m,this.readyState=1,nh(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(m.body=d),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,th(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,nh(this)),this.g&&(this.readyState=3,nh(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;TP(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function TP(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var m=d.value?d.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!d.done}))&&(this.response=this.responseText+=m)}d.done?th(this):nh(this),this.readyState==3&&TP(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,th(this))},n.Qa=function(d){this.g&&(this.response=d,th(this))},n.ga=function(){this.g&&th(this)};function th(d){d.readyState=4,d.l=null,d.j=null,d.v=null,nh(d)}n.setRequestHeader=function(d,m){this.u.append(d,m)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=m.next();return d.join(`\r
`)};function nh(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Lm.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function CP(d){let m="";return B(d,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function sw(d,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=CP(_),typeof d=="string"?_!=null&&encodeURIComponent(String(_)):Dt(d,m,_))}function jt(d){Mn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(jt,Mn);var nq=/^https?$/i,iq=["POST","PUT"];n=jt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);m=m?m.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zb.g(),this.v=this.o?JM(this.o):JM(Zb),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(d),!0),this.B=!1}catch(j){SP(this,j);return}if(d=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var V in b)_.set(V,b[V]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let j of b.keys())_.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iq,m,void 0))||b||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[j,Z]of _)this.g.setRequestHeader(j,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{DP(this),this.u=!0,this.g.send(d),this.u=!1}catch(j){SP(this,j)}};function SP(d,m){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=m,d.m=5,EP(d),Nm(d)}function EP(d){d.A||(d.A=!0,qn(d,"complete"),qn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,qn(this,"complete"),qn(this,"abort"),Nm(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nm(this,!0)),jt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?IP(this):this.bb())},n.bb=function(){IP(this)};function IP(d){if(d.h&&typeof o<"u"&&(!d.v[1]||Rs(d)!=4||d.Z()!=2)){if(d.u&&Rs(d)==4)XM(d.Ea,0,d);else if(qn(d,"readystatechange"),Rs(d)==4){d.h=!1;try{let Z=d.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=Z===0){var V=String(d.D).match(yP)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),b=!nq.test(V?V.toLowerCase():"")}_=b}if(_)qn(d,"complete"),qn(d,"success");else{d.m=6;try{var j=2<Rs(d)?d.g.statusText:""}catch{j=""}d.l=j+" ["+d.Z()+"]",EP(d)}}finally{Nm(d)}}}}function Nm(d,m){if(d.g){DP(d);let _=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,m||qn(d,"ready");try{_.onreadystatechange=b}catch{}}}function DP(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Rs(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Rs(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var m=this.g.responseText;return d&&m.indexOf(d)==0&&(m=m.substring(d.length)),LG(m)}};function AP(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function rq(d){let m={};d=(d.g&&2<=Rs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(M(d[b]))continue;var _=A(d[b]);let V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();let j=m[V]||[];m[V]=j,j.push(_)}D(m,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ih(d,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||m}function kP(d){this.Aa=0,this.i=[],this.j=new Xd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ih("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ih("baseRetryDelayMs",5e3,d),this.cb=ih("retryDelaySeedMs",1e4,d),this.Wa=ih("forwardChannelMaxRetries",2,d),this.wa=ih("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new dP(d&&d.concurrentRequestLimit),this.Da=new eq,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=kP.prototype,n.la=8,n.G=1,n.connect=function(d,m,_,b){Yn(0),this.W=d,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=BP(this,null,this.W),Vm(this)};function ow(d){if(MP(d),d.G==3){var m=d.U++,_=Ps(d.I);if(Dt(_,"SID",d.K),Dt(_,"RID",m),Dt(_,"TYPE","terminate"),rh(d,_),m=new xo(d,d.j,m),m.L=2,m.v=Om(Ps(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=m.v,_=!0),_||(m.g=jP(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mm(m)}VP(d)}function Fm(d){d.g&&(lw(d),d.g.cancel(),d.g=null)}function MP(d){Fm(d),d.u&&(a.clearTimeout(d.u),d.u=null),Bm(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Vm(d){if(!hP(d.h)&&!d.s){d.s=!0;var m=d.Ga;K||nt(),ee||(K(),ee=!0),oe.add(m,d),d.B=0}}function sq(d,m){return fP(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=m.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Yd(f(d.Ga,d,m),FP(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let V=new xo(this,this.j,d),j=this.o;if(this.S&&(j?(j=x(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=RP(this,V,m),_=Ps(this.I),Dt(_,"RID",d),Dt(_,"CVER",22),this.D&&Dt(_,"X-HTTP-Session-Id",this.D),rh(this,_),j&&(this.O?m="headers="+encodeURIComponent(String(CP(j)))+"&"+m:this.m&&sw(_,this.m,j)),rw(this.h,V),this.Ua&&Dt(_,"TYPE","init"),this.P?(Dt(_,"$req",m),Dt(_,"SID","null"),V.T=!0,ew(V,_,null)):ew(V,_,m),this.G=2}}else this.G==3&&(d?PP(this,d):this.i.length==0||hP(this.h)||PP(this))};function PP(d,m){var _;m?_=m.l:_=d.U++;let b=Ps(d.I);Dt(b,"SID",d.K),Dt(b,"RID",_),Dt(b,"AID",d.T),rh(d,b),d.m&&d.o&&sw(b,d.m,d.o),_=new xo(d,d.j,_,d.B+1),d.m===null&&(_.H=d.o),m&&(d.i=m.D.concat(d.i)),m=RP(d,_,1e3),_.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),rw(d.h,_),ew(_,b,m)}function rh(d,m){d.H&&B(d.H,function(_,b){Dt(m,b,_)}),d.l&&gP({},function(_,b){Dt(m,b,_)})}function RP(d,m,_){_=Math.min(d.i.length,_);var b=d.l?f(d.l.Na,d.l,d):null;e:{var V=d.i;let j=-1;for(;;){let Z=["count="+_];j==-1?0<_?(j=V[0].g,Z.push("ofs="+j)):j=0:Z.push("ofs="+j);let gt=!0;for(let yn=0;yn<_;yn++){let rt=V[yn].g,Pn=V[yn].map;if(rt-=j,0>rt)j=Math.max(0,V[yn].g-100),gt=!1;else try{tq(Pn,Z,"req"+rt+"_")}catch{b&&b(Pn)}}if(gt){b=Z.join("&");break e}}}return d=d.i.splice(0,_),m.D=d,b}function OP(d){if(!d.g&&!d.u){d.Y=1;var m=d.Fa;K||nt(),ee||(K(),ee=!0),oe.add(m,d),d.v=0}}function aw(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Yd(f(d.Fa,d),FP(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,LP(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Yd(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yn(10),Fm(this),LP(this))};function lw(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function LP(d){d.g=new xo(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var m=Ps(d.qa);Dt(m,"RID","rpc"),Dt(m,"SID",d.K),Dt(m,"AID",d.T),Dt(m,"CI",d.F?"0":"1"),!d.F&&d.ja&&Dt(m,"TO",d.ja),Dt(m,"TYPE","xmlhttp"),rh(d,m),d.m&&d.o&&sw(m,d.m,d.o),d.L&&(d.g.I=d.L);var _=d.g;d=d.ia,_.L=1,_.v=Om(Ps(m)),_.m=null,_.P=!0,lP(_,d)}n.Za=function(){this.C!=null&&(this.C=null,Fm(this),aw(this),Yn(19))};function Bm(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function NP(d,m){var _=null;if(d.g==m){Bm(d),lw(d),d.g=null;var b=2}else if(iw(d.h,m))_=m.D,pP(d.h,m),b=1;else return;if(d.G!=0){if(m.o)if(b==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var V=d.B;b=Dm(),qn(b,new rP(b,_)),Vm(d)}else OP(d);else if(V=m.s,V==3||V==0&&0<m.X||!(b==1&&sq(d,m)||b==2&&aw(d)))switch(_&&0<_.length&&(m=d.h,m.i=m.i.concat(_)),V){case 1:Ga(d,5);break;case 4:Ga(d,10);break;case 3:Ga(d,6);break;default:Ga(d,2)}}}function FP(d,m){let _=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(_*=2),_*m}function Ga(d,m){if(d.j.info("Error code "+m),m==2){var _=f(d.fb,d),b=d.Xa;let V=!b;b=new Wa(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pm(b,"https"),Om(b),V?ZG(b.toString(),_):JG(b.toString(),_)}else Yn(2);d.G=0,d.l&&d.l.sa(m),VP(d),MP(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Yn(2)):(this.j.info("Failed to ping google.com"),Yn(1))};function VP(d){if(d.G=0,d.ka=[],d.l){let m=mP(d.h);(m.length!=0||d.i.length!=0)&&(v(d.ka,m),v(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function BP(d,m,_){var b=_ instanceof Wa?Ps(_):new Wa(_);if(b.g!="")m&&(b.g=m+"."+b.g),Rm(b,b.s);else{var V=a.location;b=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var j=new Wa(null);b&&Pm(j,b),m&&(j.g=m),V&&Rm(j,V),_&&(j.l=_),b=j}return _=d.D,m=d.ya,_&&m&&Dt(b,_,m),Dt(b,"VER",d.la),rh(d,b),b}function jP(d,m,_){if(m&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=d.Ca&&!d.pa?new jt(new eh({eb:_})):new jt(d.pa),m.Ha(d.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $P(){}n=$P.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function jm(){}jm.prototype.g=function(d,m){return new Ii(d,m)};function Ii(d,m){Mn.call(this),this.g=new kP(m),this.l=d,this.h=m&&m.messageUrlParams||null,d=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(d?d["X-WebChannel-Content-Type"]=m.messageContentType:d={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(d?d["X-WebChannel-Client-Profile"]=m.va:d={"X-WebChannel-Client-Profile":m.va}),this.g.S=d,(d=m&&m.Sb)&&!M(d)&&(this.g.m=d),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!M(m)&&(this.g.D=m,d=this.h,d!==null&&m in d&&(d=this.h,m in d&&delete d[m])),this.j=new _c(this)}g(Ii,Mn),Ii.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ii.prototype.close=function(){ow(this.g)},Ii.prototype.o=function(d){var m=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.u&&(_={},_.__data__=Yb(d),d=_);m.i.push(new HG(m.Ya++,d)),m.G==3&&Vm(m)},Ii.prototype.N=function(){this.g.l=null,delete this.j,ow(this.g),delete this.g,Ii.aa.N.call(this)};function HP(d){Kb.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var m=d.__sm__;if(m){e:{for(let _ in m){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,m=m!==null&&d in m?m[d]:void 0),this.data=m}else this.data=d}g(HP,Kb);function UP(){Qb.call(this),this.status=1}g(UP,Qb);function _c(d){this.g=d}g(_c,$P),_c.prototype.ua=function(){qn(this.g,"a")},_c.prototype.ta=function(d){qn(this.g,new HP(d))},_c.prototype.sa=function(d){qn(this.g,new UP)},_c.prototype.ra=function(){qn(this.g,"b")},jm.prototype.createWebChannel=jm.prototype.g,Ii.prototype.send=Ii.prototype.o,Ii.prototype.open=Ii.prototype.m,Ii.prototype.close=Ii.prototype.close,kI=eo.createWebChannelTransport=function(){return new jm},AI=eo.getStatEventTarget=function(){return Dm()},DI=eo.Event=Ua,gv=eo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Am.NO_ERROR=0,Am.TIMEOUT=8,Am.HTTP_ERROR=6,Gf=eo.ErrorCode=Am,sP.COMPLETE="complete",II=eo.EventType=sP,eP.EventType=Gd,Gd.OPEN="a",Gd.CLOSE="b",Gd.ERROR="c",Gd.MESSAGE="d",Mn.prototype.listen=Mn.prototype.K,ku=eo.WebChannel=eP,jre=eo.FetchXmlHttpFactory=eh,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,EI=eo.XhrIo=jt}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var Sj="@firebase/firestore",Ej="4.7.16";var mn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");var Zu="11.8.1";var Fl=new as("@firebase/firestore");function Mu(){return Fl.logLevel}function ae(n,...e){if(Fl.logLevel<=Ue.DEBUG){let t=e.map(_A);Fl.debug(`Firestore (${Zu}): ${n}`,...t)}}function no(n,...e){if(Fl.logLevel<=Ue.ERROR){let t=e.map(_A);Fl.error(`Firestore (${Zu}): ${n}`,...t)}}function Vu(n,...e){if(Fl.logLevel<=Ue.WARN){let t=e.map(_A);Fl.warn(`Firestore (${Zu}): ${n}`,...t)}}function _A(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ge(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,_3(n,i,t)}function _3(n,e,t){let i=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw no(i),new Error(i)}function dt(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||_3(e,r,i)}function Te(n,e){return n}var W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},le=class extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ir=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Tv=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},LI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}},NI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},FI=class{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ir,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>E(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ir)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new Tv(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new mn(e)}},VI=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},BI=class{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new VI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);let i=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.m;return this.m=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.V.getImmediate({optional:!0});s?r(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Cv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function $re(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}function v3(){return new TextEncoder}var Sv=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),i="";for(;i.length<20;){let r=$re(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}};function Fe(n,e){return n<e?-1:n>e?1:0}function $I(n,e){let t=0;for(;t<n.length&&t<e.length;){let i=n.codePointAt(t),r=e.codePointAt(t);if(i!==r){if(i<128&&r<128)return Fe(i,r);{let s=v3(),o=Hre(s.encode(Ij(n,t)),s.encode(Ij(e,t)));return o!==0?o:Fe(i,r)}}t+=i>65535?2:1}return Fe(n.length,e.length)}function Ij(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Hre(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Fe(n[t],e[t]);return Fe(n.length,e.length)}function Bu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Dj=-62135596800,Aj=1e6,Pt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Aj);return new n(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Dj)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Aj}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-Dj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ce=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Pt(0,0))}static max(){return new n(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var kj="__name__",Ev=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ge(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=n.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return Fe(e.length,t.length)}static compareSegments(e,t){let i=n.isNumericId(e),r=n.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(e).compare(n.extractNumericId(t)):$I(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}},Ft=class n extends Ev{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},Ure=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bi=class n extends Ev{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return Ure.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kj}static keyField(){return new n([kj])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var pe=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ft.fromString(e))}static fromName(e){return new n(Ft.fromString(e).popFirst(5))}static empty(){return new n(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ft(e.slice()))}};var Zf=-1,HI=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};HI.UNKNOWN_ID=-1;function zre(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(i===1e9?new Pt(t+1,0):new Pt(t,i));return new Vl(r,pe.empty(),e)}function Wre(n){return new Vl(n.readTime,n.key,Zf)}var Vl=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Ce.min(),pe.empty(),Zf)}static max(){return new n(Ce.max(),pe.empty(),Zf)}};function Gre(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}var qre="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ju(n){return E(this,null,function*(){if(n.code!==W.FAILED_PRECONDITION||n.message!==qre)throw n;ae("LocalStore","Unexpectedly lost primary lease")})}var X=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function Yre(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ed(n){return n.name==="IndexedDbTransactionError"}var vA=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>i.writeSequenceNumber(r))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),xA=-1;function s0(n){return n==null}function Jf(n){return n===0&&1/n==-1/0}function Xre(n){return typeof n=="number"&&Number.isInteger(n)&&!Jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var x3="";function Kre(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Mj(e)),e=Qre(n.get(t),e);return Mj(e)}function Qre(n,e){let t=e,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":t+="";break;case x3:t+="";break;default:t+=s}}return t}function Mj(n){return n+x3+""}var Zre="remoteDocuments",b3="owner";var w3="mutationQueues";var T3="mutations";var C3="documentMutations",Jre="remoteDocumentsV14";var S3="remoteDocumentGlobal";var E3="targets";var I3="targetDocuments";var D3="targetGlobal",A3="collectionParents";var k3="clientMetadata";var M3="bundles";var P3="namedQueries";var ese="indexConfiguration";var tse="indexState";var nse="indexEntries";var R3="documentOverlays";var ise="globals";var rse=[w3,T3,C3,Zre,E3,b3,D3,I3,k3,S3,A3,M3,P3],DMe=[...rse,R3],sse=[w3,T3,C3,Jre,E3,b3,D3,I3,k3,S3,A3,M3,P3,R3],ose=sse,ase=[...ose,ese,tse,nse];var AMe=[...ase,ise];function Pj(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fa(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O3(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Gt=class n{constructor(e,t){this.comparator=e,this.root=t||ds.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}},Lu=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ds=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}};ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1;ds.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,i,r,s){return this}insert(e,t,i){return new ds(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gn=class n{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Iv=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tr=class n{constructor(e){this.fields=e,e.sort(Bi.comparator)}static empty(){return new n([])}unionWith(e){let t=new gn(Bi.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bu(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Dv=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Hn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Dv("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Hn.EMPTY_BYTE_STRING=new Hn("");var lse=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(n){if(dt(!!n,39018),typeof n=="string"){let e=0,t=lse.exec(n);if(dt(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?Hn.fromBase64String(n):Hn.fromUint8Array(n)}var L3="server_timestamp",N3="__type__",F3="__previous_value__",V3="__local_write_time__";function bA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[N3])===null||t===void 0?void 0:t.stringValue)===L3}function o0(n){let e=n.mapValue.fields[F3];return bA(e)?o0(e):e}function ep(n){let e=io(n.mapValue.fields[V3].timestampValue);return new Pt(e.seconds,e.nanos)}var zI=class{constructor(e,t,i,r,s,o,a,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}},Av="(default)",kv=class n{constructor(e,t){this.projectId=e,this.database=t||Av}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Av}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var wA="__type__",B3="__max__",yv={mapValue:{fields:{__type__:{stringValue:B3}}}},TA="__vector__",ju="value";function ua(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bA(n)?4:$3(n)?9007199254740991:j3(n)?10:11:ge(28295,{value:n})}function ps(n,e){if(n===e)return!0;let t=ua(n);if(t!==ua(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ep(n).isEqual(ep(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=io(r.timestampValue),a=io(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return ro(r.bytesValue).isEqual(ro(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Mt(r.geoPointValue.latitude)===Mt(s.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Mt(r.integerValue)===Mt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Mt(r.doubleValue),a=Mt(s.doubleValue);return o===a?Jf(o)===Jf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Bu(n.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Pj(o)!==Pj(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ps(o[l],a[l])))return!1;return!0}(n,e);default:return ge(52216,{left:n})}}function tp(n,e){return(n.values||[]).find(t=>ps(t,e))!==void 0}function $u(n,e){if(n===e)return 0;let t=ua(n),i=ua(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Mt(s.integerValue||s.doubleValue),l=Mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return Rj(n.timestampValue,e.timestampValue);case 4:return Rj(ep(n),ep(e));case 5:return $I(n.stringValue,e.stringValue);case 6:return function(s,o){let a=ro(s),l=ro(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){let u=Fe(a[c],l[c]);if(u!==0)return u}return Fe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Fe(Mt(s.latitude),Mt(o.latitude));return a!==0?a:Fe(Mt(s.longitude),Mt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Oj(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,u;let h=s.fields||{},f=o.fields||{},p=(a=h[ju])===null||a===void 0?void 0:a.arrayValue,g=(l=f[ju])===null||l===void 0?void 0:l.arrayValue,y=Fe(((c=p?.values)===null||c===void 0?void 0:c.length)||0,((u=g?.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:Oj(p,g)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===yv.mapValue&&o===yv.mapValue)return 0;if(s===yv.mapValue)return 1;if(o===yv.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){let f=$I(l[h],u[h]);if(f!==0)return f;let p=$u(a[l[h]],c[u[h]]);if(p!==0)return p}return Fe(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ge(23264,{Pe:t})}}function Rj(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);let t=io(n),i=io(e),r=Fe(t.seconds,i.seconds);return r!==0?r:Fe(t.nanos,i.nanos)}function Oj(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=$u(t[r],i[r]);if(s)return s}return Fe(t.length,i.length)}function Hu(n){return WI(n)}function WI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=io(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ro(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=WI(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${WI(t.fields[o])}`;return r+"}"}(n.mapValue):ge(61005,{value:n})}function xv(n){switch(ua(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=o0(n);return e?16+xv(e):16;case 5:return 2*n.stringValue.length;case 6:return ro(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+xv(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return fa(i.fields,(s,o)=>{r+=s.length+xv(o)}),r}(n.mapValue);default:throw ge(13486,{value:n})}}function Lj(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function GI(n){return!!n&&"integerValue"in n}function CA(n){return!!n&&"arrayValue"in n}function Nj(n){return!!n&&"nullValue"in n}function Fj(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bv(n){return!!n&&"mapValue"in n}function j3(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wA])===null||t===void 0?void 0:t.stringValue)===TA}function Yf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Yf(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===B3}var MMe={mapValue:{fields:{[wA]:{stringValue:TA},[ju]:{arrayValue:{}}}}};var Vi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!bv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yf(t)}setAll(e){let t=Bi.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Yf(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());bv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];bv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){fa(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Yf(this.value))}};function H3(n){let e=[];return fa(n.fields,(t,i)=>{let r=new Bi([t]);if(bv(i)){let s=H3(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new tr(e)}var Dr=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Ce.min(),Ce.min(),Ce.min(),Vi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Ce.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Ce.min(),Ce.min(),Vi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Ce.min(),Ce.min(),Vi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Uu=class{constructor(e,t){this.position=e,this.inclusive=t}};function Vj(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=pe.comparator(pe.fromName(o.referenceValue),t.key):i=$u(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Bj(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ps(n.position[t],e.position[t]))return!1;return!0}var zu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function cse(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Mv=class{},nn=class n extends Mv{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new YI(e,t,i):t==="array-contains"?new QI(e,i):t==="in"?new ZI(e,i):t==="not-in"?new JI(e,i):t==="array-contains-any"?new eD(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new XI(e,i):new KI(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison($u(t,this.value)):t!==null&&ua(this.value)===ua(t)&&this.matchesComparison($u(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ar=class n extends Mv{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return U3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function U3(n){return n.op==="and"}function z3(n){return use(n)&&U3(n)}function use(n){for(let e of n.filters)if(e instanceof Ar)return!1;return!0}function qI(n){if(n instanceof nn)return n.field.canonicalString()+n.op.toString()+Hu(n.value);if(z3(n))return n.filters.map(e=>qI(e)).join(",");{let e=n.filters.map(t=>qI(t)).join(",");return`${n.op}(${e})`}}function W3(n,e){return n instanceof nn?function(i,r){return r instanceof nn&&i.op===r.op&&i.field.isEqual(r.field)&&ps(i.value,r.value)}(n,e):n instanceof Ar?function(i,r){return r instanceof Ar&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&W3(o,r.filters[a]),!0):!1}(n,e):void ge(19439)}function G3(n){return n instanceof nn?function(t){return`${t.field.canonicalString()} ${t.op} ${Hu(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(G3).join(" ,")+"}"}(n):"Filter"}var YI=class extends nn{constructor(e,t,i){super(e,t,i),this.key=pe.fromName(i.referenceValue)}matches(e){let t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}},XI=class extends nn{constructor(e,t){super(e,"in",t),this.keys=q3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},KI=class extends nn{constructor(e,t){super(e,"not-in",t),this.keys=q3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function q3(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>pe.fromName(i.referenceValue))}var QI=class extends nn{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return CA(t)&&tp(t.arrayValue,this.value)}},ZI=class extends nn{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&tp(this.value.arrayValue,t)}},JI=class extends nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!tp(this.value.arrayValue,t)}},eD=class extends nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!CA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>tp(this.value.arrayValue,i))}};var tD=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}};function jj(n,e=null,t=[],i=[],r=null,s=null,o=null){return new tD(n,e,t,i,r,s,o)}function SA(n){let e=Te(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>qI(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),s0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Hu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Hu(i)).join(",")),e.Ie=t}return e.Ie}function EA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cse(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!W3(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Bj(n.startAt,e.startAt)&&Bj(n.endAt,e.endAt)}function nD(n){return pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Bl=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function dse(n,e,t,i,r,s,o,a){return new Bl(n,e,t,i,r,s,o,a)}function a0(n){return new Bl(n)}function $j(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Y3(n){return n.collectionGroup!==null}function Xf(n){let e=Te(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let s of e.explicitOrderBy)e.Ee.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gn(Bi.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new zu(s,i))}),t.has(Bi.keyField().canonicalString())||e.Ee.push(new zu(Bi.keyField(),i))}return e.Ee}function hs(n){let e=Te(n);return e.de||(e.de=hse(e,Xf(n))),e.de}function hse(n,e){if(n.limitType==="F")return jj(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new zu(r.field,s)});let t=n.endAt?new Uu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Uu(n.startAt.position,n.startAt.inclusive):null;return jj(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function iD(n,e){let t=n.filters.concat([e]);return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function rD(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function l0(n,e){return EA(hs(n),hs(e))&&n.limitType===e.limitType}function X3(n){return`${SA(hs(n))}|lt:${n.limitType}`}function Pu(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>G3(r)).join(", ")}]`),s0(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Hu(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Hu(r)).join(",")),`Target(${i})`}(hs(n))}; limitType=${n.limitType})`}function c0(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):pe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Xf(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let c=Vj(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Xf(i),r)||i.endAt&&!function(o,a,l){let c=Vj(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Xf(i),r))}(n,e)}function fse(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K3(n){return(e,t)=>{let i=!1;for(let r of Xf(n)){let s=pse(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function pse(n,e,t){let i=n.field.isKeyField()?pe.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?$u(l,c):ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ge(19790,{direction:n.dir})}}var so=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return O3(this.inner)}size(){return this.innerSize}};var mse=new Gt(pe.comparator);function oo(){return mse}var Q3=new Gt(pe.comparator);function qf(...n){let e=Q3;for(let t of n)e=e.insert(t.key,t);return e}function Z3(n){let e=Q3;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ol(){return Kf()}function J3(){return Kf()}function Kf(){return new so(n=>n.toString(),(n,e)=>n.isEqual(e))}var gse=new Gt(pe.comparator),yse=new gn(pe.comparator);function Qe(...n){let e=yse;for(let t of n)e=e.add(t);return e}var _se=new gn(Fe);function vse(){return _se}function IA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function e$(n){return{integerValue:""+n}}function xse(n,e){return Xre(e)?e$(e):IA(n,e)}var Wu=class{constructor(){this._=void 0}};function bse(n,e,t){return n instanceof Gu?function(r,s){let o={fields:{[N3]:{stringValue:L3},[V3]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&bA(s)&&(s=o0(s)),s&&(o.fields[F3]=s),{mapValue:o}}(t,e):n instanceof jl?n$(n,e):n instanceof $l?i$(n,e):function(r,s){let o=t$(r,s),a=Hj(o)+Hj(r.Re);return GI(o)&&GI(r.Re)?e$(a):IA(r.serializer,a)}(n,e)}function wse(n,e,t){return n instanceof jl?n$(n,e):n instanceof $l?i$(n,e):t}function t$(n,e){return n instanceof qu?function(i){return GI(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Gu=class extends Wu{},jl=class extends Wu{constructor(e){super(),this.elements=e}};function n$(n,e){let t=r$(e);for(let i of n.elements)t.some(r=>ps(r,i))||t.push(i);return{arrayValue:{values:t}}}var $l=class extends Wu{constructor(e){super(),this.elements=e}};function i$(n,e){let t=r$(e);for(let i of n.elements)t=t.filter(r=>!ps(r,i));return{arrayValue:{values:t}}}var qu=class extends Wu{constructor(e,t){super(),this.serializer=e,this.Re=t}};function Hj(n){return Mt(n.integerValue||n.doubleValue)}function r$(n){return CA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Tse(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof jl&&r instanceof jl||i instanceof $l&&r instanceof $l?Bu(i.elements,r.elements,ps):i instanceof qu&&r instanceof qu?ps(i.Re,r.Re):i instanceof Gu&&r instanceof Gu}(n.transform,e.transform)}var sD=class{constructor(e,t){this.version=e,this.transformResults=t}},to=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function wv(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Yu=class{};function s$(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new np(n.key,to.none()):new Hl(n.key,n.data,to.none());{let t=n.data,i=Vi.empty(),r=new gn(Bi.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ms(n.key,i,new tr(r.toArray()),to.none())}}function Cse(n,e,t){n instanceof Hl?function(r,s,o){let a=r.value.clone(),l=zj(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ms?function(r,s,o){if(!wv(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=zj(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(o$(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Qf(n,e,t,i){return n instanceof Hl?function(s,o,a,l){if(!wv(s.precondition,o))return a;let c=s.value.clone(),u=Wj(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof ms?function(s,o,a,l){if(!wv(s.precondition,o))return a;let c=Wj(s.fieldTransforms,l,o),u=o.data;return u.setAll(o$(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(s,o,a){return wv(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Sse(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=t$(i.transform,r||null);s!=null&&(t===null&&(t=Vi.empty()),t.set(i.field,s))}return t||null}function Uj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Bu(i,r,(s,o)=>Tse(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Hl=class extends Yu{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ms=class extends Yu{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function o$(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function zj(n,e,t){let i=new Map;dt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,wse(o,a,t[r]))}return i}function Wj(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,bse(s,o,e))}return i}var np=class extends Yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},oD=class extends Yu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var aD=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Cse(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qf(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Qf(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=J3();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=s$(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Bu(this.mutations,e.mutations,(t,i)=>Uj(t,i))&&Bu(this.baseMutations,e.baseMutations,(t,i)=>Uj(t,i))}},lD=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){dt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let r=function(){return gse}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var cD=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var uD=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var en,tt;function Ese(n){switch(n){case W.OK:return ge(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ge(15467,{code:n})}}function a$(n){if(n===void 0)return no("GRPC error has no .code"),W.UNKNOWN;switch(n){case en.OK:return W.OK;case en.CANCELLED:return W.CANCELLED;case en.UNKNOWN:return W.UNKNOWN;case en.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case en.INTERNAL:return W.INTERNAL;case en.UNAVAILABLE:return W.UNAVAILABLE;case en.UNAUTHENTICATED:return W.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case en.NOT_FOUND:return W.NOT_FOUND;case en.ALREADY_EXISTS:return W.ALREADY_EXISTS;case en.PERMISSION_DENIED:return W.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case en.ABORTED:return W.ABORTED;case en.OUT_OF_RANGE:return W.OUT_OF_RANGE;case en.UNIMPLEMENTED:return W.UNIMPLEMENTED;case en.DATA_LOSS:return W.DATA_LOSS;default:return ge(39323,{code:n})}}(tt=en||(en={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";var Gj=null;var Ise=new Js([4294967295,4294967295],0);function qj(n){let e=v3().encode(n),t=new SI;return t.update(e),new Uint8Array(t.digest())}function Yj(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Js([t,i],0),new Js([r,s],0)]}var dD=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(i<0)throw new Ll(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Js.fromNumber(this.pe)}we(e,t,i){let r=e.add(t.multiply(Js.fromNumber(i)));return r.compare(Ise)===1&&(r=new Js([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=qj(e),[i,r]=Yj(t);for(let s=0;s<this.hashCount;s++){let o=this.we(i,r,s);if(!this.Se(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;let t=qj(e),[i,r]=Yj(t);for(let s=0;s<this.hashCount;s++){let o=this.we(i,r,s);this.be(o)}}be(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Ll=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Pv=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,ip.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Ce.min(),r,new Gt(Fe),oo(),Qe())}},ip=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Qe(),Qe(),Qe())}};var Nu=class{constructor(e,t,i,r){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=r}},Rv=class{constructor(e,t){this.targetId=e,this.Ce=t}},Ov=class{constructor(e,t,i=Hn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Lv=class{constructor(){this.Fe=0,this.Me=Xj(),this.xe=Hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Qe(),t=Qe(),i=Qe();return this.Me.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ge(38017,{changeType:s})}}),new ip(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Xj()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},hD=class{constructor(e){this.ze=e,this.je=new Map,this.He=oo(),this.Je=_v(),this.Ye=_v(),this.Ze=new Gt(Fe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,r)=>{this.it(r)&&t(r)})}ot(e){let t=e.targetId,i=e.Ce.count,r=this._t(t);if(r){let s=r.target;if(nD(s))if(i===0){let o=new pe(s.path);this.tt(t,o,Dr.newNoDocument(o,Ce.min()))}else dt(i===1,20013,{expectedCount:i});else{let o=this.ut(t);if(o!==i){let a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(t);let c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,c)}Gj?.ht(function(u,h,f,p,g){var y,v,I,M,O,N;let F={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},B=h.unchangedNames;return B&&(F.bloomFilter={applied:g===0,hashCount:(y=B?.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(M=(I=(v=B?.bits)===null||v===void 0?void 0:v.bitmap)===null||I===void 0?void 0:I.length)!==null&&M!==void 0?M:0,padding:(N=(O=B?.bits)===null||O===void 0?void 0:O.padding)!==null&&N!==void 0?N:0,mightContain:D=>{var x;return(x=p?.mightContain(D))!==null&&x!==void 0&&x}}),F}(o,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=ro(i).toUint8Array()}catch(l){if(l instanceof Dv)return Vu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new dD(o,r,s)}catch(l){return Vu(l instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){let i=this.ze.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,s,null),r++)}),r}It(e){let t=new Map;this.je.forEach((s,o)=>{let a=this._t(o);if(a){if(s.current&&nD(a.target)){let l=new pe(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Dr.newNoDocument(l,e))}s.Le&&(t.set(o,s.qe()),s.Qe())}});let i=Qe();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));let r=new Pv(e,t,this.Ze,this.He,i);return this.He=oo(),this.Je=_v(),this.Ye=_v(),this.Ze=new Gt(Fe),r}et(e,t){if(!this.it(e))return;let i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;let r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Lv,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new gn(Fe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new gn(Fe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Lv),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function _v(){return new Gt(pe.comparator)}function Xj(){return new Gt(pe.comparator)}var Dse={asc:"ASCENDING",desc:"DESCENDING"},Ase={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kse={and:"AND",or:"OR"},fD=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function pD(n,e){return n.useProto3Json||s0(e)?e:{value:e}}function Nv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mse(n,e){return Nv(n,e.toTimestamp())}function fs(n){return dt(!!n,49232),Ce.fromTimestamp(function(t){let i=io(t);return new Pt(i.seconds,i.nanos)}(n))}function DA(n,e){return mD(n,e).canonicalString()}function mD(n,e){let t=function(r){return new Ft(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function c$(n){let e=Ft.fromString(n);return dt(p$(e),10190,{key:e.toString()}),e}function gD(n,e){return DA(n.databaseId,e.path)}function MI(n,e){let t=c$(e);if(t.get(1)!==n.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new pe(d$(t))}function u$(n,e){return DA(n.databaseId,e)}function Pse(n){let e=c$(n);return e.length===4?Ft.emptyPath():d$(e)}function yD(n){return new Ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d$(n){return dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Kj(n,e,t){return{name:gD(n,e),fields:t.value.mapValue.fields}}function Rse(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(dt(u===void 0||typeof u=="string",58123),Hn.fromBase64String(u||"")):(dt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Hn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?W.UNKNOWN:a$(c.code);return new le(u,c.message||"")}(o);t=new Ov(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=MI(n,i.document.name),s=fs(i.document.updateTime),o=i.document.createTime?fs(i.document.createTime):Ce.min(),a=new Vi({mapValue:{fields:i.document.fields}}),l=Dr.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];t=new Nu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=MI(n,i.document),s=i.readTime?fs(i.readTime):Ce.min(),o=Dr.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Nu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=MI(n,i.document),s=i.removedTargetIds||[];t=new Nu([],s,r,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new uD(r,s),a=i.targetId;t=new Rv(a,o)}}return t}function Ose(n,e){let t;if(e instanceof Hl)t={update:Kj(n,e.key,e.value)};else if(e instanceof np)t={delete:gD(n,e.key)};else if(e instanceof ms)t={update:Kj(n,e.key,e.data),updateMask:Use(e.fieldMask)};else{if(!(e instanceof oD))return ge(16599,{ft:e.type});t={verify:gD(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw ge(20930,{transform:o.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Mse(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge(27497)}(n,e.precondition)),t}function Lse(n,e){return n&&n.length>0?(dt(e!==void 0,14353),n.map(t=>function(r,s){let o=r.updateTime?fs(r.updateTime):fs(s);return o.isEqual(Ce.min())&&(o=fs(s)),new sD(o,r.transformResults||[])}(t,e))):[]}function Nse(n,e){return{documents:[u$(n,e.path)]}}function Fse(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=u$(n,r);let s=function(c){if(c.length!==0)return f$(Ar.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Ru(f.field),direction:jse(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=pD(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:t,parent:r}}function Vse(n){let e=Pse(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){dt(i===1,65062);let u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(h){let f=h$(h);return f instanceof Ar&&z3(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(h){return h.map(f=>function(g){return new zu(Ou(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,s0(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(h){let f=!!h.before,p=h.values||[];return new Uu(p,f)}(t.startAt));let c=null;return t.endAt&&(c=function(h){let f=!h.before,p=h.values||[];return new Uu(p,f)}(t.endAt)),dse(e,r,o,s,a,"F",l,c)}function Bse(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function h$(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Ou(t.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ou(t.unaryFilter.field);return nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ou(t.unaryFilter.field);return nn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ou(t.unaryFilter.field);return nn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return nn.create(Ou(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(i=>h$(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(t.compositeFilter.op))}(n):ge(30097,{filter:n})}function jse(n){return Dse[n]}function $se(n){return Ase[n]}function Hse(n){return kse[n]}function Ru(n){return{fieldPath:n.canonicalString()}}function Ou(n){return Bi.fromServerFormat(n.fieldPath)}function f$(n){return n instanceof nn?function(t){if(t.op==="=="){if(Fj(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NAN"}};if(Nj(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fj(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NOT_NAN"}};if(Nj(t.value))return{unaryFilter:{field:Ru(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ru(t.field),op:$se(t.op),value:t.value}}}(n):n instanceof Ar?function(t){let i=t.getFilters().map(r=>f$(r));return i.length===1?i[0]:{compositeFilter:{op:Hse(t.op),filters:i}}}(n):ge(54877,{filter:n})}function Use(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function p$(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var rp=class n{constructor(e,t,i,r,s=Ce.min(),o=Ce.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var _D=class{constructor(e){this.wt=e}};function zse(n){let e=Vse({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rD(e,e.limit,"L"):e}var Fv=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Mt(e.integerValue));else if("doubleValue"in e){let i=Mt(e.doubleValue);isNaN(i)?this.Mt(t,13):(this.Mt(t,15),Jf(i)?t.xt(0):t.xt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Mt(t,20),typeof i=="string"&&(i=io(i)),t.Ot(`${i.seconds||""}`),t.xt(i.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ro(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.Mt(t,45),t.xt(i.latitude||0),t.xt(i.longitude||0)}else"mapValue"in e?$3(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):j3(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ge(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let i=e.fields||{};this.Mt(t,55);for(let r of Object.keys(i))this.Nt(r,t),this.Ct(i[r],t)}qt(e,t){var i,r;let s=e.fields||{};this.Mt(t,53);let o=ju,a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Mt(t,15),t.xt(Mt(a)),this.Nt(o,t),this.Ct(s[o],t)}$t(e,t){let i=e.values||[];this.Mt(t,50);for(let r of i)this.Ct(r,t)}kt(e,t){this.Mt(t,37),pe.fromName(e).path.forEach(i=>{this.Mt(t,60),this.Kt(i,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Fv.Wt=new Fv;var vD=class{constructor(){this.Cn=new xD}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Vl.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Vl.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}},xD=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new gn(Ft.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new gn(Ft.comparator)).toArray()}};var PMe=new Uint8Array(0);var Qj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m$=41943040,er=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}};er.DEFAULT_COLLECTION_PERCENTILE=10,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,er.DEFAULT=new er(m$,er.DEFAULT_COLLECTION_PERCENTILE,er.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),er.DISABLED=new er(-1,0,0);var sp=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var Zj="LruGarbageCollector",Wse=1048576;function Jj([n,e],[t,i]){let r=Fe(n,t);return r===0?Fe(e,i):r}var bD=class{constructor(e){this.Er=e,this.buffer=new gn(Jj),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let i=this.buffer.last();Jj(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}},wD=class{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ae(Zj,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ed(t)?ae(Zj,"Ignoring IndexedDB error during garbage collection: ",t):yield Ju(t)}yield this.mr(3e5)}))}},TD=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(vA.le);let i=new bD(t);return this.gr.forEachTarget(e,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Qj)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qj):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,r,s,o,a,l,c,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(i=h,a=Date.now(),this.removeTargets(e,i,t))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),Mu()<=Ue.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:h})))}};function Gse(n,e){return new TD(n,e)}var CD=class{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var SD=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ED=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Qf(i.mutation,r,tr.empty(),Pt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Qe()){let r=Ol();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=qf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Ol();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Qe()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=oo(),o=Kf(),a=function(){return Kf()}();return t.forEach((l,c)=>{let u=i.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof ms)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Qf(u.mutation,c,u.mutation.getFieldMask(),Pt.now())):o.set(c.key,tr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var h;return a.set(c,new SD(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Kf(),r=new Gt((o,a)=>o-a),s=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let c=t.get(l);if(c===null)return;let u=i.get(l)||tr.empty();u=a.applyToLocalView(c,u),i.set(l,u);let h=(r.get(a.batchId)||Qe()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),c=l.key,u=l.value,h=J3();u.forEach(f=>{if(!s.has(f)){let p=s$(t.get(f),i.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return X.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Y3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):X.resolve(Ol()),a=Zf,l=s;return o.next(c=>X.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?X.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Qe())).next(u=>({batchId:a,changes:Z3(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(i=>{let r=qf();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=qf();return this.indexManager.getCollectionParents(e,s).next(a=>X.forEach(a,l=>{let c=function(h,f){return new Bl(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,c)=>{let u=c.getKey();o.get(u)===null&&(o=o.insert(u,Dr.newInvalidDocument(u)))});let a=qf();return o.forEach((l,c)=>{let u=s.get(l);u!==void 0&&Qf(u.mutation,c,tr.empty(),Pt.now()),c0(t,c)&&(a=a.insert(l,c))}),a})}};var ID=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:fs(r.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(r){return{name:r.name,query:zse(r.bundledQuery),readTime:fs(r.readTime)}}(t)),X.resolve()}};var DD=class{constructor(){this.overlays=new Gt(pe.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ol();return X.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.bt(e,t,s)}),X.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){let r=Ol(),s=t.length+1,o=new pe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return X.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Gt((c,u)=>c-u),o=this.overlays.getIterator();for(;o.hasNext();){let c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=s.get(c.largestBatchId);u===null&&(u=Ol(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}let a=Ol(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return X.resolve(a)}bt(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new cD(t,i));let s=this.Qr.get(t);s===void 0&&(s=Qe(),this.Qr.set(t,s)),this.Qr.set(t,s.add(i.key))}};var AD=class{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}};var op=class{constructor(){this.$r=new gn(tn.Ur),this.Kr=new gn(tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let i=new tn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new tn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){let t=new pe(new Ft([])),i=new tn(t,e),r=new tn(t,e+1),s=[];return this.Kr.forEachInRange([i,r],o=>{this.zr(o),s.push(o.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new pe(new Ft([])),i=new tn(t,e),r=new tn(t,e+1),s=Qe();return this.Kr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new tn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},tn=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return pe.comparator(e.key,t.key)||Fe(e.Zr,t.Zr)}static Wr(e,t){return Fe(e.Zr,t.Zr)||pe.comparator(e.key,t.key)}};var kD=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new gn(tn.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new aD(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.Xr=this.Xr.add(new tn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.ti(i),s=r<0?0:r;return X.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?xA:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new tn(t,0),r=new tn(t,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([i,r],o=>{let a=this.ei(o.Zr);s.push(a)}),X.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new gn(Fe);return t.forEach(r=>{let s=new tn(r,0),o=new tn(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,o],a=>{i=i.add(a.Zr)})}),X.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;pe.isDocumentKey(s)||(s=s.child(""));let o=new tn(new pe(s),0),a=new gn(Fe);return this.Xr.forEachWhile(l=>{let c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Zr)),!0)},o),X.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(i=>{let r=this.ei(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return X.forEach(t.mutations,r=>{let s=new tn(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){let i=new tn(t,0),r=this.Xr.firstAfterOrEqual(i);return X.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var MD=class{constructor(e){this.ii=e,this.docs=function(){return new Gt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let i=oo();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Dr.newInvalidDocument(r))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=oo(),o=t.path,a=new pe(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Gre(Wre(u),i)<=0||(r.has(u.key)||c0(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return X.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ge(9500)}si(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new PD(this)}getSize(e){return X.resolve(this.size)}},PD=class extends CD{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var RD=class{constructor(e){this.persistence=e,this.oi=new so(t=>SA(t),EA),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new op,this.targetCount=0,this.ui=sp.cr()}forEachTarget(e,t){return this.oi.forEach((i,r)=>t(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new sp(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),X.waitFor(s).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){let i=this.oi.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),X.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){let i=this.ai.Yr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}};var Vv=class{constructor(e,t){this.ci={},this.overlays={},this.li=new vA(0),this.hi=!1,this.hi=!0,this.Pi=new AD,this.referenceDelegate=e(this),this.Ti=new RD(this),this.indexManager=new vD,this.remoteDocumentCache=function(r){return new MD(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new _D(t),this.Ei=new ID(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new DD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new kD(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);let r=new OD(this.li.next());return this.referenceDelegate.di(),i(r).next(s=>this.referenceDelegate.Ai(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ri(e,t){return X.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}},OD=class extends UI{constructor(e){super(),this.currentSequenceNumber=e}},LD=class n{constructor(e){this.persistence=e,this.Vi=new op,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw ge(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(r=>this.gi.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.gi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,i=>{let r=pe.fromPath(i);return this.pi(e,r).next(s=>{s||t.removeEntry(r,Ce.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Bv=class n{constructor(e,t){this.persistence=e,this.yi=new so(i=>Kre(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Gse(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Sr(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(i,r)=>this.Dr(e,i,r).next(s=>s?X.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0,r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.si(e,o=>this.Dr(e,o,t).next(a=>{a||(i++,s.removeEntry(o,Ce.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){let i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xv(e.data.value)),t}Dr(e,t,i){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let r=this.yi.get(t);return X.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var ND=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ds=i,this.As=r}static Rs(e,t){let i=Qe(),r=Qe();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var FD=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var VD=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return GV()?8:Yre(pn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.ws(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Ss(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new FD;return this.bs(e,t,o).next(a=>{if(s.result=a,this.fs)return this.Ds(e,t,o,a.size)})}).next(()=>s.result)}Ds(e,t,i,r){return i.documentReadCount<this.gs?(Mu()<=Ue.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Pu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(Mu()<=Ue.DEBUG&&ae("QueryEngine","Query:",Pu(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Mu()<=Ue.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Pu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(t))):X.resolve())}ws(e,t){if($j(t))return X.resolve(null);let i=hs(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=rD(t,null,"F"),i=hs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Qe(...s);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let c=this.vs(t,a);return this.Cs(t,c,o,l.readTime)?this.ws(e,rD(t,null,"F")):this.Fs(e,c,t,l)}))})))}Ss(e,t,i,r){return $j(t)||r.isEqual(Ce.min())?X.resolve(null):this.ys.getDocuments(e,i).next(s=>{let o=this.vs(t,s);return this.Cs(t,o,i,r)?X.resolve(null):(Mu()<=Ue.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pu(t)),this.Fs(e,o,t,zre(r,Zf)).next(a=>a))})}vs(e,t){let i=new gn(K3(e));return t.forEach((r,s)=>{c0(e,s)&&(i=i.add(s))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}bs(e,t,i){return Mu()<=Ue.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Pu(t)),this.ys.getDocumentsMatchingQuery(e,t,Vl.min(),i)}Fs(e,t,i,r){return this.ys.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var AA="LocalStore",qse=3e8,BD=class{constructor(e,t,i,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new Gt(Fe),this.Os=new so(s=>SA(s),EA),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ED(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function Yse(n,e,t,i){return new BD(n,e,t,i)}function g$(n,e){return E(this,null,function*(){let t=Te(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Qe();for(let c of r){o.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}for(let c of s){a.push(c.batchId);for(let u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({ks:c,removedBatchIds:o,addedBatchIds:a}))})})})}function Xse(n,e){let t=Te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){let h=c.batch,f=h.keys(),p=X.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{let v=c.docVersions.get(g);dt(v!==null,48541),y.version.compareTo(v)<0&&(h.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Qe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function y$(n){let e=Te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Kse(n,e){let t=Te(n),i=e.snapshotVersion,r=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.Bs.newChangeBuffer({trackRemovals:!0});r=t.xs;let a=[];e.targetChanges.forEach((u,h)=>{let f=r.get(h);if(!f)return;a.push(t.Ti.removeMatchingKeys(s,u.removedDocuments,h).next(()=>t.Ti.addMatchingKeys(s,u.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Hn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,i)),r=r.insert(h,p),function(y,v,I){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=qse?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(f,p,u)&&a.push(t.Ti.updateTargetData(s,p))});let l=oo(),c=Qe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(Qse(s,o,e.documentUpdates).next(u=>{l=u.qs,c=u.Qs})),!i.isEqual(Ce.min())){let u=t.Ti.getLastRemoteSnapshotVersion(s).next(h=>t.Ti.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return X.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.xs=r,s))}function Qse(n,e,t){let i=Qe(),r=Qe();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=oo();return t.forEach((a,l)=>{let c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae(AA,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{qs:o,Qs:r}})}function Zse(n,e){let t=Te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=xA),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Jse(n,e){let t=Te(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ti.getTargetData(i,e).next(s=>s?(r=s,X.resolve(r)):t.Ti.allocateTargetId(i).next(o=>(r=new rp(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.xs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}function jD(n,e,t){return E(this,null,function*(){let i=Te(n),r=i.xs.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ed(o))throw o;ae(AA,`Failed to update sequence numbers for target ${e}: ${o}`)}i.xs=i.xs.remove(e),i.Os.delete(r.target)})}function e3(n,e,t){let i=Te(n),r=Ce.min(),s=Qe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){let h=Te(l),f=h.Os.get(u);return f!==void 0?X.resolve(h.xs.get(f)):h.Ti.getTargetData(c,u)}(i,o,hs(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ms.getDocumentsMatchingQuery(o,e,t?r:Ce.min(),t?s:Qe())).next(a=>(eoe(i,fse(e),a),{documents:a,$s:s})))}function eoe(n,e,t){let i=n.Ns.get(e)||Ce.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ns.set(e,i)}var jv=class{constructor(){this.activeTargetIds=vse()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var $D=class{constructor(){this.xo=new jv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new jv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var HD=class{No(e){}shutdown(){}};var t3="ConnectivityMonitor",$v=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ae(t3,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){ae(t3,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vv=null;function UD(){return vv===null?vv=function(){return 268435456+Math.round(2147483648*Math.random())}():vv++,"0x"+vv.toString(16)}var PI="RestConnection",toe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},zD=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===Av?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(e,t,i,r,s){let o=UD(),a=this.jo(e,t.toUriEncodedString());ae(PI,`Sending RPC '${e}' ${o}:`,a,i);let l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,r,s);let{host:c}=new URL(a),u=Sl(c);return this.Jo(e,a,l,i,u).then(h=>(ae(PI,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Vu(PI,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",i),h})}Yo(e,t,i,r,s,o){return this.zo(e,t,i,r,s)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}jo(e,t){let i=toe[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}};var WD=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var $n="WebChannelConnection",GD=class extends zD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,s){let o=UD();return new Promise((a,l)=>{let c=new EI;c.setWithCredentials(!0),c.listenOnce(II.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Gf.NO_ERROR:let h=c.getResponseJson();ae($n,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case Gf.TIMEOUT:ae($n,`RPC '${e}' ${o} timed out`),l(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case Gf.HTTP_ERROR:let f=c.getStatus();if(ae($n,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let g=p?.error;if(g&&g.status&&g.message){let y=function(I){let M=I.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(M)>=0?M:W.UNKNOWN}(g.status);l(new le(y,g.message))}else l(new le(W.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new le(W.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ae($n,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(r);ae($n,`RPC '${e}' ${o} sending request:`,r),c.send(t,"POST",u,i,15)})}T_(e,t,i){let r=UD(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kI(),a=AI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let u=s.join("");ae($n,`Creating RPC '${e}' stream ${r}: ${u}`,l);let h=o.createWebChannel(u,l),f=!1,p=!1,g=new WD({Zo:v=>{p?ae($n,`Not sending because RPC '${e}' stream ${r} is closed:`,v):(f||(ae($n,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),ae($n,`RPC '${e}' stream ${r} sending:`,v),h.send(v))},Xo:()=>h.close()}),y=(v,I,M)=>{v.listen(I,O=>{try{M(O)}catch(N){setTimeout(()=>{throw N},0)}})};return y(h,ku.EventType.OPEN,()=>{p||(ae($n,`RPC '${e}' stream ${r} transport opened.`),g.__())}),y(h,ku.EventType.CLOSE,()=>{p||(p=!0,ae($n,`RPC '${e}' stream ${r} transport closed`),g.u_())}),y(h,ku.EventType.ERROR,v=>{p||(p=!0,Vu($n,`RPC '${e}' stream ${r} transport errored. Name:`,v.name,"Message:",v.message),g.u_(new le(W.UNAVAILABLE,"The operation could not be completed")))}),y(h,ku.EventType.MESSAGE,v=>{var I;if(!p){let M=v.data[0];dt(!!M,16349);let O=M,N=O?.error||((I=O[0])===null||I===void 0?void 0:I.error);if(N){ae($n,`RPC '${e}' stream ${r} received error:`,N);let F=N.status,B=function(T){let k=en[T];if(k!==void 0)return a$(k)}(F),D=N.message;B===void 0&&(B=W.INTERNAL,D="Unknown error status: "+F+" with message "+N.message),p=!0,g.u_(new le(B,D)),h.close()}else ae($n,`RPC '${e}' stream ${r} received:`,M),g.c_(M)}}),y(a,DI.STAT_EVENT,v=>{v.stat===gv.PROXY?ae($n,`RPC '${e}' stream ${r} detected buffering proxy`):v.stat===gv.NOPROXY&&ae($n,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}};function RI(){return typeof document<"u"?document:null}function u0(n){return new fD(n,!0)}var Hv=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.xi=e,this.timerId=t,this.I_=i,this.E_=r,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),r=Math.max(0,t-i);r>0&&ae("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var n3="PersistentStream",Uv=class{constructor(e,t,i,r,s,o,a,l){this.xi=e,this.y_=i,this.w_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Hv(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return E(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return E(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return E(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(no(t.toString()),no("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.S_===t&&this.K_(i,r)},i=>{e(()=>{let r=new le(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(r)})})}K_(e,t){let i=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.W_(r))}),this.stream.onMessage(r=>{i(()=>++this.v_==1?this.z_(r):this.onNext(r))})}x_(){this.state=5,this.C_.f_(()=>E(this,null,function*(){this.state=0,this.start()}))}W_(e){return ae(n3,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ae(n3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},qD=class extends Uv{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=Rse(this.serializer,e),i=function(s){if(!("targetChange"in s))return Ce.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Ce.min():o.readTime?fs(o.readTime):Ce.min()}(e);return this.listener.j_(t,i)}H_(e){let t={};t.database=yD(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=nD(l)?{documents:Nse(s,l)}:{query:Fse(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=l$(s,o.resumeToken);let c=pD(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Nv(s,o.snapshotVersion.toTimestamp());let c=pD(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);let i=Bse(this.serializer,e);i&&(t.labels=i),this.L_(t)}J_(e){let t={};t.database=yD(this.serializer),t.removeTarget=e,this.L_(t)}},YD=class extends Uv{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=Lse(e.writeResults,e.commitTime),i=fs(e.commitTime);return this.listener.ea(i,t)}ta(){let e={};e.database=yD(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>Ose(this.serializer,i))};this.L_(t)}};var XD=class{},KD=class extends XD{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.na=!1}ra(){if(this.na)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.zo(e,mD(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new le(W.UNKNOWN,s.toString())})}Yo(e,t,i,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,mD(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(W.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}},QD=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(no(t),this.oa=!1):ae("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var Ul="RemoteStore",ZD=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(o=>{i.enqueueAndForget(()=>E(this,null,function*(){Wl(this)&&(ae(Ul,"Restarting streams for network reachability change."),yield function(l){return E(this,null,function*(){let c=Te(l);c.Ta.add(4),yield mp(c),c.da.set("Unknown"),c.Ta.delete(4),yield d0(c)})}(this))}))}),this.da=new QD(i,r)}};function d0(n){return E(this,null,function*(){if(Wl(n))for(let e of n.Ia)yield e(!0)})}function mp(n){return E(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function _$(n,e){let t=Te(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),RA(t)?PA(t):td(t).M_()&&MA(t,e))}function kA(n,e){let t=Te(n),i=td(t);t.Pa.delete(e),i.M_()&&v$(t,e),t.Pa.size===0&&(i.M_()?i.N_():Wl(t)&&t.da.set("Unknown"))}function MA(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}td(n).H_(e)}function v$(n,e){n.Aa.Ke(e),td(n).J_(e)}function PA(n){n.Aa=new hD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),td(n).start(),n.da._a()}function RA(n){return Wl(n)&&!td(n).F_()&&n.Pa.size>0}function Wl(n){return Te(n).Ta.size===0}function x$(n){n.Aa=void 0}function noe(n){return E(this,null,function*(){n.da.set("Online")})}function ioe(n){return E(this,null,function*(){n.Pa.forEach((e,t)=>{MA(n,e)})})}function roe(n,e){return E(this,null,function*(){x$(n),RA(n)?(n.da.ca(e),PA(n)):n.da.set("Unknown")})}function soe(n,e,t){return E(this,null,function*(){if(n.da.set("Online"),e instanceof Ov&&e.state===2&&e.cause)try{yield function(r,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.Pa.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.Pa.delete(a),r.Aa.removeTarget(a))})}(n,e)}catch(i){ae(Ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield zv(n,i)}else if(e instanceof Nu?n.Aa.Xe(e):e instanceof Rv?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Ce.min()))try{let i=yield y$(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Aa.It(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){let u=s.Pa.get(c);u&&s.Pa.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{let u=s.Pa.get(l);if(!u)return;s.Pa.set(l,u.withResumeToken(Hn.EMPTY_BYTE_STRING,u.snapshotVersion)),v$(s,l);let h=new rp(u.target,l,c,u.sequenceNumber);MA(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){ae(Ul,"Failed to raise snapshot:",i),yield zv(n,i)}})}function zv(n,e,t){return E(this,null,function*(){if(!ed(e))throw e;n.Ta.add(1),yield mp(n),n.da.set("Offline"),t||(t=()=>y$(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(null,null,function*(){ae(Ul,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield d0(n)}))})}function b$(n,e){return e().catch(t=>zv(n,t,e))}function h0(n){return E(this,null,function*(){let e=Te(n),t=da(e),i=e.ha.length>0?e.ha[e.ha.length-1].batchId:xA;for(;ooe(e);)try{let r=yield Zse(e.localStore,i);if(r===null){e.ha.length===0&&t.N_();break}i=r.batchId,aoe(e,r)}catch(r){yield zv(e,r)}w$(e)&&T$(e)})}function ooe(n){return Wl(n)&&n.ha.length<10}function aoe(n,e){n.ha.push(e);let t=da(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function w$(n){return Wl(n)&&!da(n).F_()&&n.ha.length>0}function T$(n){da(n).start()}function loe(n){return E(this,null,function*(){da(n).ta()})}function coe(n){return E(this,null,function*(){let e=da(n);for(let t of n.ha)e.Z_(t.mutations)})}function uoe(n,e,t){return E(this,null,function*(){let i=n.ha.shift(),r=lD.from(i,e,t);yield b$(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield h0(n)})}function doe(n,e){return E(this,null,function*(){e&&da(n).Y_&&(yield function(i,r){return E(this,null,function*(){if(function(o){return Ese(o)&&o!==W.ABORTED}(r.code)){let s=i.ha.shift();da(i).O_(),yield b$(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield h0(i)}})}(n,e)),w$(n)&&T$(n)})}function i3(n,e){return E(this,null,function*(){let t=Te(n);t.asyncQueue.verifyOperationInProgress(),ae(Ul,"RemoteStore received new credentials");let i=Wl(t);t.Ta.add(3),yield mp(t),i&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield d0(t)})}function hoe(n,e){return E(this,null,function*(){let t=Te(n);e?(t.Ta.delete(2),yield d0(t)):e||(t.Ta.add(2),yield mp(t),t.da.set("Unknown"))})}function td(n){return n.Ra||(n.Ra=function(t,i,r){let s=Te(t);return s.ra(),new qD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:noe.bind(null,n),n_:ioe.bind(null,n),i_:roe.bind(null,n),j_:soe.bind(null,n)}),n.Ia.push(e=>E(null,null,function*(){e?(n.Ra.O_(),RA(n)?PA(n):n.da.set("Unknown")):(yield n.Ra.stop(),x$(n))}))),n.Ra}function da(n){return n.Va||(n.Va=function(t,i,r){let s=Te(t);return s.ra(),new YD(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:loe.bind(null,n),i_:doe.bind(null,n),X_:coe.bind(null,n),ea:uoe.bind(null,n)}),n.Ia.push(e=>E(null,null,function*(){e?(n.Va.O_(),yield h0(n)):(yield n.Va.stop(),n.ha.length>0&&(ae(Ul,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var JD=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function OA(n,e){if(no("AsyncQueue",`${e}: ${n}`),ed(n))return new le(W.UNAVAILABLE,`${e}: ${n}`);throw n}var Wv=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||pe.comparator(t.key,i.key):(t,i)=>pe.comparator(t.key,i.key),this.keyedMap=qf(),this.sortedSet=new Gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Gv=class{constructor(){this.ma=new Gt(pe.comparator)}track(e){let t=e.doc.key,i=this.ma.get(t);i?e.type!==0&&i.type===3?this.ma=this.ma.insert(t,e):e.type===3&&i.type!==1?this.ma=this.ma.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ma=this.ma.remove(t):e.type===1&&i.type===2?this.ma=this.ma.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ge(63341,{Vt:e,fa:i}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,i)=>{e.push(i)}),e}},Xu=class n{constructor(e,t,i,r,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Wv.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&l0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var eA=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},tA=class{constructor(){this.queries=r3(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,i){let r=Te(t),s=r.queries;r.queries=r3(),s.forEach((o,a)=>{for(let l of a.ya)l.onError(i)})})(this,new le(W.ABORTED,"Firestore shutting down"))}};function r3(){return new so(n=>X3(n),l0)}function LA(n,e){return E(this,null,function*(){let t=Te(n),i=3,r=e.query,s=t.queries.get(r);s?!s.wa()&&e.Sa()&&(i=2):(s=new eA,i=e.Sa()?0:1);try{switch(i){case 0:s.pa=yield t.onListen(r,!0);break;case 1:s.pa=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=OA(o,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.ya.push(e),e.Da(t.onlineState),s.pa&&e.va(s.pa)&&FA(t)})}function NA(n,e){return E(this,null,function*(){let t=Te(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.ya.indexOf(e);o>=0&&(s.ya.splice(o,1),s.ya.length===0?r=e.Sa()?0:1:!s.wa()&&e.Sa()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function foe(n,e){let t=Te(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.ya)a.va(r)&&(i=!0);o.pa=r}}i&&FA(t)}function poe(n,e,t){let i=Te(n),r=i.queries.get(e);if(r)for(let s of r.ya)s.onError(t);i.queries.delete(e)}function FA(n){n.ba.forEach(e=>{e.next()})}var nA,s3;(s3=nA||(nA={})).Ca="default",s3.Cache="cache";var ap=class{constructor(e,t,i){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new Xu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let i=t!=="Offline";return(!this.options.La||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==nA.Cache}};var qv=class{constructor(e){this.key=e}},Yv=class{constructor(e){this.key=e}},iA=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Qe(),this.mutatedKeys=Qe(),this.Ha=K3(e),this.Ja=new Wv(this.Ha)}get Ya(){return this.Ga}Za(e,t){let i=t?t.Xa:new Gv,r=t?t.Ja:this.Ja,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{let f=r.get(u),p=c0(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),v=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(i.track({type:3,doc:p}),v=!0):this.eu(f,p)||(i.track({type:2,doc:p}),v=!0,(l&&this.Ha(p,l)>0||c&&this.Ha(p,c)<0)&&(a=!0)):!f&&p?(i.track({type:0,doc:p}),v=!0):f&&!p&&(i.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),s=y?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{Ja:o,Xa:i,Cs:a,mutatedKeys:s}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let o=e.Xa.ga();o.sort((u,h)=>function(p,g){let y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:v})}};return y(p)-y(g)}(u.type,h.type)||this.Ha(u.doc,h.doc)),this.tu(i),r=r!=null&&r;let a=t&&!r?this.nu():[],l=this.ja.size===0&&this.current&&!r?1:0,c=l!==this.za;return this.za=l,o.length!==0||c?{snapshot:new Xu(this.query,e.Ja,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Qe(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});let t=[];return e.forEach(i=>{this.ja.has(i)||t.push(new Yv(i))}),this.ja.forEach(i=>{e.has(i)||t.push(new qv(i))}),t}su(e){this.Ga=e.$s,this.ja=Qe();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Xu.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},VA="SyncEngine",rA=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},sA=class{constructor(e){this.key=e,this._u=!1}},oA=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new so(a=>X3(a),l0),this.cu=new Map,this.lu=new Set,this.hu=new Gt(pe.comparator),this.Pu=new Map,this.Tu=new op,this.Iu={},this.Eu=new Map,this.du=sp.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function moe(n,e,t=!0){return E(this,null,function*(){let i=A$(n),r,s=i.uu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ou()):r=yield C$(i,e,t,!0),r})}function goe(n,e){return E(this,null,function*(){let t=A$(n);yield C$(t,e,!0,!1)})}function C$(n,e,t,i){return E(this,null,function*(){let r=yield Jse(n.localStore,hs(e)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return i&&(a=yield yoe(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&_$(n.remoteStore,r),a})}function yoe(n,e,t,i,r){return E(this,null,function*(){n.Ru=(h,f,p)=>function(y,v,I,M){return E(this,null,function*(){let O=v.view.Za(I);O.Cs&&(O=yield e3(y.localStore,v.query,!1).then(({documents:D})=>v.view.Za(D,O)));let N=M&&M.targetChanges.get(v.targetId),F=M&&M.targetMismatches.get(v.targetId)!=null,B=v.view.applyChanges(O,y.isPrimaryClient,N,F);return a3(y,v.targetId,B.ru),B.snapshot})}(n,h,f,p);let s=yield e3(n.localStore,e,!0),o=new iA(e,s.$s),a=o.Za(s.documents),l=ip.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),c=o.applyChanges(a,n.isPrimaryClient,l);a3(n,t,c.ru);let u=new rA(e,t,o);return n.uu.set(e,u),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),c.snapshot})}function _oe(n,e,t){return E(this,null,function*(){let i=Te(n),r=i.uu.get(e),s=i.cu.get(r.targetId);if(s.length>1)return i.cu.set(r.targetId,s.filter(o=>!l0(o,e))),void i.uu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jD(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&kA(i.remoteStore,r.targetId),aA(i,r.targetId)}).catch(Ju))):(aA(i,r.targetId),yield jD(i.localStore,r.targetId,!0))})}function voe(n,e){return E(this,null,function*(){let t=Te(n),i=t.uu.get(e),r=t.cu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),kA(t.remoteStore,i.targetId))})}function xoe(n,e,t){return E(this,null,function*(){let i=Ioe(n);try{let r=yield function(o,a){let l=Te(o),c=Pt.now(),u=a.reduce((p,g)=>p.add(g.key),Qe()),h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=oo(),y=Qe();return l.Bs.getEntries(p,u).next(v=>{g=v,g.forEach((I,M)=>{M.isValidDocument()||(y=y.add(I))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{h=v;let I=[];for(let M of a){let O=Sse(M,h.get(M.key).overlayedDocument);O!=null&&I.push(new ms(M.key,O,H3(O.value.mapValue),to.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,I,a)}).next(v=>{f=v;let I=v.applyToLocalDocumentSet(h,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,I)})}).then(()=>({batchId:f.batchId,changes:Z3(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Iu[o.currentUser.toKey()];c||(c=new Gt(Fe)),c=c.insert(a,l),o.Iu[o.currentUser.toKey()]=c}(i,r.batchId,t),yield gp(i,r.changes),yield h0(i.remoteStore)}catch(r){let s=OA(r,"Failed to persist write");t.reject(s)}})}function S$(n,e){return E(this,null,function*(){let t=Te(n);try{let i=yield Kse(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Pu.get(s);o&&(dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o._u=!0:r.modifiedDocuments.size>0?dt(o._u,14607):r.removedDocuments.size>0&&(dt(o._u,42227),o._u=!1))}),yield gp(t,i,e)}catch(i){yield Ju(i)}})}function o3(n,e,t){let i=Te(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.uu.forEach((s,o)=>{let a=o.view.Da(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=Te(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(let f of h.ya)f.Da(a)&&(c=!0)}),c&&FA(l)}(i.eventManager,e),r.length&&i.au.j_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function boe(n,e,t){return E(this,null,function*(){let i=Te(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Pu.get(e),s=r&&r.key;if(s){let o=new Gt(pe.comparator);o=o.insert(s,Dr.newNoDocument(s,Ce.min()));let a=Qe().add(s),l=new Pv(Ce.min(),new Map,new Gt(Fe),o,a);yield S$(i,l),i.hu=i.hu.remove(s),i.Pu.delete(e),BA(i)}else yield jD(i.localStore,e,!1).then(()=>aA(i,e,t)).catch(Ju)})}function woe(n,e){return E(this,null,function*(){let t=Te(n),i=e.batch.batchId;try{let r=yield Xse(t.localStore,e);I$(t,i,null),E$(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield gp(t,r)}catch(r){yield Ju(r)}})}function Toe(n,e,t){return E(this,null,function*(){let i=Te(n);try{let r=yield function(o,a){let l=Te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(dt(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);I$(i,e,t),E$(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield gp(i,r)}catch(r){yield Ju(r)}})}function E$(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function I$(n,e,t){let i=Te(n),r=i.Iu[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Iu[i.currentUser.toKey()]=r}}function aA(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.cu.get(e))n.uu.delete(i),t&&n.au.Vu(i,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(i=>{n.Tu.containsKey(i)||D$(n,i)})}function D$(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(kA(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),BA(n))}function a3(n,e,t){for(let i of t)i instanceof qv?(n.Tu.addReference(i.key,e),Coe(n,i)):i instanceof Yv?(ae(VA,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,e),n.Tu.containsKey(i.key)||D$(n,i.key)):ge(19791,{mu:i})}function Coe(n,e){let t=e.key,i=t.path.canonicalString();n.hu.get(t)||n.lu.has(i)||(ae(VA,"New document in limbo: "+t),n.lu.add(i),BA(n))}function BA(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new pe(Ft.fromString(e)),i=n.du.next();n.Pu.set(i,new sA(t)),n.hu=n.hu.insert(t,i),_$(n.remoteStore,new rp(hs(a0(t.path)),i,"TargetPurposeLimboResolution",vA.le))}}function gp(n,e,t){return E(this,null,function*(){let i=Te(n),r=[],s=[],o=[];i.uu.isEmpty()||(i.uu.forEach((a,l)=>{o.push(i.Ru(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){let h=c?!c.fromCache:(u=t?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){r.push(c);let h=ND.Rs(l.targetId,c);s.push(h)}}))}),yield Promise.all(o),i.au.j_(r),yield function(l,c){return E(this,null,function*(){let u=Te(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>X.forEach(c,f=>X.forEach(f.ds,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>X.forEach(f.As,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ed(h))throw h;ae(AA,"Failed to update sequence numbers: "+h)}for(let h of c){let f=h.targetId;if(!h.fromCache){let p=u.xs.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.xs=u.xs.insert(f,y)}}})}(i.localStore,s))})}function Soe(n,e){return E(this,null,function*(){let t=Te(n);if(!t.currentUser.isEqual(e)){ae(VA,"User change. New user:",e.toKey());let i=yield g$(t.localStore,e);t.currentUser=e,function(s,o){s.Eu.forEach(a=>{a.forEach(l=>{l.reject(new le(W.CANCELLED,o))})}),s.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield gp(t,i.ks)}})}function Eoe(n,e){let t=Te(n),i=t.Pu.get(e);if(i&&i._u)return Qe().add(i.key);{let r=Qe(),s=t.cu.get(e);if(!s)return r;for(let o of s){let a=t.uu.get(o);r=r.unionWith(a.view.Ya)}return r}}function A$(n){let e=Te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=S$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=boe.bind(null,e),e.au.j_=foe.bind(null,e.eventManager),e.au.Vu=poe.bind(null,e.eventManager),e}function Ioe(n){let e=Te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=woe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Toe.bind(null,e),e}var k$=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=u0(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,i){return null}bu(t,i){return null}wu(t){return Yse(this.persistence,new VD,t.initialUser,this.serializer)}yu(t){return new Vv(LD.fi,this.serializer)}pu(t){return new $D}terminate(){return E(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),lA=class extends k${constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){dt(this.persistence.referenceDelegate instanceof Bv,46915);let i=this.persistence.referenceDelegate.garbageCollector;return new wD(i,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?er.withCacheSize(this.cacheSizeBytes):er.DEFAULT;return new Vv(i=>Bv.fi(i,t),this.serializer)}};var Doe=(()=>{class n{initialize(t,i){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>o3(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Soe.bind(null,this.syncEngine),yield hoe(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new tA}()}createDatastore(t){let i=u0(t.databaseInfo.databaseId),r=function(o){return new GD(o)}(t.databaseInfo);return function(o,a,l,c){return new KD(o,a,l,c)}(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return function(r,s,o,a,l){return new ZD(r,s,o,a,l)}(this.localStore,this.datastore,t.asyncQueue,i=>o3(this.syncEngine,i,0),function(){return $v.C()?new $v:new HD}())}createSyncEngine(t,i){return function(s,o,a,l,c,u,h){let f=new oA(s,o,a,l,c,u);return h&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return E(this,null,function*(){var t,i;yield function(s){return E(this,null,function*(){let o=Te(s);ae(Ul,"RemoteStore shutting down."),o.Ta.add(5),yield mp(o),o.Ea.shutdown(),o.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var lp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):no("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ha="FirestoreClient",cA=class{constructor(e,t,i,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mn.UNAUTHENTICATED,this.clientId=Sv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>E(this,null,function*(){ae(ha,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(ae(ha,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=OA(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function OI(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),ae(ha,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>E(null,null,function*(){i.isEqual(r)||(yield g$(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function l3(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Aoe(n);ae(ha,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>i3(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>i3(e.remoteStore,r)),n._onlineComponents=e})}function Aoe(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(ha,"Using user provided OfflineComponentProvider");try{yield OI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(r){return r.name==="FirebaseError"?r.code===W.FAILED_PRECONDITION||r.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;Vu("Error using user provided cache. Falling back to memory cache: "+t),yield OI(n,new k$)}}else ae(ha,"Using default OfflineComponentProvider"),yield OI(n,new lA(void 0));return n._offlineComponents})}function M$(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(ha,"Using user provided OnlineComponentProvider"),yield l3(n,n._uninitializedComponentsProvider._online)):(ae(ha,"Using default OnlineComponentProvider"),yield l3(n,new Doe))),n._onlineComponents})}function koe(n){return M$(n).then(e=>e.syncEngine)}function Xv(n){return E(this,null,function*(){let e=yield M$(n),t=e.eventManager;return t.onListen=moe.bind(null,e.syncEngine),t.onUnlisten=_oe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=goe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=voe.bind(null,e.syncEngine),t})}function Moe(n,e,t={}){let i=new Ir;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(s,o,a,l,c){let u=new lp({next:f=>{u.Cu(),o.enqueueAndForget(()=>NA(s,h));let p=f.docs.has(a);!p&&f.fromCache?c.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ap(a0(a.path),u,{includeMetadataChanges:!0,La:!0});return LA(s,h)}(yield Xv(n),n.asyncQueue,e,t,i)})),i.promise}function Poe(n,e,t={}){let i=new Ir;return n.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return function(s,o,a,l,c){let u=new lp({next:f=>{u.Cu(),o.enqueueAndForget(()=>NA(s,h)),f.fromCache&&l.source==="server"?c.reject(new le(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ap(a,u,{includeMetadataChanges:!0,La:!0});return LA(s,h)}(yield Xv(n),n.asyncQueue,e,t,i)})),i.promise}function P$(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var c3=new Map;function R$(n,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Roe(n,e,t,i){if(e===!0&&i===!0)throw new le(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function u3(n){if(!pe.isDocumentKey(n))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d3(n){if(pe.isDocumentKey(n))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function f0(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=f0(n);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var O$="firestore.googleapis.com",h3=!0,Kv=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=O$,this.ssl=h3}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:h3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wse)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Roe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P$((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ku=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new LI;switch(i.type){case"firstParty":return new BI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=c3.get(t);i&&(ae("ComponentProvider","Removing Datastore"),c3.delete(t),i.terminate())}(this),Promise.resolve()}};function L$(n,e,t,i={}){var r;n=nr(n,Ku);let s=Sl(e),o=n._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;s&&($_(`https://${l}`),H_("Firestore",!0)),o.host!==O$&&o.host!==l&&Vu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:i});if(!os(c,a)&&(n._setSettings(c),i.mockUserToken)){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=mn.MOCK_USER;else{u=jV(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mn(f)}n._authCredentials=new NI(new Tv(u,h))}}var zl=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Jn=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ca=class n extends zl{constructor(e,t,i){super(e,t,a0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new pe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function N$(n,e,...t){if(n=zt(n),R$("collection","path",e),n instanceof Ku){let i=Ft.fromString(e,...t);return d3(i),new ca(n,null,i)}{if(!(n instanceof Jn||n instanceof ca))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ft.fromString(e,...t));return d3(i),new ca(n.firestore,null,i)}}function jA(n,e,...t){if(n=zt(n),arguments.length===1&&(e=Sv.newId()),R$("doc","path",e),n instanceof Ku){let i=Ft.fromString(e,...t);return u3(i),new Jn(n,null,new pe(i))}{if(!(n instanceof Jn||n instanceof ca))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ft.fromString(e,...t));return u3(i),new Jn(n.firestore,n instanceof ca?n.converter:null,new pe(i))}}var f3="AsyncQueue",Qv=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Hv(this,"async_queue_retry"),this.ec=()=>{let i=RI();i&&ae(f3,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=e;let t=RI();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=RI();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new Ir;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return E(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ed(e))throw e;ae(f3,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(i=>{throw this.Ju=i,this.Yu=!1,no("INTERNAL UNHANDLED ERROR: ",p3(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=t,t}enqueueAfterDelay(e,t,i){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let r=JD.createAndSchedule(this,e,t,i,s=>this.oc(s));return this.Hu.push(r),r}nc(){this.Ju&&ge(47125,{_c:p3(this.Ju)})}verifyOperationInProgress(){}ac(){return E(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function p3(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function m3(n){return function(t,i){if(typeof t!="object"||t===null)return!1;let r=t;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var gs=class extends Ku{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Qv,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,yield e}})}};function $A(n,e){let t=typeof n=="object"?n:Il(),i=typeof n=="string"?n:e||Av,r=Su(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=BV("firestore");s&&L$(r,...s)}return r}function p0(n){if(n._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ooe(n),n._firestoreClient}function Ooe(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,c,u){return new zI(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,P$(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new cA(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var cp=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Hn.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var up=class{constructor(e){this._methodName=e}};var dp=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}};var hp=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var Loe=/^__.*__$/,uA=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hl(e,this.data,t,this.fieldTransforms)}},Zv=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ms(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function F$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{hc:n})}}var dA=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tc({path:i,Ec:!1});return r.dc(e),r}Ac(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Tc({path:i,Ec:!1});return r.Pc(),r}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return e0(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(F$(this.hc)&&Loe.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},hA=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||u0(e)}gc(e,t,i,r=!1){return new dA({hc:e,methodName:t,fc:i,path:Bi.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HA(n){let e=n._freezeSettings(),t=u0(n._databaseId);return new hA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Noe(n,e,t,i,r,s={}){let o=n.gc(s.merge||s.mergeFields?2:0,e,t,r);UA("Data must be an object, but it was:",o,i);let a=V$(i,o),l,c;if(s.merge)l=new tr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let h of s.mergeFields){let f=fA(e,h,t);if(!o.contains(f))throw new le(W.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);j$(u,f)||u.push(f)}l=new tr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new uA(new Vi(a),l,c)}var Jv=class n extends up{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Foe(n,e,t,i){let r=n.gc(1,e,t);UA("Data must be an object, but it was:",r,i);let s=[],o=Vi.empty();fa(i,(l,c)=>{let u=zA(e,l,t);c=zt(c);let h=r.Ac(u);if(c instanceof Jv)s.push(u);else{let f=yp(c,h);f!=null&&(s.push(u),o.set(u,f))}});let a=new tr(s);return new Zv(o,a,r.fieldTransforms)}function Voe(n,e,t,i,r,s){let o=n.gc(1,e,t),a=[fA(e,i,t)],l=[r];if(s.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(fA(e,s[f])),l.push(s[f+1]);let c=[],u=Vi.empty();for(let f=a.length-1;f>=0;--f)if(!j$(c,a[f])){let p=a[f],g=l[f];g=zt(g);let y=o.Ac(p);if(g instanceof Jv)c.push(p);else{let v=yp(g,y);v!=null&&(c.push(p),u.set(p,v))}}let h=new tr(c);return new Zv(u,h,o.fieldTransforms)}function Boe(n,e,t,i=!1){return yp(t,n.gc(i?4:3,e))}function yp(n,e){if(B$(n=zt(n)))return UA("Unsupported field value:",e,n),V$(n,e);if(n instanceof up)return function(i,r){if(!F$(r.hc))throw r.Vc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Vc(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=yp(a,r.Rc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xse(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Pt.fromDate(i);return{timestampValue:Nv(r.serializer,s)}}if(i instanceof Pt){let s=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nv(r.serializer,s)}}if(i instanceof dp)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cp)return{bytesValue:l$(r.serializer,i._byteString)};if(i instanceof Jn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DA(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof hp)return function(o,a){return{mapValue:{fields:{[wA]:{stringValue:TA},[ju]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Vc("VectorValues must only contain numeric values.");return IA(a.serializer,c)})}}}}}}(i,r);throw r.Vc(`Unsupported field value: ${f0(i)}`)}(n,e)}function V$(n,e){let t={};return O3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(n,(i,r)=>{let s=yp(r,e.Ic(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function B$(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof dp||n instanceof cp||n instanceof Jn||n instanceof up||n instanceof hp)}function UA(n,e,t){if(!B$(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=f0(t);throw i==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+i)}}function fA(n,e,t){if((e=zt(e))instanceof Qu)return e._internalPath;if(typeof e=="string")return zA(n,e);throw e0("Field path arguments must be of type string or ",n,!1,void 0,t)}var joe=new RegExp("[~\\*/\\[\\]]");function zA(n,e,t){if(e.search(joe)>=0)throw e0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qu(...e.split("."))._internalPath}catch{throw e0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function e0(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new le(W.INVALID_ARGUMENT,a+n+l)}function j$(n,e){return n.some(t=>t.isEqual(e))}var t0=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new pA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(WA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},pA=class extends t0{data(){return super.data()}};function WA(n,e){return typeof e=="string"?zA(n,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}function $$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fp=class{},mA=class extends fp{};function H$(n,e,...t){let i=[];e instanceof fp&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof gA).length,a=s.filter(l=>l instanceof n0).length;if(o>1||o>0&&a>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var n0=class n extends mA{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return z$(e._query,t),new zl(e.firestore,e.converter,iD(e._query,t))}_parse(e){let t=HA(e.firestore);return function(s,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){y3(h,u);let g=[];for(let y of h)g.push(g3(l,s,y));f={arrayValue:{values:g}}}else f=g3(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||y3(h,u),f=Boe(a,o,h,u==="in"||u==="not-in");return nn.create(c,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function U$(n,e,t){let i=e,r=WA("where",n);return n0._create(r,i,t)}var gA=class n extends fp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ar.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)z$(o,l),o=iD(o,l)}(e._query,t),new zl(e.firestore,e.converter,iD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function g3(n,e,t){if(typeof(t=zt(t))=="string"){if(t==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y3(e)&&t.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(Ft.fromString(t));if(!pe.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Lj(n,new pe(i))}if(t instanceof Jn)return Lj(n,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${f0(t)}.`)}function y3(n,e){if(!Array.isArray(n)||n.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z$(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var yA=class{convertValue(e,t="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return fa(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t[ju].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Mt(o.doubleValue));return new hp(s)}convertGeoPoint(e){return new dp(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=o0(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ep(e));default:return null}}convertTimestamp(e){let t=io(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=Ft.fromString(e);dt(p$(i),9688,{name:e});let r=new kv(i.get(1),i.get(3)),s=new pe(i.popFirst(5));return r.isEqual(t)||no(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function $oe(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var Nl=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},i0=class extends t0{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(WA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Fu=class extends i0{data(e={}){return super.data(e)}},r0=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Nl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Fu(this._firestore,this._userDataWriter,i.key,i,new Nl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Fu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Fu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Nl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:Hoe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Hoe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}function W$(n){n=nr(n,Jn);let e=nr(n.firestore,gs);return Moe(p0(e),n._key).then(t=>K$(e,n,t))}var pp=class extends yA{constructor(e){super(),this.firestore=e}convertBytes(e){return new cp(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}};function G$(n){n=nr(n,zl);let e=nr(n.firestore,gs),t=p0(e),i=new pp(e);return $$(n._query),Poe(t,n._query).then(r=>new r0(e,i,n,r))}function q$(n,e,t,...i){n=nr(n,Jn);let r=nr(n.firestore,gs),s=HA(r),o;return o=typeof(e=zt(e))=="string"||e instanceof Qu?Voe(s,"updateDoc",n._key,e,t,i):Foe(s,"updateDoc",n._key,e),qA(r,[o.toMutation(n._key,to.exists(!0))])}function Y$(n){return qA(nr(n.firestore,gs),[new np(n._key,to.none())])}function X$(n,e){let t=nr(n.firestore,gs),i=jA(n),r=$oe(n.converter,e);return qA(t,[Noe(HA(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,to.exists(!1))]).then(()=>i)}function GA(n,...e){var t,i,r;n=zt(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||m3(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(m3(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(n instanceof Jn)c=nr(n.firestore,gs),u=a0(n._key.path),l={next:h=>{e[o]&&e[o](K$(c,n,h))},error:e[o+1],complete:e[o+2]};else{let h=nr(n,zl);c=nr(h.firestore,gs),u=h._query;let f=new pp(c);l={next:p=>{e[o]&&e[o](new r0(c,f,h,p))},error:e[o+1],complete:e[o+2]},$$(n._query)}return function(f,p,g,y){let v=new lp(y),I=new ap(p,v,g);return f.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return LA(yield Xv(f),I)})),()=>{v.Cu(),f.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return NA(yield Xv(f),I)}))}}(p0(c),u,a,l)}function qA(n,e){return function(i,r){let s=new Ir;return i.asyncQueue.enqueueAndForget(()=>E(null,null,function*(){return xoe(yield koe(i),r,s)})),s.promise}(p0(n),e)}function K$(n,e,t){let i=t.docs.get(e._key),r=new pp(n);return new i0(n,r,e._key,i,new Nl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){Zu=r})(ea),Cr(new Zn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new gs(new FI(i.getProvider("auth-internal")),new jI(o,i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kv(c.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wt(Sj,Ej,e),Wt(Sj,Ej,"esm2017")})();var m0=function(){return m0=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},m0.apply(this,arguments)};var Woe={includeMetadataChanges:!1};function YA(n,e){return e===void 0&&(e=Woe),new Re(function(t){var i=GA(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function Q$(n){return YA(n,{includeMetadataChanges:!0})}function Z$(n,e){return e===void 0&&(e={}),Q$(n).pipe(Ie(function(t){return XA(t,e)}))}function XA(n,e){var t;e===void 0&&(e={});var i=n.data(e);return!n.exists()||typeof i!="object"||i===null||!e.idField?i:m0(m0({},i),(t={},t[e.idField]=n.id,t))}function J$(n){return YA(n,{includeMetadataChanges:!0}).pipe(Ie(function(e){return e.docs}))}function eH(n,e){return e===void 0&&(e={}),J$(n).pipe(Ie(function(t){return t.map(function(i){return XA(i,e)})}))}var kr=class{constructor(e){return e}},tH="firestore",KA=class{constructor(){return Iu(tH)}};var QA=new re("angularfire2.firestore-instances");function Goe(n,e){let t=Rf(tH,n,e);return t&&new kr(t)}function qoe(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new kr(i)}}var Yoe={provide:KA,deps:[[new Ai,QA]]},Xoe={provide:kr,useFactory:Goe,deps:[[new Ai,QA],Xs]};function nH(n,...e){return Wt("angularfire",ta.full,"fst"),Fo([Xoe,Yoe,{provide:QA,useFactory:qoe(n),multi:!0,deps:[De,pt,na,Al,[new Ai,Wf],[new Ai,Du],...e]}])}var _p=ln(eH,!0);var iH=ln(Z$,!0);var rH=ln(X$,!0,2);var ei=ln(N$,!0,2);var g0=ln(Y$,!0,2);var ys=ln(jA,!0,2);var y0=ln(W$,!0);var _s=ln(G$,!0);var Mr=ln(H$,!0,2);var vp=ln(q$,!0,2);var ji=ln(U$,!0,2);var _0=class n{constructor(e){this.firestore=e}getInventory(){let e=ei(this.firestore,"inventory");return _p(e,{idField:"id"})}getOrders(){let e=ei(this.firestore,"orders");return _p(e,{idField:"id"})}getDashboardStats(){return this.getOrders().pipe(Ie(e=>{let t=e.reduce((r,s)=>r+(s.totalAmount||0),0),i=e.length;return{totalRevenue:t,totalOrders:i}}))}getForecast(){let e=ys(this.firestore,"forecast/latest");return iH(e,{idField:"id"}).pipe(Ie(t=>t||null))}static \u0275fac=function(t){return new(t||n)(se(kr))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rt=class n{firestore=G(kr);auth=G(Er);getUserId(){return new Promise((e,t)=>{let i=this.auth.onAuthStateChanged(r=>{i(),r?(console.log("[getUserId] Logged-in UID:",r.uid),e(r.uid)):(console.warn("[getUserId] No user logged in"),t(new Error("User not logged in")))})})}getInventoryItems$(){let e=this.auth.currentUser?.uid;if(!e)throw new Error("User not logged in");let t=ei(this.firestore,"inventory"),i=Mr(t,ji("userId","==",e));return _p(i,{idField:"id"})}getItems(e){return E(this,null,function*(){e=e||(yield this.getUserId());let t=ei(this.firestore,"inventory"),i=Mr(t,ji("userId","==",e));return(yield _s(i)).docs.map(s=>U({id:s.id},s.data()))})}addItem(e,t){return E(this,null,function*(){t=t||(yield this.getUserId());let i=ei(this.firestore,"inventory"),r=Mr(i,ji("name","==",e.name),ji("userId","==",t)),s=yield _s(r);if(s.empty)yield rH(i,fe(U({},e),{userId:t,createdAt:Pt.now()}));else{let o=s.docs[0],a=o.data().stock||0;yield vp(o.ref,{stock:a+e.stock})}})}updateItem(e,t){return E(this,null,function*(){let i=ys(this.firestore,"inventory",e);yield vp(i,t)})}deleteItem(e){return E(this,null,function*(){let t=ys(this.firestore,"inventory",e);yield g0(t)})}getItemById(e){return E(this,null,function*(){let t=ys(this.firestore,"inventory",e),r=(yield y0(t)).data();return r?U({id:e},r):null})}getItemByName(e,t){return E(this,null,function*(){t=t||(yield this.getUserId());let i=ei(this.firestore,"inventory"),r=Mr(i,ji("name","==",e),ji("userId","==",t)),s=yield _s(r);if(!s.empty){let o=s.docs[0];return U({id:o.id},o.data())}})}getOrderHistory(e,t){return E(this,null,function*(){t=t||(yield this.getUserId());let i=ei(this.firestore,"orders"),r=Mr(i,ji("userId","==",t)),s=yield _s(r),o=[];return s.docs.forEach(a=>{let l=a.data(),c=l.orderDate?.toDate().toISOString().split("T")[0];l.items?.forEach(u=>{u.productName===e&&o.push({date:c,quantity:u.quantity})})}),o})}calculateStockoutRisk(e){return E(this,null,function*(){let t=yield this.forecastNextWeekRequirements(e),i=yield this.getItems(e);return t.map(r=>{let s=i.find(a=>a.id===r.productId),o=s&&r.nextWeekQty>0?Math.floor(s.stock/(r.nextWeekQty/7)):null;return fe(U({},r),{stock:s?.stock||0,estimatedDaysLeft:o,risk:o===null?"Unknown":o<=7?"High":o<=14?"Medium":"Low"})}).sort((r,s)=>(r.estimatedDaysLeft??9999)-(s.estimatedDaysLeft??9999))})}calculateReorderSuggestions(e=7,t){return E(this,null,function*(){let i=yield this.forecastNextWeekRequirements(t),r=yield this.getItems(t);return i.map(s=>{let o=r.find(l=>l.id===s.productId),a=s.nextWeekQty-(o?.stock||0);return fe(U({},s),{stock:o?.stock||0,leadTime:e,expectedUsage:s.nextWeekQty,reorderQuantity:a>0?Math.ceil(a):0,needsReorder:a>0})}).filter(s=>s.needsReorder)})}forecastNextWeekRequirements(e){return E(this,null,function*(){e=e||(yield this.getUserId());let t=yield _s(Mr(ei(this.firestore,"orders"),ji("userId","==",e))),i={};for(let s of t.docs){let o=s.data(),a=o.orderDate?.toDate().toISOString().split("T")[0];if(!(!o.items||!o.orderDate))for(let l of o.items){let c=l.productId;i[c]||(i[c]={name:l.productName,category:l.category,totalQty:0,days:new Set}),i[c].totalQty+=l.quantity,i[c].days.add(a)}}return Object.entries(i).map(([s,o])=>{let a=o.totalQty/o.days.size;return{productId:s,name:o.name,category:o.category,nextWeekQty:Math.ceil(a*7)}})})}getDemandLevels(e){return E(this,null,function*(){e=e||(yield this.getUserId());let t=yield _s(Mr(ei(this.firestore,"orders"),ji("userId","==",e))),i={};for(let p of t.docs){let g=p.data();if(g.items)for(let y of g.items)y.productId&&(i[y.productId]=(i[y.productId]||0)+y.quantity)}let s=(yield _s(Mr(ei(this.firestore,"inventory"),ji("userId","==",e)))).docs.map(p=>U({id:p.id},p.data())),o=Object.values(i),a=Math.max(...o,0),l=Math.min(...o,0),c=a-l,u=l+c*.66,h=l+c*.33;return s.map(p=>{let g=i[p.id]||0,y="Low";return g>=u?y="High":g>=h&&(y="Medium"),fe(U({},p),{soldQty:g,demand:y})}).sort((p,g)=>g.soldQty-p.soldQty)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})};var vs=class n{constructor(e){this.auth=e;vj(this.auth,t=>{this.currentUserSubject.next(t)})}currentUserSubject=new Kt(null);currentUser$=this.currentUserSubject.asObservable();register(e,t){return _j(this.auth,e,t)}login(e,t){return xj(this.auth,e,t)}logout(){return bj(this.auth)}getCurrentUser(){return this.currentUserSubject.value}static \u0275fac=function(t){return new(t||n)(se(Er))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})};var nd=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},id=class extends nd{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(e,t,i,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=s}},v0=class extends nd{templateRef;viewContainerRef;context;injector;constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},x0=class extends nd{element;constructor(e){super(),this.element=e instanceof _t?e.nativeElement:e}},b0=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof id)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof v0)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof x0)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var xp=class extends b0{outletElement;_appRef;_defaultInjector;_document;constructor(e,t,i,r,s){super(),this.outletElement=e,this._appRef=i,this._defaultInjector=r,this._document=s}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(No,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||pt.NULL,s=r.get(hn,i.injector);t=bF(e.component,{elementInjector:r,environmentInjector:s,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);r!==-1&&t.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this._document.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Se=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Se||{}),ir="*";function JA(n,e){return{type:Se.Trigger,name:n,definitions:e,options:{}}}function e1(n,e=null){return{type:Se.Animate,styles:e,timings:n}}function oH(n,e=null){return{type:Se.Sequence,steps:n,options:e}}function ql(n){return{type:Se.Style,styles:n,offset:null}}function t1(n,e,t=null){return{type:Se.Transition,expr:n,animation:e,options:t}}var xs=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Gl=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},rd="!";var w0="http://www.w3.org/1999/xhtml",n1={svg:"http://www.w3.org/2000/svg",xhtml:w0,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ao(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),n1.hasOwnProperty(e)?{space:n1[e],local:n}:n}function Qoe(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===w0&&e.documentElement.namespaceURI===w0?e.createElement(n):e.createElementNS(t,n)}}function Zoe(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function T0(n){var e=ao(n);return(e.local?Zoe:Qoe)(e)}function Joe(){}function Yl(n){return n==null?Joe:function(){return this.querySelector(n)}}function aH(n){typeof n!="function"&&(n=Yl(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=n.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new qt(i,this._parents)}function i1(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function eae(){return[]}function bp(n){return n==null?eae:function(){return this.querySelectorAll(n)}}function tae(n){return function(){return i1(n.apply(this,arguments))}}function lH(n){typeof n=="function"?n=tae(n):n=bp(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(i.push(n.call(l,l.__data__,c,o)),r.push(l));return new qt(i,r)}function wp(n){return function(){return this.matches(n)}}function C0(n){return function(e){return e.matches(n)}}var nae=Array.prototype.find;function iae(n){return function(){return nae.call(this.children,n)}}function rae(){return this.firstElementChild}function cH(n){return this.select(n==null?rae:iae(typeof n=="function"?n:C0(n)))}var sae=Array.prototype.filter;function oae(){return Array.from(this.children)}function aae(n){return function(){return sae.call(this.children,n)}}function uH(n){return this.selectAll(n==null?oae:aae(typeof n=="function"?n:C0(n)))}function dH(n){typeof n!="function"&&(n=wp(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new qt(i,this._parents)}function S0(n){return new Array(n.length)}function hH(){return new qt(this._enter||this._groups.map(S0),this._parents)}function Tp(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Tp.prototype={constructor:Tp,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function fH(n){return function(){return n}}function lae(n,e,t,i,r,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new Tp(n,s[o]);for(;o<l;++o)(a=e[o])&&(r[o]=a)}function cae(n,e,t,i,r,s,o){var a,l,c=new Map,u=e.length,h=s.length,f=new Array(u),p;for(a=0;a<u;++a)(l=e[a])&&(f[a]=p=o.call(l,l.__data__,a,e)+"",c.has(p)?r[a]=l:c.set(p,l));for(a=0;a<h;++a)p=o.call(n,s[a],a,s)+"",(l=c.get(p))?(i[a]=l,l.__data__=s[a],c.delete(p)):t[a]=new Tp(n,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(f[a])===l&&(r[a]=l)}function uae(n){return n.__data__}function pH(n,e){if(!arguments.length)return Array.from(this,uae);var t=e?cae:lae,i=this._parents,r=this._groups;typeof n!="function"&&(n=fH(n));for(var s=r.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=i[c],h=r[c],f=h.length,p=dae(n.call(u,u&&u.__data__,c,i)),g=p.length,y=a[c]=new Array(g),v=o[c]=new Array(g),I=l[c]=new Array(f);t(u,h,y,v,I,p,e);for(var M=0,O=0,N,F;M<g;++M)if(N=y[M]){for(M>=O&&(O=M+1);!(F=v[O])&&++O<g;);N._next=F||null}}return o=new qt(o,i),o._enter=a,o._exit=l,o}function dae(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function mH(){return new qt(this._exit||this._groups.map(S0),this._parents)}function gH(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function yH(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),l=0;l<o;++l)for(var c=t[l],u=i[l],h=c.length,f=a[l]=new Array(h),p,g=0;g<h;++g)(p=c[g]||u[g])&&(f[g]=p);for(;l<r;++l)a[l]=t[l];return new qt(a,this._parents)}function _H(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function vH(n){n||(n=hae);function e(h,f){return h&&f?n(h.__data__,f.__data__):!h-!f}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,l=r[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new qt(r,this._parents).order()}function hae(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function xH(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function bH(){return Array.from(this)}function wH(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function TH(){let n=0;for(let e of this)++n;return n}function CH(){return!this.node()}function SH(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function fae(n){return function(){this.removeAttribute(n)}}function pae(n){return function(){this.removeAttributeNS(n.space,n.local)}}function mae(n,e){return function(){this.setAttribute(n,e)}}function gae(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function yae(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function _ae(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function EH(n,e){var t=ao(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?pae:fae:typeof e=="function"?t.local?_ae:yae:t.local?gae:mae)(t,e))}function E0(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function vae(n){return function(){this.style.removeProperty(n)}}function xae(n,e,t){return function(){this.style.setProperty(n,e,t)}}function bae(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function IH(n,e,t){return arguments.length>1?this.each((e==null?vae:typeof e=="function"?bae:xae)(n,e,t??"")):pa(this.node(),n)}function pa(n,e){return n.style.getPropertyValue(e)||E0(n).getComputedStyle(n,null).getPropertyValue(e)}function wae(n){return function(){delete this[n]}}function Tae(n,e){return function(){this[n]=e}}function Cae(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function DH(n,e){return arguments.length>1?this.each((e==null?wae:typeof e=="function"?Cae:Tae)(n,e)):this.node()[n]}function AH(n){return n.trim().split(/^|\s+/)}function r1(n){return n.classList||new kH(n)}function kH(n){this._node=n,this._names=AH(n.getAttribute("class")||"")}kH.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function MH(n,e){for(var t=r1(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function PH(n,e){for(var t=r1(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function Sae(n){return function(){MH(this,n)}}function Eae(n){return function(){PH(this,n)}}function Iae(n,e){return function(){(e.apply(this,arguments)?MH:PH)(this,n)}}function RH(n,e){var t=AH(n+"");if(arguments.length<2){for(var i=r1(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?Iae:e?Sae:Eae)(t,e))}function Dae(){this.textContent=""}function Aae(n){return function(){this.textContent=n}}function kae(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function OH(n){return arguments.length?this.each(n==null?Dae:(typeof n=="function"?kae:Aae)(n)):this.node().textContent}function Mae(){this.innerHTML=""}function Pae(n){return function(){this.innerHTML=n}}function Rae(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function LH(n){return arguments.length?this.each(n==null?Mae:(typeof n=="function"?Rae:Pae)(n)):this.node().innerHTML}function Oae(){this.nextSibling&&this.parentNode.appendChild(this)}function NH(){return this.each(Oae)}function Lae(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function FH(){return this.each(Lae)}function VH(n){var e=typeof n=="function"?n:T0(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Nae(){return null}function BH(n,e){var t=typeof n=="function"?n:T0(n),i=e==null?Nae:typeof e=="function"?e:Yl(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function Fae(){var n=this.parentNode;n&&n.removeChild(this)}function jH(){return this.each(Fae)}function Vae(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function Bae(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function $H(n){return this.select(n?Bae:Vae)}function HH(n){return arguments.length?this.property("__data__",n):this.node().__data__}function jae(n){return function(e){n.call(this,e,this.__data__)}}function $ae(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function Hae(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Uae(n,e,t){return function(){var i=this.__on,r,s=jae(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function UH(n,e,t){var i=$ae(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(r=0,u=a[l];r<s;++r)if((o=i[r]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?Uae:Hae,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function zH(n,e,t){var i=E0(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function zae(n,e){return function(){return zH(this,n,e)}}function Wae(n,e){return function(){return zH(this,n,e.apply(this,arguments))}}function WH(n,e){return this.each((typeof e=="function"?Wae:zae)(n,e))}function*GH(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var s1=[null];function qt(n,e){this._groups=n,this._parents=e}function qH(){return new qt([[document.documentElement]],s1)}function Gae(){return this}qt.prototype=qH.prototype={constructor:qt,select:aH,selectAll:lH,selectChild:cH,selectChildren:uH,filter:dH,data:pH,enter:hH,exit:mH,join:gH,merge:yH,selection:Gae,order:_H,sort:vH,call:xH,nodes:bH,node:wH,size:TH,empty:CH,each:SH,attr:EH,style:IH,property:DH,classed:RH,text:OH,html:LH,raise:NH,lower:FH,append:VH,insert:BH,remove:jH,clone:$H,datum:HH,on:UH,dispatch:WH,[Symbol.iterator]:GH};var lo=qH;function Cp(n){return typeof n=="string"?new qt([[document.querySelector(n)]],[document.documentElement]):new qt([[n]],s1)}var qae={value:()=>{}};function XH(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new I0(t)}function I0(n){this._=n}function Yae(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}I0.prototype=XH.prototype={constructor:I0,on:function(n,e){var t=this._,i=Yae(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=Xae(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=YH(t[r],n.name,e);else if(e==null)for(r in t)t[r]=YH(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new I0(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function Xae(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function YH(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=qae,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var o1=XH;function D0(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function a1(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function Ip(){}var Sp=.7,M0=1/Sp,sd="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kae=/^#([0-9a-f]{3,8})$/,Qae=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),Zae=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),Jae=new RegExp(`^rgba\\(${sd},${sd},${sd},${Ep}\\)$`),ele=new RegExp(`^rgba\\(${bs},${bs},${bs},${Ep}\\)$`),tle=new RegExp(`^hsl\\(${Ep},${bs},${bs}\\)$`),nle=new RegExp(`^hsla\\(${Ep},${bs},${bs},${Ep}\\)$`),KH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};D0(Ip,Or,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:QH,formatHex:QH,formatHex8:ile,formatHsl:rle,formatRgb:ZH,toString:ZH});function QH(){return this.rgb().formatHex()}function ile(){return this.rgb().formatHex8()}function rle(){return r4(this).formatHsl()}function ZH(){return this.rgb().formatRgb()}function Or(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=Kae.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?JH(e):t===3?new _i(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?A0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?A0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qae.exec(n))?new _i(e[1],e[2],e[3],1):(e=Zae.exec(n))?new _i(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jae.exec(n))?A0(e[1],e[2],e[3],e[4]):(e=ele.exec(n))?A0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tle.exec(n))?n4(e[1],e[2]/100,e[3]/100,1):(e=nle.exec(n))?n4(e[1],e[2]/100,e[3]/100,e[4]):KH.hasOwnProperty(n)?JH(KH[n]):n==="transparent"?new _i(NaN,NaN,NaN,0):null}function JH(n){return new _i(n>>16&255,n>>8&255,n&255,1)}function A0(n,e,t,i){return i<=0&&(n=e=t=NaN),new _i(n,e,t,i)}function sle(n){return n instanceof Ip||(n=Or(n)),n?(n=n.rgb(),new _i(n.r,n.g,n.b,n.opacity)):new _i}function od(n,e,t,i){return arguments.length===1?sle(n):new _i(n,e,t,i??1)}function _i(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}D0(_i,od,a1(Ip,{brighter(n){return n=n==null?M0:Math.pow(M0,n),new _i(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Sp:Math.pow(Sp,n),new _i(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new _i(Kl(this.r),Kl(this.g),Kl(this.b),P0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e4,formatHex:e4,formatHex8:ole,formatRgb:t4,toString:t4}));function e4(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}`}function ole(){return`#${Xl(this.r)}${Xl(this.g)}${Xl(this.b)}${Xl((isNaN(this.opacity)?1:this.opacity)*255)}`}function t4(){let n=P0(this.opacity);return`${n===1?"rgb(":"rgba("}${Kl(this.r)}, ${Kl(this.g)}, ${Kl(this.b)}${n===1?")":`, ${n})`}`}function P0(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Kl(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Xl(n){return n=Kl(n),(n<16?"0":"")+n.toString(16)}function n4(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Rr(n,e,t,i)}function r4(n){if(n instanceof Rr)return new Rr(n.h,n.s,n.l,n.opacity);if(n instanceof Ip||(n=Or(n)),!n)return new Rr;if(n instanceof Rr)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,l=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=l<.5?s+r:2-s-r,o*=60):a=l>0&&l<1?0:o,new Rr(o,a,l,n.opacity)}function s4(n,e,t,i){return arguments.length===1?r4(n):new Rr(n,e,t,i??1)}function Rr(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}D0(Rr,s4,a1(Ip,{brighter(n){return n=n==null?M0:Math.pow(M0,n),new Rr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Sp:Math.pow(Sp,n),new Rr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new _i(l1(n>=240?n-240:n+120,r,i),l1(n,r,i),l1(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Rr(i4(this.h),k0(this.s),k0(this.l),P0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=P0(this.opacity);return`${n===1?"hsl(":"hsla("}${i4(this.h)}, ${k0(this.s)*100}%, ${k0(this.l)*100}%${n===1?")":`, ${n})`}`}}));function i4(n){return n=(n||0)%360,n<0?n+360:n}function k0(n){return Math.max(0,Math.min(1,n||0))}function l1(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function c1(n,e,t,i,r){var s=n*n,o=s*n;return((1-3*n+3*s-o)*e+(4-6*s+3*o)*t+(1+3*n+3*s-3*o)*i+o*r)/6}function o4(n){var e=n.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),r=n[i],s=n[i+1],o=i>0?n[i-1]:2*r-s,a=i<e-1?n[i+2]:2*s-r;return c1((t-i/e)*e,o,r,s,a)}}function a4(n){var e=n.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e),r=n[(i+e-1)%e],s=n[i%e],o=n[(i+1)%e],a=n[(i+2)%e];return c1((t-i/e)*e,r,s,o,a)}}var Dp=n=>()=>n;function ale(n,e){return function(t){return n+t*e}}function lle(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function l4(n){return(n=+n)==1?R0:function(e,t){return t-e?lle(e,t,n):Dp(isNaN(e)?t:e)}}function R0(n,e){var t=e-n;return t?ale(n,t):Dp(isNaN(n)?e:n)}var Ql=function n(e){var t=l4(e);function i(r,s){var o=t((r=od(r)).r,(s=od(s)).r),a=t(r.g,s.g),l=t(r.b,s.b),c=R0(r.opacity,s.opacity);return function(u){return r.r=o(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=n,i}(1);function c4(n){return function(e){var t=e.length,i=new Array(t),r=new Array(t),s=new Array(t),o,a;for(o=0;o<t;++o)a=od(e[o]),i[o]=a.r||0,r[o]=a.g||0,s[o]=a.b||0;return i=n(i),r=n(r),s=n(s),a.opacity=1,function(l){return a.r=i(l),a.g=r(l),a.b=s(l),a+""}}}var cle=c4(o4),ule=c4(a4);function u4(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function d4(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function h4(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)r[o]=Lr(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(a){for(o=0;o<i;++o)s[o]=r[o](a);return s}}function f4(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function Cn(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function p4(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=Lr(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var d1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u1=new RegExp(d1.source,"g");function dle(n){return function(){return n}}function hle(n){return function(e){return n(e)+""}}function Ap(n,e){var t=d1.lastIndex=u1.lastIndex=0,i,r,s,o=-1,a=[],l=[];for(n=n+"",e=e+"";(i=d1.exec(n))&&(r=u1.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Cn(i,r)})),t=u1.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?hle(l[0].x):dle(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)a[(h=l[u]).i]=h.x(c);return a.join("")})}function Lr(n,e){var t=typeof e,i;return e==null||t==="boolean"?Dp(e):(t==="number"?Cn:t==="string"?(i=Or(e))?(e=i,Ql):Ap:e instanceof Or?Ql:e instanceof Date?f4:d4(e)?u4:Array.isArray(e)?h4:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?p4:Cn)(n,e)}function h1(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}var m4=180/Math.PI,O0={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function f1(n,e,t,i,r,s){var o,a,l;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(l=n*t+e*i)&&(t-=n*l,i-=e*l),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,l/=a),n*i<e*t&&(n=-n,e=-e,l=-l,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*m4,skewX:Math.atan(l)*m4,scaleX:o,scaleY:a}}var L0;function g4(n){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?O0:f1(e.a,e.b,e.c,e.d,e.e,e.f)}function y4(n){return n==null?O0:(L0||(L0=document.createElementNS("http://www.w3.org/2000/svg","g")),L0.setAttribute("transform",n),(n=L0.transform.baseVal.consolidate())?(n=n.matrix,f1(n.a,n.b,n.c,n.d,n.e,n.f)):O0)}function _4(n,e,t,i){function r(c){return c.length?c.pop()+" ":""}function s(c,u,h,f,p,g){if(c!==h||u!==f){var y=p.push("translate(",null,e,null,t);g.push({i:y-4,x:Cn(c,h)},{i:y-2,x:Cn(u,f)})}else(h||f)&&p.push("translate("+h+e+f+t)}function o(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(r(h)+"rotate(",null,i)-2,x:Cn(c,u)})):u&&h.push(r(h)+"rotate("+u+i)}function a(c,u,h,f){c!==u?f.push({i:h.push(r(h)+"skewX(",null,i)-2,x:Cn(c,u)}):u&&h.push(r(h)+"skewX("+u+i)}function l(c,u,h,f,p,g){if(c!==h||u!==f){var y=p.push(r(p)+"scale(",null,",",null,")");g.push({i:y-4,x:Cn(c,h)},{i:y-2,x:Cn(u,f)})}else(h!==1||f!==1)&&p.push(r(p)+"scale("+h+","+f+")")}return function(c,u){var h=[],f=[];return c=n(c),u=n(u),s(c.translateX,c.translateY,u.translateX,u.translateY,h,f),o(c.rotate,u.rotate,h,f),a(c.skewX,u.skewX,h,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var g=-1,y=f.length,v;++g<y;)h[(v=f[g]).i]=v.x(p);return h.join("")}}}var p1=_4(g4,"px, ","px)","deg)"),m1=_4(y4,", ",")",")");var ad=0,Mp=0,kp=0,x4=1e3,N0,Pp,F0=0,Zl=0,V0=0,Rp=typeof performance=="object"&&performance.now?performance:Date,b4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function Lp(){return Zl||(b4(fle),Zl=Rp.now()+V0)}function fle(){Zl=0}function Op(){this._call=this._time=this._next=null}Op.prototype=B0.prototype={constructor:Op,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?Lp():+t)+(e==null?0:+e),!this._next&&Pp!==this&&(Pp?Pp._next=this:N0=this,Pp=this),this._call=n,this._time=t,g1()},stop:function(){this._call&&(this._call=null,this._time=1/0,g1())}};function B0(n,e,t){var i=new Op;return i.restart(n,e,t),i}function w4(){Lp(),++ad;for(var n=N0,e;n;)(e=Zl-n._time)>=0&&n._call.call(void 0,e),n=n._next;--ad}function v4(){Zl=(F0=Rp.now())+V0,ad=Mp=0;try{w4()}finally{ad=0,mle(),Zl=0}}function ple(){var n=Rp.now(),e=n-F0;e>x4&&(V0-=e,F0=n)}function mle(){for(var n,e=N0,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:N0=t);Pp=n,g1(i)}function g1(n){if(!ad){Mp&&(Mp=clearTimeout(Mp));var e=n-Zl;e>24?(n<1/0&&(Mp=setTimeout(v4,n-Rp.now()-V0)),kp&&(kp=clearInterval(kp))):(kp||(F0=Rp.now(),kp=setInterval(ple,x4)),ad=1,b4(v4))}}function j0(n,e,t){var i=new Op;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}var gle=o1("start","end","cancel","interrupt"),yle=[],S4=0,T4=1,H0=2,$0=3,C4=4,U0=5,Np=6;function ma(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;_le(n,t,{name:e,index:i,group:r,on:gle,tween:yle,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:S4})}function Fp(n,e){var t=cn(n,e);if(t.state>S4)throw new Error("too late; already scheduled");return t}function Sn(n,e){var t=cn(n,e);if(t.state>$0)throw new Error("too late; already running");return t}function cn(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function _le(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=B0(s,0,t.time);function s(c){t.state=T4,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var u,h,f,p;if(t.state!==T4)return l();for(u in i)if(p=i[u],p.name===t.name){if(p.state===$0)return j0(o);p.state===C4?(p.state=Np,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete i[u]):+u<e&&(p.state=Np,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete i[u])}if(j0(function(){t.state===$0&&(t.state=C4,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=H0,t.on.call("start",n,n.__data__,t.index,t.group),t.state===H0){for(t.state=$0,r=new Array(f=t.tween.length),u=0,h=-1;u<f;++u)(p=t.tween[u].value.call(n,n.__data__,t.index,t.group))&&(r[++h]=p);r.length=h+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=U0,1),h=-1,f=r.length;++h<f;)r[h].call(n,u);t.state===U0&&(t.on.call("end",n,n.__data__,t.index,t.group),l())}function l(){t.state=Np,t.timer.stop(),delete i[e];for(var c in i)return;delete n.__transition}}function y1(n,e){var t=n.__transition,i,r,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>H0&&i.state<U0,i.state=Np,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function E4(n){return this.each(function(){y1(this,n)})}function vle(n,e){var t,i;return function(){var r=Sn(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function xle(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=Sn(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}s.tween=r}}function I4(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=cn(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?vle:xle)(t,n,e))}function ld(n,e,t){var i=n._id;return n.each(function(){var r=Sn(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return cn(r,i).value[e]}}function z0(n,e){var t;return(typeof e=="number"?Cn:e instanceof Or?Ql:(t=Or(e))?(e=t,Ql):Ap)(n,e)}function ble(n){return function(){this.removeAttribute(n)}}function wle(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Tle(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function Cle(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function Sle(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function Ele(n,e,t){var i,r,s;return function(){var o,a=t(this),l;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),l=a+"",o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a)))}}function D4(n,e){var t=ao(n),i=t==="transform"?m1:z0;return this.attrTween(n,typeof e=="function"?(t.local?Ele:Sle)(t,i,ld(this,"attr."+n,e)):e==null?(t.local?wle:ble)(t):(t.local?Cle:Tle)(t,i,e))}function Ile(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function Dle(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function Ale(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&Dle(n,s)),t}return r._value=e,r}function kle(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&Ile(n,s)),t}return r._value=e,r}function A4(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=ao(n);return this.tween(t,(i.local?Ale:kle)(i,e))}function Mle(n,e){return function(){Fp(this,n).delay=+e.apply(this,arguments)}}function Ple(n,e){return e=+e,function(){Fp(this,n).delay=e}}function k4(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Mle:Ple)(e,n)):cn(this.node(),e).delay}function Rle(n,e){return function(){Sn(this,n).duration=+e.apply(this,arguments)}}function Ole(n,e){return e=+e,function(){Sn(this,n).duration=e}}function M4(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?Rle:Ole)(e,n)):cn(this.node(),e).duration}function Lle(n,e){if(typeof e!="function")throw new Error;return function(){Sn(this,n).ease=e}}function P4(n){var e=this._id;return arguments.length?this.each(Lle(e,n)):cn(this.node(),e).ease}function Nle(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Sn(this,n).ease=t}}function R4(n){if(typeof n!="function")throw new Error;return this.each(Nle(this._id,n))}function O4(n){typeof n!="function"&&(n=wp(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],l,c=0;c<o;++c)(l=s[c])&&n.call(l,l.__data__,c,s)&&a.push(l);return new ti(i,this._parents,this._name,this._id)}function L4(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var l=e[a],c=t[a],u=l.length,h=o[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;a<i;++a)o[a]=e[a];return new ti(o,this._parents,this._name,this._id)}function Fle(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function Vle(n,e,t){var i,r,s=Fle(e)?Fp:Sn;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function N4(n,e){var t=this._id;return arguments.length<2?cn(this.node(),t).on.on(n):this.each(Vle(t,n,e))}function Ble(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function F4(){return this.on("end.remove",Ble(this._id))}function V4(n){var e=this._name,t=this._id;typeof n!="function"&&(n=Yl(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],l=a.length,c=s[o]=new Array(l),u,h,f=0;f<l;++f)(u=a[f])&&(h=n.call(u,u.__data__,f,a))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,ma(c[f],e,t,f,c,cn(u,t)));return new ti(s,this._parents,e,t)}function B4(n){var e=this._name,t=this._id;typeof n!="function"&&(n=bp(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var l=i[a],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var f=n.call(u,u.__data__,h,l),p,g=cn(u,t),y=0,v=f.length;y<v;++y)(p=f[y])&&ma(p,e,t,y,f,g);s.push(f),o.push(u)}return new ti(s,o,e,t)}var jle=lo.prototype.constructor;function j4(){return new jle(this._groups,this._parents)}function $le(n,e){var t,i,r;return function(){var s=pa(this,n),o=(this.style.removeProperty(n),pa(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function $4(n){return function(){this.style.removeProperty(n)}}function Hle(n,e,t){var i,r=t+"",s;return function(){var o=pa(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function Ule(n,e,t){var i,r,s;return function(){var o=pa(this,n),a=t(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(n),pa(this,n))),o===l?null:o===i&&l===r?s:(r=l,s=e(i=o,a))}}function zle(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var l=Sn(this,n),c=l.on,u=l.value[s]==null?a||(a=$4(e)):void 0;(c!==t||r!==u)&&(i=(t=c).copy()).on(o,r=u),l.on=i}}function H4(n,e,t){var i=(n+="")=="transform"?p1:z0;return e==null?this.styleTween(n,$le(n,i)).on("end.style."+n,$4(n)):typeof e=="function"?this.styleTween(n,Ule(n,i,ld(this,"style."+n,e))).each(zle(this._id,n)):this.styleTween(n,Hle(n,i,e),t).on("end.style."+n,null)}function Wle(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function Gle(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Wle(n,o,t)),i}return s._value=e,s}function U4(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Gle(n,e,t??""))}function qle(n){return function(){this.textContent=n}}function Yle(n){return function(){var e=n(this);this.textContent=e??""}}function z4(n){return this.tween("text",typeof n=="function"?Yle(ld(this,"text",n)):qle(n==null?"":n+""))}function Xle(n){return function(e){this.textContent=n.call(this,e)}}function Kle(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&Xle(r)),e}return i._value=n,i}function W4(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Kle(n))}function G4(){for(var n=this._name,e=this._id,t=W0(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=cn(l,e);ma(l,n,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ti(i,this._parents,n,t)}function q4(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--r===0&&s()}};t.each(function(){var c=Sn(this,i),u=c.on;u!==n&&(e=(n=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),r===0&&s()})}var Qle=0;function ti(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function Y4(n){return lo().transition(n)}function W0(){return++Qle}var co=lo.prototype;ti.prototype=Y4.prototype={constructor:ti,select:V4,selectAll:B4,selectChild:co.selectChild,selectChildren:co.selectChildren,filter:O4,merge:L4,selection:j4,transition:G4,call:co.call,nodes:co.nodes,node:co.node,size:co.size,empty:co.empty,each:co.each,on:N4,attr:D4,attrTween:A4,style:H4,styleTween:U4,text:z4,textTween:W4,remove:F4,tween:I4,delay:k4,duration:M4,ease:P4,easeVarying:R4,end:q4,[Symbol.iterator]:co[Symbol.iterator]};function G0(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var Zle={time:null,delay:0,duration:250,ease:G0};function Jle(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function X4(n){var e,t;n instanceof ti?(e=n._id,n=n._name):(e=W0(),(t=Zle).time=Lp(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&ma(l,n,e,c,o,t||Jle(l,e));return new ti(i,this._parents,n,e)}lo.prototype.interrupt=E4;lo.prototype.transition=X4;var{abs:z2e,max:W2e,min:G2e}=Math;function K4(n){return[+n[0],+n[1]]}function ece(n){return[K4(n[0]),K4(n[1])]}var q2e={name:"x",handles:["w","e"].map(_1),input:function(n,e){return n==null?null:[[+n[0],e[0][1]],[+n[1],e[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Y2e={name:"y",handles:["n","s"].map(_1),input:function(n,e){return n==null?null:[[e[0][0],+n[0]],[e[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},X2e={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(_1),input:function(n){return n==null?null:ece(n)},output:function(n){return n}};function _1(n){return{type:n}}function ws(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function v1(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function q0(n){let e,t,i;n.length!==2?(e=ws,t=(a,l)=>ws(n(a),l),i=(a,l)=>n(a)-l):(e=n===ws||n===v1?n:nce,t=n,i=n);function r(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let h=c+u>>>1;t(a[h],l)<0?c=h+1:u=h}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{let h=c+u>>>1;t(a[h],l)<=0?c=h+1:u=h}while(c<u)}return c}function o(a,l,c=0,u=a.length){let h=r(a,l,c,u-1);return h>c&&i(a[h-1],l)>-i(a[h],l)?h-1:h}return{left:r,center:o,right:s}}function nce(){return 0}function Vp(n){return n===null?NaN:+n}var Q4=q0(ws),Z4=Q4.right,ice=Q4.left,rce=q0(Vp).center,Bp=Z4;var cd=class extends Map{constructor(e,t=ace){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(let[i,r]of e)this.set(i,r)}get(e){return super.get(J4(this,e))}has(e){return super.has(J4(this,e))}set(e,t){return super.set(sce(this,e),t)}delete(e){return super.delete(oce(this,e))}};function J4({_intern:n,_key:e},t){let i=e(t);return n.has(i)?n.get(i):t}function sce({_intern:n,_key:e},t){let i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function oce({_intern:n,_key:e},t){let i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function ace(n){return n!==null&&typeof n=="object"?n.valueOf():n}var lce=Math.sqrt(50),cce=Math.sqrt(10),uce=Math.sqrt(2);function Y0(n,e,t){let i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=lce?10:s>=cce?5:s>=uce?2:1,a,l,c;return r<0?(c=Math.pow(10,-r)/o,a=Math.round(n*c),l=Math.round(e*c),a/c<n&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,r)*o,a=Math.round(n/c),l=Math.round(e/c),a*c<n&&++a,l*c>e&&--l),l<a&&.5<=t&&t<2?Y0(n,e,t*2):[a,l,c]}function X0(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];let i=e<n,[r,s,o]=i?Y0(e,n,t):Y0(n,e,t);if(!(s>=r))return[];let a=s-r+1,l=new Array(a);if(i)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(r+c)/-o;else for(let c=0;c<a;++c)l[c]=(r+c)*o;return l}function jp(n,e,t){return e=+e,n=+n,t=+t,Y0(n,e,t)[2]}function x1(n,e,t){e=+e,n=+n,t=+t;let i=e<n,r=i?jp(e,n,t):jp(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function K0(n,e){let t;if(e===void 0)for(let i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);else{let i=-1;for(let r of n)(r=e(r,++i,n))!=null&&(t<r||t===void 0&&r>=r)&&(t=r)}return t}function b1(n,e,t=Vp){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),o=+t(n[s],s,n),a=+t(n[s+1],s+1,n);return o+(a-o)*(r-s)}}function ud(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function ga(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}var w1=Symbol("implicit");function Jl(){var n=new cd,e=[],t=[],i=w1;function r(s){let o=n.get(s);if(o===void 0){if(i!==w1)return i;n.set(s,o=e.push(s)-1)}return t[o%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new cd;for(let o of s)n.has(o)||n.set(o,e.push(o)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return Jl(e,t).unknown(i)},ga.apply(r,arguments),r}function dd(){var n=Jl().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,o,a=!1,l=0,c=0,u=.5;delete n.unknown;function h(){var f=e().length,p=r<i,g=p?r:i,y=p?i:r;s=(y-g)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),g+=(y-g-s*(f-l))*u,o=s*(1-l),a&&(g=Math.round(g),o=Math.round(o));var v=ud(f).map(function(I){return g+s*I});return t(p?v.reverse():v)}return n.domain=function(f){return arguments.length?(e(f),h()):e()},n.range=function(f){return arguments.length?([i,r]=f,i=+i,r=+r,h()):[i,r]},n.rangeRound=function(f){return[i,r]=f,i=+i,r=+r,a=!0,h()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(f){return arguments.length?(a=!!f,h()):a},n.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),h()):l},n.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},n.paddingOuter=function(f){return arguments.length?(c=+f,h()):c},n.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},n.copy=function(){return dd(e(),[i,r]).round(a).paddingInner(l).paddingOuter(c).align(u)},ga.apply(h(),arguments)}function T1(n){return function(){return n}}function C1(n){return+n}var eU=[0,1];function hd(n){return n}function S1(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:T1(isNaN(e)?NaN:.5)}function hce(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function fce(n,e,t){var i=n[0],r=n[1],s=e[0],o=e[1];return r<i?(i=S1(r,i),s=t(o,s)):(i=S1(i,r),s=t(s,o)),function(a){return s(i(a))}}function pce(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=S1(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(a){var l=Bp(n,a,1,i)-1;return s[l](r[l](a))}}function tU(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function mce(){var n=eU,e=eU,t=Lr,i,r,s,o=hd,a,l,c;function u(){var f=Math.min(n.length,e.length);return o!==hd&&(o=hce(n[0],n[f-1])),a=f>2?pce:fce,l=c=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=a(n.map(i),e,t)))(i(o(f)))}return h.invert=function(f){return o(r((c||(c=a(e,n.map(i),Cn)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,C1),u()):n.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),t=h1,u()},h.clamp=function(f){return arguments.length?(o=f?!0:hd,u()):o!==hd},h.interpolate=function(f){return arguments.length?(t=f,u()):t},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return i=f,r=p,u()}}function E1(){return mce()(hd,hd)}function nU(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function ec(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Ts(n){return n=ec(Math.abs(n)),n?n[1]:NaN}function iU(n,e){return function(t,i){for(var r=t.length,s=[],o=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),s.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=n[o=(o+1)%n.length];return s.reverse().join(e)}}function rU(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var gce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ya(n){if(!(e=gce.exec(n)))throw new Error("invalid format: "+n);var e;return new Q0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ya.prototype=Q0.prototype;function Q0(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Q0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sU(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var I1;function oU(n,e){var t=ec(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(I1=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+ec(n,Math.max(0,e+s-1))[0]}function D1(n,e){var t=ec(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}var A1={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:nU,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>D1(n*100,e),r:D1,s:oU,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function k1(n){return n}var aU=Array.prototype.map,lU=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function cU(n){var e=n.grouping===void 0||n.thousands===void 0?k1:iU(aU.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?k1:rU(aU.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",a=n.minus===void 0?"\u2212":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(h){h=ya(h);var f=h.fill,p=h.align,g=h.sign,y=h.symbol,v=h.zero,I=h.width,M=h.comma,O=h.precision,N=h.trim,F=h.type;F==="n"?(M=!0,F="g"):A1[F]||(O===void 0&&(O=12),N=!0,F="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var B=y==="$"?t:y==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",D=y==="$"?i:/[%p]/.test(F)?o:"",x=A1[F],T=/[defgprs%]/.test(F);O=O===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function k(A){var P=B,C=D,ue,_e,Y;if(F==="c")C=x(A)+C,A="";else{A=+A;var K=A<0||1/A<0;if(A=isNaN(A)?l:x(Math.abs(A),O),N&&(A=sU(A)),K&&+A==0&&g!=="+"&&(K=!1),P=(K?g==="("?g:a:g==="-"||g==="("?"":g)+P,C=(F==="s"?lU[8+I1/3]:"")+C+(K&&g==="("?")":""),T){for(ue=-1,_e=A.length;++ue<_e;)if(Y=A.charCodeAt(ue),48>Y||Y>57){C=(Y===46?r+A.slice(ue+1):A.slice(ue))+C,A=A.slice(0,ue);break}}}M&&!v&&(A=e(A,1/0));var ee=P.length+A.length+C.length,oe=ee<I?new Array(I-ee+1).join(f):"";switch(M&&v&&(A=e(oe+A,oe.length?I-C.length:1/0),oe=""),p){case"<":A=P+A+C+oe;break;case"=":A=P+oe+A+C;break;case"^":A=oe.slice(0,ee=oe.length>>1)+P+A+C+oe.slice(ee);break;default:A=oe+P+A+C;break}return s(A)}return k.toString=function(){return h+""},k}function u(h,f){var p=c((h=ya(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(Ts(f)/3)))*3,y=Math.pow(10,-g),v=lU[8+g/3];return function(I){return p(y*I)+v}}return{format:c,formatPrefix:u}}var Z0,J0,ex;M1({thousands:",",grouping:[3],currency:["$",""]});function M1(n){return Z0=cU(n),J0=Z0.format,ex=Z0.formatPrefix,Z0}function P1(n){return Math.max(0,-Ts(Math.abs(n)))}function R1(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ts(e)/3)))*3-Ts(Math.abs(n)))}function O1(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Ts(e)-Ts(n))+1}function L1(n,e,t,i){var r=x1(n,e,t),s;switch(i=ya(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=R1(r,o))&&(i.precision=s),ex(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=O1(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=P1(r))&&(i.precision=s-(i.type==="%")*2);break}}return J0(i)}function yce(n){var e=n.domain;return n.ticks=function(t){var i=e();return X0(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return L1(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,o=i[r],a=i[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=r,r=s,s=c);u-- >0;){if(c=jp(o,a,t),c===l)return i[r]=o,i[s]=a,e(i);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return n},n}function _a(){var n=E1();return n.copy=function(){return tU(n,_a())},ga.apply(n,arguments),yce(n)}function $p(){var n=[],e=[],t=[],i;function r(){var o=0,a=Math.max(1,e.length);for(t=new Array(a-1);++o<a;)t[o-1]=b1(n,o/a);return s}function s(o){return o==null||isNaN(o=+o)?i:e[Bp(t,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?t[a-1]:n[0],a<t.length?t[a]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let a of o)a!=null&&!isNaN(a=+a)&&n.push(a);return n.sort(ws),r()},s.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return $p().domain(n).range(e).unknown(i)},ga.apply(s,arguments)}function En(n){return function(){return n}}var N1=Math.abs,In=Math.atan2,va=Math.cos,uU=Math.max,tx=Math.min,Nr=Math.sin,tc=Math.sqrt,ni=1e-12,fd=Math.PI,Hp=fd/2,pd=2*fd;function dU(n){return n>1?0:n<-1?fd:Math.acos(n)}function F1(n){return n>=1?Hp:n<=-1?-Hp:Math.asin(n)}var V1=Math.PI,B1=2*V1,nc=1e-6,vce=B1-nc;function hU(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function xce(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return hU;let t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}var ic=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hU:xce(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,o){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=i-e,c=r-t,u=o-e,h=a-t,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(f>nc)if(!(Math.abs(h*l-c*u)>nc)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let p=i-o,g=r-a,y=l*l+c*c,v=p*p+g*g,I=Math.sqrt(y),M=Math.sqrt(f),O=s*Math.tan((V1-Math.acos((y+f-v)/(2*I*M)))/2),N=O/M,F=O/I;Math.abs(N-1)>nc&&this._append`L${e+N*u},${t+N*h}`,this._append`A${s},${s},0,0,${+(h*p>u*g)},${this._x1=e+F*l},${this._y1=t+F*c}`}}arc(e,t,i,r,s,o){if(e=+e,t=+t,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let a=i*Math.cos(r),l=i*Math.sin(r),c=e+a,u=t+l,h=1^o,f=o?r-s:s-r;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>nc||Math.abs(this._y1-u)>nc)&&this._append`L${c},${u}`,i&&(f<0&&(f=f%B1+B1),f>vce?this._append`A${i},${i},0,1,${h},${e-a},${t-l}A${i},${i},0,1,${h},${this._x1=c},${this._y1=u}`:f>nc&&this._append`A${i},${i},0,${+(f>=V1)},${h},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}};function fU(){return new ic}fU.prototype=ic.prototype;function pU(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{let i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new ic(e)}function bce(n){return n.innerRadius}function wce(n){return n.outerRadius}function Tce(n){return n.startAngle}function Cce(n){return n.endAngle}function Sce(n){return n&&n.padAngle}function Ece(n,e,t,i,r,s,o,a){var l=t-n,c=i-e,u=o-r,h=a-s,f=h*l-u*c;if(!(f*f<ni))return f=(u*(e-s)-h*(n-r))/f,[n+f*l,e+f*c]}function nx(n,e,t,i,r,s,o){var a=n-t,l=e-i,c=(o?s:-s)/tc(a*a+l*l),u=c*l,h=-c*a,f=n+u,p=e+h,g=t+u,y=i+h,v=(f+g)/2,I=(p+y)/2,M=g-f,O=y-p,N=M*M+O*O,F=r-s,B=f*y-g*p,D=(O<0?-1:1)*tc(uU(0,F*F*N-B*B)),x=(B*O-M*D)/N,T=(-B*M-O*D)/N,k=(B*O+M*D)/N,A=(-B*M+O*D)/N,P=x-v,C=T-I,ue=k-v,_e=A-I;return P*P+C*C>ue*ue+_e*_e&&(x=k,T=A),{cx:x,cy:T,x01:-u,y01:-h,x11:x*(r/F-1),y11:T*(r/F-1)}}function Up(){var n=bce,e=wce,t=En(0),i=null,r=Tce,s=Cce,o=Sce,a=null,l=pU(c);function c(){var u,h,f=+n.apply(this,arguments),p=+e.apply(this,arguments),g=r.apply(this,arguments)-Hp,y=s.apply(this,arguments)-Hp,v=N1(y-g),I=y>g;if(a||(a=u=l()),p<f&&(h=p,p=f,f=h),!(p>ni))a.moveTo(0,0);else if(v>pd-ni)a.moveTo(p*va(g),p*Nr(g)),a.arc(0,0,p,g,y,!I),f>ni&&(a.moveTo(f*va(y),f*Nr(y)),a.arc(0,0,f,y,g,I));else{var M=g,O=y,N=g,F=y,B=v,D=v,x=o.apply(this,arguments)/2,T=x>ni&&(i?+i.apply(this,arguments):tc(f*f+p*p)),k=tx(N1(p-f)/2,+t.apply(this,arguments)),A=k,P=k,C,ue;if(T>ni){var _e=F1(T/f*Nr(x)),Y=F1(T/p*Nr(x));(B-=_e*2)>ni?(_e*=I?1:-1,N+=_e,F-=_e):(B=0,N=F=(g+y)/2),(D-=Y*2)>ni?(Y*=I?1:-1,M+=Y,O-=Y):(D=0,M=O=(g+y)/2)}var K=p*va(M),ee=p*Nr(M),oe=f*va(F),nt=f*Nr(F);if(k>ni){var Bt=p*va(O),et=p*Nr(O),Ze=f*va(N),je=f*Nr(N),kt;if(v<fd)if(kt=Ece(K,ee,Ze,je,Bt,et,oe,nt)){var Gn=K-kt[0],bt=ee-kt[1],Ei=Bt-kt[0],dn=et-kt[1],Hi=1/Nr(dU((Gn*Ei+bt*dn)/(tc(Gn*Gn+bt*bt)*tc(Ei*Ei+dn*dn)))/2),lr=tc(kt[0]*kt[0]+kt[1]*kt[1]);A=tx(k,(f-lr)/(Hi-1)),P=tx(k,(p-lr)/(Hi+1))}else A=P=0}D>ni?P>ni?(C=nx(Ze,je,K,ee,p,P,I),ue=nx(Bt,et,oe,nt,p,P,I),a.moveTo(C.cx+C.x01,C.cy+C.y01),P<k?a.arc(C.cx,C.cy,P,In(C.y01,C.x01),In(ue.y01,ue.x01),!I):(a.arc(C.cx,C.cy,P,In(C.y01,C.x01),In(C.y11,C.x11),!I),a.arc(0,0,p,In(C.cy+C.y11,C.cx+C.x11),In(ue.cy+ue.y11,ue.cx+ue.x11),!I),a.arc(ue.cx,ue.cy,P,In(ue.y11,ue.x11),In(ue.y01,ue.x01),!I))):(a.moveTo(K,ee),a.arc(0,0,p,M,O,!I)):a.moveTo(K,ee),!(f>ni)||!(B>ni)?a.lineTo(oe,nt):A>ni?(C=nx(oe,nt,Bt,et,f,-A,I),ue=nx(K,ee,Ze,je,f,-A,I),a.lineTo(C.cx+C.x01,C.cy+C.y01),A<k?a.arc(C.cx,C.cy,A,In(C.y01,C.x01),In(ue.y01,ue.x01),!I):(a.arc(C.cx,C.cy,A,In(C.y01,C.x01),In(C.y11,C.x11),!I),a.arc(0,0,f,In(C.cy+C.y11,C.cx+C.x11),In(ue.cy+ue.y11,ue.cx+ue.x11),I),a.arc(ue.cx,ue.cy,A,In(ue.y11,ue.x11),In(ue.y01,ue.x01),!I))):a.arc(0,0,f,F,N,I)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,h=(+r.apply(this,arguments)+ +s.apply(this,arguments))/2-fd/2;return[va(h)*u,Nr(h)*u]},c.innerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:En(+u),c):n},c.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:En(+u),c):e},c.cornerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:En(+u),c):t},c.padRadius=function(u){return arguments.length?(i=u==null?null:typeof u=="function"?u:En(+u),c):i},c.startAngle=function(u){return arguments.length?(r=typeof u=="function"?u:En(+u),c):r},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:En(+u),c):s},c.padAngle=function(u){return arguments.length?(o=typeof u=="function"?u:En(+u),c):o},c.context=function(u){return arguments.length?(a=u??null,c):a},c}var ije=Array.prototype.slice;function mU(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function gU(n,e){return e<n?-1:e>n?1:e>=n?0:NaN}function yU(n){return n}function j1(){var n=yU,e=gU,t=null,i=En(0),r=En(pd),s=En(0);function o(a){var l,c=(a=mU(a)).length,u,h,f=0,p=new Array(c),g=new Array(c),y=+i.apply(this,arguments),v=Math.min(pd,Math.max(-pd,r.apply(this,arguments)-y)),I,M=Math.min(Math.abs(v)/c,s.apply(this,arguments)),O=M*(v<0?-1:1),N;for(l=0;l<c;++l)(N=g[p[l]=l]=+n(a[l],l,a))>0&&(f+=N);for(e!=null?p.sort(function(F,B){return e(g[F],g[B])}):t!=null&&p.sort(function(F,B){return t(a[F],a[B])}),l=0,h=f?(v-c*O)/f:0;l<c;++l,y=I)u=p[l],N=g[u],I=y+(N>0?N*h:0)+O,g[u]={data:a[u],index:l,value:N,startAngle:y,endAngle:I,padAngle:M};return g}return o.value=function(a){return arguments.length?(n=typeof a=="function"?a:En(+a),o):n},o.sortValues=function(a){return arguments.length?(e=a,t=null,o):e},o.sort=function(a){return arguments.length?(t=a,e=null,o):t},o.startAngle=function(a){return arguments.length?(i=typeof a=="function"?a:En(+a),o):i},o.endAngle=function(a){return arguments.length?(r=typeof a=="function"?a:En(+a),o):r},o.padAngle=function(a){return arguments.length?(s=typeof a=="function"?a:En(+a),o):s},o}var Mce=["caretElm"],Pce=n=>({model:n});function Rce(n,e){}function Oce(n,e){if(n&1&&(w(0,"span"),Q(1,Rce,0,0,"ng-template",5),S()),n&2){let t=z();R(),$("ngTemplateOutlet",t.template)("ngTemplateOutletContext",oF(2,Pce,t.context))}}function Lce(n,e){if(n&1&&xe(0,"span",6),n&2){let t=z();$("innerHTML",t.title,qL)}}function Nce(n,e){if(n&1&&(w(0,"header",4)(1,"span",5),L(2),S()()),n&2){let t=z();R(2),be(t.title)}}function Fce(n,e){if(n&1){let t=ot();w(0,"li",6)(1,"ngx-charts-legend-entry",7),J("select",function(r){ne(t);let s=z();return ie(s.labelClick.emit(r))})("activate",function(r){ne(t);let s=z();return ie(s.activate(r))})("deactivate",function(r){ne(t);let s=z();return ie(s.deactivate(r))}),S()()}if(n&2){let t=e.$implicit,i=z();R(),$("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}var Vce=["*"];function Bce(n,e){if(n&1&&xe(0,"ngx-charts-scale-legend",4),n&2){let t=z();$("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function jce(n,e){if(n&1){let t=ot();w(0,"ngx-charts-legend",5),J("labelClick",function(r){ne(t);let s=z();return ie(s.legendLabelClick.emit(r))})("labelActivate",function(r){ne(t);let s=z();return ie(s.legendLabelActivate.emit(r))})("labelDeactivate",function(r){ne(t);let s=z();return ie(s.legendLabelDeactivate.emit(r))}),S()}if(n&2){let t=z();$("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}var $ce=["ngx-charts-axis-label",""],IU=["ticksel"],Hce=["ngx-charts-x-axis-ticks",""];function Uce(n,e){n&1&&(he(),My(0))}function zce(n,e){if(n&1&&(he(),w(0,"tspan",10),L(1),S()),n&2){let t=e.$implicit,i=e.index;Le("y",i*12),R(),qe(" ",t," ")}}function Wce(n,e){if(n&1&&(he(),Bo(0),Q(1,zce,2,2,"tspan",9),jo()),n&2){let t=e.ngIf;R(),$("ngForOf",t)}}function Gce(n,e){if(n&1&&Q(0,Wce,2,1,"ng-container",6),n&2){let t=z(2).$implicit,i=z();$("ngIf",i.tickChunks(t))}}function qce(n,e){if(n&1&&L(0),n&2){let t=z().ngIf,i=z(2);qe(" ",i.tickTrim(t)," ")}}function Yce(n,e){if(n&1&&(he(),Bo(0),w(1,"title"),L(2),S(),w(3,"text",7),Q(4,Uce,1,0,"ng-container",8),S(),Q(5,Gce,1,1,"ng-template",null,1,gl)(7,qce,1,1,"ng-template",null,2,gl),jo()),n&2){let t=e.ngIf,i=Qt(6),r=Qt(8),s=z(2);R(2),be(t),R(),Le("text-anchor",s.textAnchor)("transform",s.textTransform),R(),$("ngIf",s.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",r)}}function Xce(n,e){if(n&1&&(he(),w(0,"g",5),Q(1,Yce,9,6,"ng-container",6),S()),n&2){let t=e.$implicit,i=z();Le("transform",i.tickTransform(t)),R(),$("ngIf",i.tickFormat(t))}}function Kce(n,e){if(n&1&&(he(),w(0,"g"),xe(1,"line",11),S()),n&2){let t=z(2);Le("transform",t.gridLineTransform()),R(),Le("y1",-t.gridLineHeight)}}function Qce(n,e){if(n&1&&(he(),w(0,"g"),Q(1,Kce,2,2,"g",6),S()),n&2){let t=e.$implicit,i=z();Le("transform",i.tickTransform(t)),R(),$("ngIf",i.showGridLines)}}var Zce=["ngx-charts-x-axis",""];function Jce(n,e){if(n&1){let t=ot();he(),w(0,"g",2),J("dimensionsChanged",function(r){ne(t);let s=z();return ie(s.emitTicksHeight(r))}),S()}if(n&2){let t=z();$("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function eue(n,e){if(n&1&&(he(),xe(0,"g",3)),n&2){let t=z();$("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}var tue=["ngx-charts-y-axis-ticks",""];function nue(n,e){n&1&&(he(),My(0))}function iue(n,e){if(n&1&&(he(),w(0,"tspan",12),L(1),S()),n&2){let t=e.$implicit,i=e.index,r=z(6);Le("y",i*(8+r.tickSpacing)),R(),qe(" ",t," ")}}function rue(n,e){if(n&1&&(he(),Bo(0),Q(1,iue,2,2,"tspan",11),jo()),n&2){let t=z().ngIf;R(),$("ngForOf",t)}}function sue(n,e){if(n&1&&(he(),Bo(0),Q(1,rue,2,1,"ng-container",10),jo()),n&2){let t=e.ngIf;z(2);let i=Qt(8);R(),$("ngIf",t.length>1)("ngIfElse",i)}}function oue(n,e){if(n&1&&Q(0,sue,2,2,"ng-container",7),n&2){let t=z(2).$implicit,i=z();$("ngIf",i.tickChunks(t))}}function aue(n,e){if(n&1&&L(0),n&2){let t=z().ngIf,i=z(2);qe(" ",i.tickTrim(t)," ")}}function lue(n,e){if(n&1&&(he(),Bo(0),w(1,"title"),L(2),S(),w(3,"text",8),Q(4,nue,1,0,"ng-container",9),S(),Q(5,oue,1,1,"ng-template",null,1,gl)(7,aue,1,1,"ng-template",null,2,gl),jo()),n&2){let t=e.ngIf,i=Qt(6),r=Qt(8),s=z(2);R(2),be(t),R(),hi("font-size","12px"),Le("dy",s.dy)("x",s.x1)("y",s.y1)("text-anchor",s.textAnchor),R(),$("ngIf",s.wrapTicks)("ngIfThen",i)("ngIfElse",r)}}function cue(n,e){if(n&1&&(he(),w(0,"g",6),Q(1,lue,9,10,"ng-container",7),S()),n&2){let t=e.$implicit,i=z();Le("transform",i.transform(t)),R(),$("ngIf",i.tickFormat(t))}}function uue(n,e){if(n&1&&(he(),xe(0,"path",13)),n&2){let t=z();Le("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function due(n,e){if(n&1&&(he(),xe(0,"line",15)),n&2){let t=z(3);Le("x2",t.gridLineWidth)}}function hue(n,e){if(n&1&&(he(),xe(0,"line",15)),n&2){let t=z(3);Le("x2",-t.gridLineWidth)}}function fue(n,e){if(n&1&&(he(),w(0,"g"),Q(1,due,1,1,"line",14)(2,hue,1,1,"line",14),S()),n&2){let t=z(2);Le("transform",t.gridLineTransform()),R(),$("ngIf",t.orient===t.Orientation.Left),R(),$("ngIf",t.orient===t.Orientation.Right)}}function pue(n,e){if(n&1&&(he(),w(0,"g"),Q(1,fue,3,3,"g",7),S()),n&2){let t=e.$implicit,i=z();Le("transform",i.transform(t)),R(),$("ngIf",i.showGridLines)}}function mue(n,e){if(n&1&&(he(),w(0,"g")(1,"title"),L(2),S(),w(3,"text",17),L(4),S()()),n&2){let t=z(2).$implicit,i=z();R(2),be(i.tickTrim(i.tickFormat(t.value))),R(),Le("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),R(),qe(" ",t.name," ")}}function gue(n,e){if(n&1&&(he(),w(0,"g"),xe(1,"line",16),Q(2,mue,5,6,"g",7),S()),n&2){let t=z().$implicit,i=z();Le("transform",i.transform(t.value)),R(),Le("x2",i.gridLineWidth)("transform",i.gridLineTransform()),R(),$("ngIf",i.showRefLabels)}}function yue(n,e){if(n&1&&(he(),w(0,"g"),Q(1,gue,3,4,"g",7),S()),n&2){let t=z();R(),$("ngIf",t.showRefLines)}}var _ue=["ngx-charts-y-axis",""];function vue(n,e){if(n&1){let t=ot();he(),w(0,"g",2),J("dimensionsChanged",function(r){ne(t);let s=z();return ie(s.emitTicksWidth(r))}),S()}if(n&2){let t=z();$("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function xue(n,e){if(n&1&&(he(),xe(0,"g",3)),n&2){let t=z();$("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}var bue=["ngx-charts-svg-linear-gradient",""];function wue(n,e){if(n&1&&(he(),xe(0,"stop")),n&2){let t=e.$implicit;hi("stop-color",t.color)("stop-opacity",t.opacity),Le("offset",t.offset+"%")}}var Tue=["ngx-charts-svg-radial-gradient",""];function Cue(n,e){if(n&1&&(he(),xe(0,"stop")),n&2){let t=e.$implicit;hi("stop-color",t.color)("stop-opacity",t.opacity),Le("offset",t.offset+"%")}}var DU=["tooltipTemplate"];var AU=(n,e)=>[n,e];var kU=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var Sue=["ngx-charts-bar",""];function Eue(n,e){if(n&1&&(he(),w(0,"defs"),xe(1,"g",2),S()),n&2){let t=z();R(),$("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}var Iue=["ngx-charts-bar-label",""];var Due=["ngx-charts-series-vertical",""];function Aue(n,e){if(n&1){let t=ot();he(),w(0,"g",2),J("select",function(r){ne(t);let s=z(2);return ie(s.onClick(r))})("activate",function(r){ne(t);let s=z(2);return ie(s.activate.emit(r))})("deactivate",function(r){ne(t);let s=z(2);return ie(s.deactivate.emit(r))}),S()}if(n&2){let t=e.$implicit,i=z(2);$("@animationState","active")("@.disabled",!i.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function kue(n,e){if(n&1&&(he(),w(0,"g"),Q(1,Aue,1,22,"g",1),S()),n&2){let t=z();R(),$("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Mue(n,e){if(n&1){let t=ot();he(),w(0,"g",2),J("select",function(r){ne(t);let s=z(2);return ie(s.onClick(r))})("activate",function(r){ne(t);let s=z(2);return ie(s.activate.emit(r))})("deactivate",function(r){ne(t);let s=z(2);return ie(s.deactivate.emit(r))}),S()}if(n&2){let t=e.$implicit,i=z(2);$("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Pue(n,e){if(n&1&&(he(),w(0,"g"),Q(1,Mue,1,20,"g",1),S()),n&2){let t=z();R(),$("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Rue(n,e){if(n&1){let t=ot();he(),w(0,"g",4),J("dimensionsChanged",function(r){let s=ne(t).index,o=z(2);return ie(o.dataLabelHeightChanged.emit({size:r,index:s}))}),S()}if(n&2){let t=e.$implicit,i=z(2);$("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function Oue(n,e){if(n&1&&(he(),w(0,"g"),Q(1,Rue,1,7,"g",3),S()),n&2){let t=z();R(),$("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function Lue(n,e){if(n&1){let t=ot();he(),w(0,"g",5),J("dimensionsChanged",function(r){ne(t);let s=z();return ie(s.updateXAxisHeight(r))}),S()}if(n&2){let t=z();$("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)("wrapTicks",t.wrapTicks)}}function Nue(n,e){if(n&1){let t=ot();he(),w(0,"g",6),J("dimensionsChanged",function(r){ne(t);let s=z();return ie(s.updateYAxisWidth(r))}),S()}if(n&2){let t=z();$("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}var Fue=["ngx-charts-pie-label",""];var Vue=["ngx-charts-pie-arc",""];function Bue(n,e){if(n&1&&(he(),w(0,"defs"),xe(1,"g",3),S()),n&2){let t=z();R(),$("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}var jue=["ngx-charts-pie-series",""];function $ue(n,e){if(n&1&&(he(),xe(0,"g",3)),n&2){let t=z().$implicit,i=z();$("data",t)("radius",i.outerRadius)("color",i.color(t))("label",i.labelText(t))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",t.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Hue(n,e){if(n&1){let t=ot();he(),w(0,"g"),Q(1,$ue,1,10,"g",1),w(2,"g",2),J("select",function(r){ne(t);let s=z();return ie(s.onClick(r))})("activate",function(r){ne(t);let s=z();return ie(s.activate.emit(r))})("deactivate",function(r){ne(t);let s=z();return ie(s.deactivate.emit(r))})("dblclick",function(r){ne(t);let s=z();return ie(s.dblclick.emit(r))}),S()()}if(n&2){let t=e.$implicit,i=z();R(),$("ngIf",i.labelVisible(t)),R(),$("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("gradient",i.gradient)("data",t.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(t.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(t))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)}}var Uue=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function zue(n,e,t){t=t||{};let i,r,s,o=null,a=0;function l(){a=t.leading===!1?0:+new Date,o=null,s=n.apply(i,r)}return function(){let c=+new Date;!a&&t.leading===!1&&(a=c);let u=e-(c-a);return i=this,r=arguments,u<=0?(clearTimeout(o),o=null,a=c,s=n.apply(i,r)):!o&&t.trailing!==!1&&(o=setTimeout(l,u)),s}}function Wue(n,e){return function(i,r,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:s.enumerable,value:zue(s.value,n,e)}),this[r]}}}}var ze=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n.Center="center",n}(ze||{}),wa=7;function _U(n,e,t){if(t===ze.Top)return n.top-wa;if(t===ze.Bottom)return n.top+n.height-e.height+wa;if(t===ze.Center)return n.top+n.height/2-e.height/2}function vU(n,e,t){if(t===ze.Left)return n.left-wa;if(t===ze.Right)return n.left+n.width-e.width+wa;if(t===ze.Center)return n.left+n.width/2-e.width/2}var Wp=class n{static calculateVerticalAlignment(e,t,i){let r=_U(e,t,i);return r+t.height>window.innerHeight&&(r=window.innerHeight-t.height),r}static calculateVerticalCaret(e,t,i,r){let s;r===ze.Top&&(s=e.height/2-i.height/2+wa),r===ze.Bottom&&(s=t.height-e.height/2-i.height/2-wa),r===ze.Center&&(s=t.height/2-i.height/2);let o=_U(e,t,r);return o+t.height>window.innerHeight&&(s+=o+t.height-window.innerHeight),s}static calculateHorizontalAlignment(e,t,i){let r=vU(e,t,i);return r+t.width>window.innerWidth&&(r=window.innerWidth-t.width),r}static calculateHorizontalCaret(e,t,i,r){let s;r===ze.Left&&(s=e.width/2-i.width/2+wa),r===ze.Right&&(s=t.width-e.width/2-i.width/2-wa),r===ze.Center&&(s=t.width/2-i.width/2);let o=vU(e,t,r);return o+t.width>window.innerWidth&&(s+=o+t.width-window.innerWidth),s}static shouldFlip(e,t,i,r){let s=!1;return i===ze.Right&&e.left+e.width+t.width+r>window.innerWidth&&(s=!0),i===ze.Left&&e.left-t.width-r<0&&(s=!0),i===ze.Top&&e.top-t.height-r<0&&(s=!0),i===ze.Bottom&&e.top+e.height+t.height+r>window.innerHeight&&(s=!0),s}static positionCaret(e,t,i,r,s){let o=0,a=0;return e===ze.Right?(a=-7,o=n.calculateVerticalCaret(i,t,r,s)):e===ze.Left?(a=t.width,o=n.calculateVerticalCaret(i,t,r,s)):e===ze.Top?(o=t.height,a=n.calculateHorizontalCaret(i,t,r,s)):e===ze.Bottom&&(o=-7,a=n.calculateHorizontalCaret(i,t,r,s)),{top:o,left:a}}static positionContent(e,t,i,r,s){let o=0,a=0;return e===ze.Right?(a=i.left+i.width+r,o=n.calculateVerticalAlignment(i,t,s)):e===ze.Left?(a=i.left-t.width-r,o=n.calculateVerticalAlignment(i,t,s)):e===ze.Top?(o=i.top-t.height-r,a=n.calculateHorizontalAlignment(i,t,s)):e===ze.Bottom&&(o=i.top+i.height+r,a=n.calculateHorizontalAlignment(i,t,s)),{top:o,left:a}}static determinePlacement(e,t,i,r){if(n.shouldFlip(i,t,e,r)){if(e===ze.Right)return ze.Left;if(e===ze.Left)return ze.Right;if(e===ze.Top)return ze.Bottom;if(e===ze.Bottom)return ze.Top}return e}},Gue=(()=>{class n{get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}constructor(t,i,r){this.element=t,this.renderer=i,this.platformId=r}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Uo(this.platformId))return;let t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let r=t.getBoundingClientRect();this.checkFlip(i,r),this.positionContent(t,i,r),this.showCaret&&this.positionCaret(i,r),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,r){let{top:s,left:o}=Wp.positionContent(this.placement,r,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${s}px`),this.renderer.setStyle(t,"left",`${o}px`)}positionCaret(t,i){let r=this.caretElm.nativeElement,s=r.getBoundingClientRect(),{top:o,left:a}=Wp.positionCaret(this.placement,i,t,s,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${a}px`)}checkFlip(t,i){this.placement=Wp.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}static{this.\u0275fac=function(i){return new(i||n)(H(_t),H(di),H(Qn))}}static{this.\u0275cmp=de({type:n,selectors:[["ngx-tooltip-content"]],viewQuery:function(i,r){if(i&1&&iu(Mce,5),i&2){let s;Qr(s=Zr())&&(r.caretElm=s.first)}},hostVars:2,hostBindings:function(i,r){i&1&&J("resize",function(){return r.onWindowResize()},!1,XL),i&2&&GN(r.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},standalone:!1,decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(i,r){i&1&&(w(0,"div"),xe(1,"span",1,0),w(3,"div",2),Q(4,Oce,2,4,"span",3)(5,Lce,1,1,"span",4),S()()),i&2&&(R(),eF("tooltip-caret position-",r.placement,""),$("hidden",!r.showCaret),R(3),$("ngIf",!r.title),R(),$("ngIf",r.title))},dependencies:[ct,pS],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:#000000bf;font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translateZ(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2})}}return uR([Wue(100)],n.prototype,"onWindowResize",null),n})(),$1=class{constructor(e){this.injectionService=e,this.defaults={},this.components=new Map}getByType(e=this.type){return this.components.get(e)}create(e){return this.createByType(this.type,e)}createByType(e,t){t=this.assignDefaults(t);let i=this.injectComponent(e,t);return this.register(e,i),i}destroy(e){let t=this.components.get(e.componentType);if(t&&t.length){let i=t.indexOf(e);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(e){let t=this.components.get(e);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(e,t){return this.injectionService.appendComponent(e,t)}assignDefaults(e){let t=U({},this.defaults.inputs),i=U({},this.defaults.outputs);return!e.inputs&&!e.outputs&&(e={inputs:e}),t&&(e.inputs=U(U({},t),e.inputs)),i&&(e.outputs=U(U({},i),e.outputs)),e}register(e,t){this.components.has(e)||this.components.set(e,[]),this.components.get(e).push(t)}};function que(n){return n.element}var MU=(()=>{class n{static{this.globalRootViewContainer=null}static setGlobalRootViewContainer(t){n.globalRootViewContainer=t}constructor(t,i,r){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=r}getRootViewContainer(){if(this._container)return this._container;if(n.globalRootViewContainer)return n.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return que(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(i.inputs!==void 0){let r=Object.getOwnPropertyNames(i.inputs);for(let s of r)t.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let r=Object.getOwnPropertyNames(i.outputs);for(let s of r)t.instance[s]=i.outputs[s]}}return t}appendComponent(t,i={},r){r||(r=this.getRootViewContainer());let s=this.getComponentRootNode(r),o=new xp(s,this.componentFactoryResolver,this.applicationRef,this.injector),a=new id(t),l=o.attach(a);return this.projectComponentBindings(l,i),l}static{this.\u0275fac=function(i){return new(i||n)(se(Xr),se(nu),se(pt))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),U1=(()=>{class n extends $1{constructor(t){super(t),this.type=Gue}static{this.\u0275fac=function(i){return new(i||n)(se(MU))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),Ta=function(n){return n.Right="right",n.Below="below",n}(Ta||{}),zp=function(n){return n.ScaleLegend="scaleLegend",n.Legend="legend",n}(zp||{}),ft=function(n){return n.Time="time",n.Linear="linear",n.Ordinal="ordinal",n.Quantile="quantile",n}(ft||{});function Gp(n){return n instanceof Date?n=n.toLocaleDateString():n=n.toLocaleString(),n}function PU(n){return n.toLocaleString().replace(/[&'`"<>]/g,e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[e])}var Yue=(()=>{class n{constructor(){this.isActive=!1,this.select=new ce,this.activate=new ce,this.deactivate=new ce,this.toggle=new ce}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(i,r){i&1&&J("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},standalone:!1,decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(i,r){i&1&&(w(0,"span",0),J("click",function(){return r.select.emit(r.formattedLabel)}),w(1,"span",1),J("click",function(){return r.toggle.emit(r.formattedLabel)}),S(),w(2,"span",2),L(3),S()()),i&2&&(Xi("active",r.isActive),$("title",r.formattedLabel),R(),hi("background-color",r.color),R(2),qe(" ",r.trimmedLabel," "))},encapsulation:2,changeDetection:0})}}return n})(),Xue=(()=>{class n{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new ce,this.labelActivate=new ce,this.labelDeactivate=new ce,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let t=[];for(let i of this.data){let r=Gp(i);t.findIndex(o=>o.label===r)===-1&&t.push({label:i,formattedLabel:r,color:this.colors.getColor(i)})}return t}isActive(t){return this.activeEntries?this.activeEntries.find(r=>t.label===r.name)!==void 0:!1}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}static{this.\u0275fac=function(i){return new(i||n)(H(pr))}}static{this.\u0275cmp=de({type:n,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},standalone:!1,features:[st],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(i,r){i&1&&(w(0,"div"),Q(1,Nce,3,1,"header",0),w(2,"div",1)(3,"ul",2),Q(4,Fce,2,4,"li",3),S()()()),i&2&&(hi("width",r.width,"px"),R(),$("ngIf",(r.title==null?null:r.title.length)>0),R(2),hi("max-height",r.height-45,"px"),Xi("horizontal-legend",r.horizontal),R(),$("ngForOf",r.legendEntries)("ngForTrackBy",r.trackBy))},dependencies:[lt,ct,Yue],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:#0000000d}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;-webkit-transition:.2s;-moz-transition:.2s;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0})}}return n})(),Kue=(()=>{class n{constructor(){this.horizontal=!1}ngOnChanges(t){let i=this.gradientString(this.colors.range(),this.colors.domain()),r=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${r}, ${i})`}gradientString(t,i){i.push(1);let r=[];return t.reverse().forEach((s,o)=>{r.push(`${s} ${Math.round(i[o]*100)}%`)}),r.join(", ")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},standalone:!1,features:[st],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(i,r){i&1&&(w(0,"div",0)(1,"div",1)(2,"span"),L(3),S()(),xe(4,"div",2),w(5,"div",1)(6,"span"),L(7),S()()()),i&2&&(hi("height",r.horizontal?void 0:r.height,"px")("width",r.width,"px"),Xi("horizontal-legend",r.horizontal),R(3),be(r.valueRange[1].toLocaleString()),R(),hi("background",r.gradient),R(3),be(r.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0})}}return n})(),RU=(()=>{class n{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new ce,this.legendLabelActivate=new ce,this.legendLabelDeactivate=new ce,this.LegendPosition=Ta,this.LegendType=zp}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Ta.Right)&&(this.legendType===zp.ScaleLegend?t=1:t=2));let i=12-t;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===Ta.Right?Math.floor(this.view[0]*t/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===ft.Linear?zp.ScaleLegend:zp.Legend}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},standalone:!1,features:[Ki([U1]),st],ngContentSelectors:Vce,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(i,r){i&1&&(nF(),w(0,"div",0),he(),w(1,"svg",1),iF(2),S(),Q(3,Bce,1,5,"ngx-charts-scale-legend",2)(4,jce,1,7,"ngx-charts-legend",3),S()),i&2&&(hi("width",r.view[0],"px")("height",r.view[1],"px"),R(),Le("width",r.chartWidth)("height",r.view[1]),R(2),$("ngIf",r.showLegend&&r.legendType===r.LegendType.ScaleLegend),R(),$("ngIf",r.showLegend&&r.legendType===r.LegendType.Legend))},dependencies:[ct,Xue,Kue],encapsulation:2,changeDetection:0})}}return n})(),Que=(()=>{class n{constructor(t,i){this.element=t,this.zone=i,this.visible=new ce,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let t=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:r}=this.element.nativeElement;i&&r?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}static{this.\u0275fac=function(i){return new(i||n)(H(_t),H(De))}}static{this.\u0275dir=it({type:n,selectors:[["visibility-observer"]],outputs:{visible:"visible"},standalone:!1})}}return n})();function xU(n){return toString.call(n)==="[object Date]"}var OU=(()=>{class n{constructor(t,i,r,s){this.chartElement=t,this.zone=i,this.cd=r,this.platformId=s,this.scheme="cool",this.schemeType=ft.Ordinal,this.animations=!0,this.select=new ce}ngOnInit(){zo(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Que(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i,r=this.chartElement.nativeElement;if(Uo(this.platformId)&&r.parentNode!==null){let s=r.parentNode.getBoundingClientRect();t=s.width,i=s.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){let i=this.results[t];if(i.label=i.name,xU(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let r=0;r<i.series.length;r++){let s=i.series[r];s.label=s.name,xU(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Uo(this.platformId))return;let i=ph(window,"resize").pipe($w(200)).subscribe(r=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){let i=[];for(let r of t){let s={};if(r.name!==void 0&&(s.name=r.name),r.value!==void 0&&(s.value=r.value),r.series!==void 0){s.series=[];for(let o of r.series){let a=Object.assign({},o);s.series.push(a)}}r.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(r.extra))),r.source!==void 0&&(s.source=r.source),r.target!==void 0&&(s.target=r.target),i.push(s)}return i}static{this.\u0275fac=function(i){return new(i||n)(H(_t),H(De),H(pr),H(Qn))}}static{this.\u0275cmp=de({type:n,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},standalone:!1,features:[st],decls:1,vars:0,template:function(i,r){i&1&&xe(0,"div")},encapsulation:2})}}return n})(),Dn=function(n){return n.Top="top",n.Bottom="bottom",n.Left="left",n.Right="right",n}(Dn||{}),LU=(()=>{class n{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Dn.Top:this.y=this.offset,this.x=this.width/2;break;case Dn.Bottom:this.y=this.offset,this.x=this.width/2;break;case Dn.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Dn.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)";break;default:}}static{this.\u0275fac=function(i){return new(i||n)(H(_t))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},standalone:!1,features:[st],attrs:$ce,decls:2,vars:6,template:function(i,r){i&1&&(he(),w(0,"text"),L(1),S()),i&2&&(Le("stroke-width",r.strokeWidth)("x",r.x)("y",r.y)("text-anchor",r.textAnchor)("transform",r.transform),R(),qe(" ",r.label," "))},encapsulation:2,changeDetection:0})}}return n})();function z1(n,e=16){return typeof n!="string"?typeof n=="number"?n+"":"":(n=n.trim(),n.length<=e?n:`${n.slice(0,e)}...`)}function NU(n,e){if(n.length>e){let t=[],i=Math.floor(n.length/e);for(let r=0;r<n.length;r++)r%i===0&&t.push(n[r]);n=t}return n}function FU(n,e,t){let i=(n||"").toString(),r=[];if(/\s/.test(i))r=i.split(/\s+/).reduce((s,o)=>{let a=(s.pop()||"")+" ";return a.length+o.length>e?[...s,a.trim(),o.trim()]:[...s,a+o]},[]);else{let s=0;for(;s<i.length;)r.push(i.substring(s,s+e)),s+=e}return r.length>t&&(r=r.splice(0,t),r[r.length-1]+="..."),r}var Fr=function(n){return n.Start="start",n.Middle="middle",n.End="end",n}(Fr||{}),bU=(()=>{class n{get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new ce,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Fr.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Uo(this.platformId)){this.dimensionsChanged.emit({height:this.approxHeight});return}let t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){let t=this.scale;this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:t.tickFormat?this.tickFormat=t.tickFormat.apply(t,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()};let i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(r){return this.scale(r)+this.scale.bandwidth()*.5}:this.scale,this.textTransform="",i&&i!==0?(this.textTransform=`rotate(${i})`,this.textAnchor=Fr.End,this.verticalSpacing=10):this.textAnchor=Fr.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let h=0;h<t.length;h++){let f=this.tickFormat(t[h]).toString(),p=f.length;this.trimTicks&&(p=this.tickTrim(f).length),p>this.maxTicksLength&&(this.maxTicksLength=p)}let r=Math.min(this.maxTicksLength,this.maxAllowedLength),s=7,o=r*s,a=o,l=Math.floor(this.width/t.length);for(;a>l&&i>-90;)i-=30,a=Math.cos(i*(Math.PI/180))*o;let c=14;if(this.isWrapTicksSupported){let h=this.ticks.reduce((p,g)=>g.length>p.length?g:p,"");c=14*(this.tickChunks(h).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(h)}let u=i!==0?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*s,10):c;return this.approxHeight=Math.min(u,200),i}getTicks(){let t,i=this.getMaxTicks(20),r=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[r]):(t=this.scale.domain(),t=NU(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?z1(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){let r=Math.floor(this.scale.bandwidth()/7),s=t.slice(0,r);return Math.max(s.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let r=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(r<=1)return[this.tickTrim(t)];let s=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return Uo(this.platformId)||(s=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),r=Math.min(r,5),FU(t,s,r<1?1:r)}return[this.tickTrim(t)]}static{this.\u0275fac=function(i){return new(i||n)(H(Qn))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(i,r){if(i&1&&iu(IU,5),i&2){let s;Qr(s=Zr())&&(r.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[st],attrs:Hce,decls:4,vars:2,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(i,r){i&1&&(he(),w(0,"g",null,0),Q(2,Xce,2,2,"g",3),S(),Q(3,Qce,2,2,"g",4)),i&2&&(R(2),$("ngForOf",r.ticks),R(),$("ngForOf",r.ticks))},dependencies:[lt,ct],encapsulation:2,changeDetection:0})}}return n})(),Zue=(()=>{class n{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Dn.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ce,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Dn}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){let i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(i,r){if(i&1&&iu(bU,5),i&2){let s;Qr(s=Zr())&&(r.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[st],attrs:Zce,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"dimensionsChanged","trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,r){i&1&&(he(),w(0,"g"),Q(1,Jce,1,13,"g",0)(2,eue,1,5,"g",1),S()),i&2&&(Le("class",r.xAxisClassName)("transform",r.transform),R(),$("ngIf",r.xScale),R(),$("ngIf",r.showLabel))},dependencies:[ct,LU,bU],encapsulation:2,changeDetection:0})}}return n})();function xa(n,e,t,i,r,[s,o,a,l]){let c="";return t=Math.floor(t),i=Math.floor(i),t=t===0?1:t,i=i===0?1:i,c=`M${[n+r,e]}`,c+=`h${t-2*r}`,o?c+=`a${[r,r]} 0 0 1 ${[r,r]}`:c+=`h${r}v${r}`,c+=`v${i-2*r}`,l?c+=`a${[r,r]} 0 0 1 ${[-r,r]}`:c+=`v${r}h${-r}`,c+=`h${2*r-t}`,a?c+=`a${[r,r]} 0 0 1 ${[-r,-r]}`:c+=`h${-r}v${-r}`,c+=`v${2*r-i}`,s?c+=`a${[r,r]} 0 0 1 ${[r,-r]}`:c+=`v${-r}h${r}`,c+="z",c}var wU=(()=>{class n{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new ce,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Fr.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Dn}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Uo(this.platformId)){this.width=this.getApproximateAxisWidth(),this.dimensionsChanged.emit({width:this.width});return}let t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){let t=this.scale,i=this.orient===Dn.Top||this.orient===Dn.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormatting?this.tickFormat=this.tickFormatting:t.tickFormat?this.tickFormat=t.tickFormat.apply(t,this.tickArguments):this.tickFormat=function(r){return r.constructor.name==="Date"?r.toLocaleDateString():r.toLocaleString()},this.adjustedScale=t.bandwidth?r=>{let s=t(r)+t.bandwidth()*.5;if(this.wrapTicks&&r.toString().length>this.maxTickLength){let o=this.tickChunks(r).length;if(o===1)return s;let a=t.bandwidth(),l=o*8,c=a*.5-l*.5;return t(r)+c}return s}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Dn.Top:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Fr.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Dn.Bottom:this.transform=function(r){return"translate("+this.adjustedScale(r)+",0)"},this.textAnchor=Fr.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Dn.Left:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Fr.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case Dn.Right:this.transform=function(r){return"translate(0,"+this.adjustedScale(r)+")"},this.textAnchor=Fr.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;default:}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=xa(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t,i=this.getMaxTicks(20),r=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[r]):(t=this.scale.domain(),t=NU(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?z1(t,this.maxTickLength):t}getApproximateAxisWidth(){return Math.max(...this.ticks.map(r=>this.tickTrim(this.tickFormat(r)).length))*7}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let i=this.maxTickLength,r=Math.floor(this.scale.bandwidth()/15);return r<=1?[this.tickTrim(t)]:FU(t,i,Math.min(r,5))}return[this.tickFormat(t)]}static{this.\u0275fac=function(i){return new(i||n)(H(Qn))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(i,r){if(i&1&&iu(IU,5),i&2){let s;Qr(s=Zr())&&(r.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[st],attrs:tue,decls:6,vars:4,consts:[["ticksel",""],["tmplMultilineTick",""],["tmplSinglelineTick",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(i,r){i&1&&(he(),w(0,"g",null,0),Q(2,cue,2,2,"g",3),S(),Q(3,uue,1,2,"path",4)(4,pue,2,2,"g",5)(5,yue,2,1,"g",5)),i&2&&(R(2),$("ngForOf",r.ticks),R(),$("ngIf",r.referenceLineLength>1&&r.refMax&&r.refMin&&r.showRefLines),R(),$("ngForOf",r.ticks),R(),$("ngForOf",r.referenceLines))},dependencies:[lt,ct],encapsulation:2,changeDetection:0})}}return n})(),Jue=(()=>{class n{constructor(){this.showGridLines=!1,this.yOrient=Dn.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new ce,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Dn.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,this.yAxisTickCount!==void 0&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===Dn.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(i,r){if(i&1&&iu(wU,5),i&2){let s;Qr(s=Zr())&&(r.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[st],attrs:_ue,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"dimensionsChanged","trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(i,r){i&1&&(he(),w(0,"g"),Q(1,vue,1,15,"g",0)(2,xue,1,5,"g",1),S()),i&2&&(Le("class",r.yAxisClassName)("transform",r.transform),R(),$("ngIf",r.yScale),R(),$("ngIf",r.showLabel))},dependencies:[ct,LU,wU],encapsulation:2,changeDetection:0})}}return n})(),TU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[es]})}}return n})(),rx=function(n){return n.popover="popover",n.tooltip="tooltip",n}(rx||{}),md=function(n){return n[n.all="all"]="all",n[n.focus="focus"]="focus",n[n.mouseover="mouseover"]="mouseover",n}(md||{}),VU=(()=>{class n{get listensForFocus(){return this.tooltipShowEvent===md.all||this.tooltipShowEvent===md.focus}get listensForHover(){return this.tooltipShowEvent===md.all||this.tooltipShowEvent===md.mouseover}constructor(t,i,r){this.tooltipService=t,this.viewContainerRef=i,this.renderer=r,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=ze.Top,this.tooltipAlignment=ze.Center,this.tooltipType=rx.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=md.all,this.tooltipImmediateExit=!1,this.show=new ce,this.hide=new ce}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;let i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let r=this.createBoundOptions();this.component=this.tooltipService.create(r),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}static{this.\u0275fac=function(i){return new(i||n)(H(U1),H(Yi),H(di))}}static{this.\u0275dir=it({type:n,selectors:[["","ngx-tooltip",""]],hostBindings:function(i,r){i&1&&J("focusin",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(o){return r.onMouseLeave(o.target)})("click",function(){return r.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"},standalone:!1})}}return n})(),CU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({providers:[MU,U1],imports:[es]})}}return n})(),SU={};function W1(){let n=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return n=`a${n}`,SU[n]?W1():(SU[n]=!0,n)}var Un=function(n){return n.Vertical="vertical",n.Horizontal="horizontal",n}(Un||{});var ede=(()=>{class n{constructor(){this.orientation=Un.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Un.Horizontal?this.x2="100%":this.orientation===Un.Vertical&&(this.y1="100%")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},standalone:!1,features:[st],attrs:bue,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(he(),w(0,"linearGradient",0),Q(1,wue,1,5,"stop",1),S()),i&2&&($("id",r.name),Le("x1",r.x1)("y1",r.y1)("x2",r.x2)("y2",r.y2),R(),$("ngForOf",r.stops))},dependencies:[lt],encapsulation:2,changeDetection:0})}}return n})();var tde=(()=>{class n{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},standalone:!1,features:[st],attrs:Tue,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(i,r){i&1&&(he(),w(0,"radialGradient",0),Q(1,Cue,1,5,"stop",1),S()),i&2&&($("id",r.name),Le("cx",r.cx)("cy",r.cy)("r",r.r),R(),$("ngForOf",r.stops))},dependencies:[lt],encapsulation:2,changeDetection:0})}}return n})();var H1;typeof window<"u"?H1=window:typeof global<"u"&&(H1=global);var h3e=H1.MouseEvent;var $i=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[es,TU,CU,es,TU,CU]})}}return n})();function BU({width:n,height:e,margins:t,showXAxis:i=!1,showYAxis:r=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:a=!1,showYLabel:l=!1,showLegend:c=!1,legendType:u=ft.Ordinal,legendPosition:h=Ta.Right,columns:f=12}){let p=t[3],g=n,y=e-t[0]-t[2];return c&&h===Ta.Right&&(u===ft.Ordinal?f-=2:f-=1),g=g*f/12,g=g-t[1]-t[3],i&&(y-=5,y-=s,a&&(y-=30)),r&&(g-=5,g-=o,p+=o,p+=10,l&&(g-=30,p+=30)),g=Math.max(0,g),y=Math.max(0,y),{width:Math.floor(g),height:Math.floor(y),xOffset:Math.floor(p)}}var EU=[{name:"vivid",selectable:!0,group:ft.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:ft.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:ft.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:ft.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:ft.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:ft.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:ft.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:ft.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:ft.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:ft.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:ft.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:ft.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:ft.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:ft.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:ft.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],ix=class{constructor(e,t,i,r){typeof e=="string"&&(e=EU.find(s=>s.name===e)),this.colorDomain=e.domain,this.scaleType=t,this.domain=i,this.customColors=r,this.scale=this.generateColorScheme(e,t,this.domain)}generateColorScheme(e,t,i){typeof e=="string"&&(e=EU.find(s=>s.name===e));let r;switch(t){case ft.Quantile:r=$p().range(e.domain).domain(i);break;case ft.Ordinal:r=Jl().range(e.domain).domain(i);break;case ft.Linear:{let s=[...e.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=ud(0,1,1/s.length);r=_a().range(s).domain(o)}break;default:break}return r}getColor(e){if(e==null)throw new Error("Value can not be null");if(this.scaleType===ft.Linear){let t=_a().domain(this.domain).range([0,1]);return this.scale(t(e))}else{if(typeof this.customColors=="function")return this.customColors(e);let t=e.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(r=>r.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(e)}}getLinearGradientStops(e,t){t===void 0&&(t=this.domain[0]);let i=_a().domain(this.domain).range([0,1]),r=dd().domain(this.colorDomain).range([0,1]),s=this.getColor(e),o=i(t),a=this.getColor(t),l=i(e),c=1,u=o,h=[];for(h.push({color:a,offset:o,originalOffset:o,opacity:1});u<l&&c<this.colorDomain.length;){let f=this.colorDomain[c],p=r(f);if(p<=o){c++;continue}if(p.toFixed(4)>=(l-r.bandwidth()).toFixed(4))break;h.push({color:f,offset:p,opacity:1}),u=p,c++}if(h[h.length-1].offset<100&&h.push({color:s,offset:l,opacity:1}),l===o)h[0].offset=0,h[1].offset=100;else if(h[h.length-1].offset!==100)for(let f of h)f.offset=(f.offset-o)/(l-o)*100;return h}};var nde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})(),ide=(()=>{class n{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new ce,this.activate=new ce,this.deactivate=new ce,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+W1().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){let t=Cp(this.element).select(".bar"),i=this.getPath();this.animations?t.transition().duration(500).attr("d",i):t.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let t=this.getRadius(),i;return this.roundEdges?this.orientation===Un.Vertical?(t=Math.min(this.height,t),i=xa(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Un.Horizontal&&(t=Math.min(this.width,t),i=xa(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Un.Vertical?i=xa(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Un.Horizontal&&(i=xa(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let t=this.getRadius(),i;return this.roundEdges?this.orientation===Un.Vertical?(t=Math.min(this.height,t),i=xa(this.x,this.y,this.width,this.height,t,this.edges)):this.orientation===Un.Horizontal&&(t=Math.min(this.width,t),i=xa(this.x,this.y,this.width,this.height,t,this.edges)):i=xa(this.x,this.y,this.width,this.height,t,this.edges),i}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Un.Vertical?this.data.value>0?t=[!0,!0,!1,!1]:t=[!1,!1,!0,!0]:this.orientation===Un.Horizontal&&(this.data.value>0?t=[!1,!0,!1,!0]:t=[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Un.Vertical&&this.height===0||this.orientation===Un.Horizontal&&this.width===0)}static{this.\u0275fac=function(i){return new(i||n)(H(_t))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(i,r){i&1&&J("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[st],attrs:Sue,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(i,r){i&1&&(Q(0,Eue,2,3,"defs",0),he(),w(1,"path",1),J("click",function(){return r.select.emit(r.data)}),S()),i&2&&($("ngIf",r.hasGradient),R(),Xi("active",r.isActive)("hidden",r.hideBar),Le("d",r.path)("aria-label",r.ariaLabel)("fill",r.hasGradient?r.gradientFill:r.fill))},dependencies:[ct,ede],encapsulation:2,changeDetection:0})}}return n})(),ba=function(n){return n.Standard="standard",n.Normalized="normalized",n.Stacked="stacked",n}(ba||{}),gd=function(n){return n.positive="positive",n.negative="negative",n}(gd||{}),rde=(()=>{class n{constructor(t){this.dimensionsChanged=new ce,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){let t=this.element.getBoundingClientRect().height,i=this.element.getBoundingClientRect().width;return{height:t,width:i,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.valueFormatting?this.formatedValue=this.valueFormatting(this.value):this.formatedValue=Gp(this.value),this.orientation==="horizontal"?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}static{this.\u0275fac=function(i){return new(i||n)(H(_t))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},standalone:!1,features:[st],attrs:Iue,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(i,r){i&1&&(he(),w(0,"text",0),L(1),S()),i&2&&(Le("text-anchor",r.textAnchor)("transform",r.transform)("x",r.x)("y",r.y),R(),qe(" ",r.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0})}}return n})();var sde=(()=>{class n{constructor(t){this.platformId=t,this.type=ba.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new ce,this.activate=new ce,this.deactivate=new ce,this.dataLabelHeightChanged=new ce,this.barsForDataLabels=[],this.barOrientation=Un,this.isSSR=!1}ngOnInit(){zo(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.updateTooltipSettings();let t;this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);let i=Math.max(this.yScale.domain()[0],0),r={[gd.positive]:0,[gd.negative]:0},s=gd.positive,o;this.type===ba.Normalized&&(o=this.series.map(a=>a.value).reduce((a,l)=>a+l,0)),this.bars=this.series.map((a,l)=>{let c=a.value,u=this.getLabel(a),h=Gp(u),f=this.roundEdges;s=c>0?gd.positive:gd.negative;let p={value:c,label:u,roundEdges:f,data:a,width:t,formattedLabel:h,height:0,x:0,y:0};if(this.type===ba.Standard)p.height=Math.abs(this.yScale(c)-this.yScale(i)),p.x=this.xScale(u),c<0?p.y=this.yScale(0):p.y=this.yScale(c);else if(this.type===ba.Stacked){let y=r[s],v=y+c;r[s]+=c,p.height=this.yScale(y)-this.yScale(v),p.x=0,p.y=this.yScale(v),p.offset0=y,p.offset1=v}else if(this.type===ba.Normalized){let y=r[s],v=y+c;r[s]+=c,o>0?(y=y*100/o,v=v*100/o):(y=0,v=0),p.height=this.yScale(y)-this.yScale(v),p.x=0,p.y=this.yScale(v),p.offset0=y,p.offset1=v,c=(v-y).toFixed(2)+"%"}this.colors.scaleType===ft.Ordinal?p.color=this.colors.getColor(u):this.type===ba.Standard?(p.color=this.colors.getColor(c),p.gradientStops=this.colors.getLinearGradientStops(c)):(p.color=this.colors.getColor(p.offset1),p.gradientStops=this.colors.getLinearGradientStops(p.offset1,p.offset0));let g=h;return p.ariaLabel=h+" "+c.toLocaleString(),this.seriesName!==null&&this.seriesName!==void 0&&(g=`${this.seriesName} \u2022 ${h}`,p.data.series=this.seriesName,p.ariaLabel=this.seriesName+" "+p.ariaLabel),p.tooltipText=this.tooltipDisabled?void 0:`
        <span class="tooltip-label">${PU(g)}</span>
        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(c):c.toLocaleString()}</span>
      `,p}),this.updateDataLabels()}updateDataLabels(){if(this.type===ba.Stacked){this.barsForDataLabels=[];let t={};t.series=this.seriesName;let i=this.series.map(s=>s.value).reduce((s,o)=>o>0?s+o:s,0),r=this.series.map(s=>s.value).reduce((s,o)=>o<0?s+o:s,0);t.total=i+r,t.x=0,t.y=0,t.total>0?t.height=this.yScale(i):t.height=this.yScale(r),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{let i={};return i.series=this.seriesName??t.label,i.total=t.value,i.x=this.xScale(t.label),i.y=this.yScale(0),i.height=this.yScale(i.total)-this.yScale(0),i.width=this.xScale.bandwidth(),i})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:ze.Top,this.tooltipType=this.tooltipDisabled?void 0:rx.tooltip}isActive(t){return this.activeEntries?this.activeEntries.find(r=>t.name===r.name&&t.value===r.value)!==void 0:!1}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,i){return i.label}trackDataLabelBy(t,i){return t+"#"+i.series+"#"+i.total}static{this.\u0275fac=function(i){return new(i||n)(H(Qn))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},standalone:!1,features:[st],attrs:Due,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"select","activate","deactivate","width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"dimensionsChanged","barX","barY","barWidth","barHeight","value","valueFormatting","orientation"]],template:function(i,r){i&1&&Q(0,kue,2,2,"g",0)(1,Pue,2,2,"g",0)(2,Oue,2,2,"g",0),i&2&&($("ngIf",!r.isSSR),R(),$("ngIf",r.isSSR),R(),$("ngIf",r.showDataLabel))},dependencies:[lt,ct,VU,ide,rde],encapsulation:2,data:{animation:[JA("animationState",[t1(":leave",[ql({opacity:1}),e1(500,ql({opacity:0}))])])]},changeDetection:0})}}return n})(),jU=(()=>{class n extends OU{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Ta.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new ce,this.deactivate=new ce,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}ngOnChanges(){this.update()}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=BU({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();let t=this.xDomain.length/(this.dims.width/this.barPadding+1);return dd().range([0,this.dims.width]).paddingInner(t).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();let t=_a().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t}getXDomain(){return this.results.map(t=>t.label)}getYDomain(){let t=this.results.map(s=>s.value),i=this.yScaleMin?Math.min(this.yScaleMin,...t):Math.min(0,...t);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let r=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(r=Math.max(r,...this.yAxisTicks)),[i,r]}onClick(t){this.select.emit(t)}setColors(){let t;this.schemeType===ft.Ordinal?t=this.xDomain:t=this.yDomain,this.colors=new ix(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){let t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===ft.Ordinal?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxHeightChanged(t){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name),!(this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name);let r=this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})()}static{this.\u0275cmp=de({type:n,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(i,r,s){if(i&1&&Nh(s,DU,5),i&2){let o;Qr(o=Zr())&&(r.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},standalone:!1,features:[bn,st],decls:5,vars:25,consts:[[3,"legendLabelClick","legendLabelActivate","legendLabelDeactivate","view","showLegend","legendOptions","activeEntries","animations"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"activate","deactivate","select","dataLabelHeightChanged","xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero"],["ngx-charts-x-axis","",3,"dimensionsChanged","xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks"],["ngx-charts-y-axis","",3,"dimensionsChanged","yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks"]],template:function(i,r){i&1&&(w(0,"ngx-charts-chart",0),J("legendLabelClick",function(o){return r.onClick(o)})("legendLabelActivate",function(o){return r.onActivate(o,!0)})("legendLabelDeactivate",function(o){return r.onDeactivate(o,!0)}),he(),w(1,"g",1),Q(2,Lue,1,12,"g",2)(3,Nue,1,10,"g",3),w(4,"g",4),J("activate",function(o){return r.onActivate(o)})("deactivate",function(o){return r.onDeactivate(o)})("select",function(o){return r.onClick(o)})("dataLabelHeightChanged",function(o){return r.onDataLabelMaxHeightChanged(o)}),S()()()),i&2&&($("view",Fh(22,AU,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),R(),Le("transform",r.transform),R(),$("ngIf",r.xAxis),R(),$("ngIf",r.yAxis),R(),$("xScale",r.xScale)("yScale",r.yScale)("colors",r.colors)("series",r.results)("dims",r.dims)("gradient",r.gradient)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("showDataLabel",r.showDataLabel)("dataLabelFormatting",r.dataLabelFormatting)("activeEntries",r.activeEntries)("roundEdges",r.roundEdges)("animations",r.animations)("noBarWhenZero",r.noBarWhenZero))},dependencies:[ct,Zue,Jue,RU,sde],styles:[kU],encapsulation:2,changeDetection:0})}}return n})();var $U=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})();var ode=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})();var ade=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})();var lde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})();var HU=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})(),cde=(()=>{class n{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=z1}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if(zo(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);let r=Up().innerRadius(t).outerRadius(t).centroid(this.data),s=this.data.pos[1]/r[1];(this.data.pos[1]===0||r[1]===0)&&(s=1);let o=[s*r[0],s*r[1]];this.line=`M${r}L${o}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?Fr.Start:Fr.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}static{this.\u0275fac=function(i){return new(i||n)(H(Qn))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},standalone:!1,features:[st],attrs:Fue,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(i,r){i&1&&(w(0,"title"),L(1),S(),he(),w(2,"g")(3,"text",0),L(4),S()(),xe(5,"path",1)),i&2&&(R(),be(r.label),R(),hi("transform",r.styleTransform)("transition",r.textTransition),Le("transform",r.attrTransform),R(),hi("text-anchor",r.textAnchor())("shape-rendering","crispEdges"),Xi("animation",r.animations),R(),qe(" ",r.labelTrim?r.trimLabel(r.label,r.labelTrimSize):r.label," "),R(),Xi("animation",r.animations),Le("d",r.line)("stroke",r.color))},encapsulation:2,changeDetection:0})}}return n})();var f3e=2*Math.PI;var ude=(()=>{class n{constructor(t){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new ce,this.activate=new ce,this.deactivate=new ce,this.dblclick=new ce,this.barOrientation=Un,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+W1().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(t=this.outerRadius*this.value/this.max),Up().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){let t=Cp(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().attrTween("d",function(r){this._current=this._current||r;let s=Object.assign({},r);s.endAngle=s.startAngle;let o=Lr(s,s);return this._current=o(0),function(a){return i(o(a))}}).transition().duration(750).attrTween("d",function(r){this._current=this._current||r;let s=Lr(this._current,r);return this._current=s(0),function(o){return i(s(o))}})}updateAnimation(){let t=Cp(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().duration(750).attrTween("d",function(r){this._current=this._current||r;let s=Lr(this._current,r);return this._current=s(0),function(o){return i(s(o))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}static{this.\u0275fac=function(i){return new(i||n)(H(_t))}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[st],attrs:Vue,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(i,r){i&1&&(he(),w(0,"g",0),Q(1,Bue,2,3,"defs",1),w(2,"path",2),J("click",function(){return r.onClick()})("dblclick",function(o){return r.onDblClick(o)})("mouseenter",function(){return r.activate.emit(r.data)})("mouseleave",function(){return r.deactivate.emit(r.data)}),S()()),i&2&&(R(),$("ngIf",r.gradient),R(),hi("pointer-events",r.getPointerEvents()),Xi("active",r.isActive),Le("d",r.path)("fill",r.getGradient()))},dependencies:[ct,tde],encapsulation:2,changeDetection:0})}}return n})(),dde=(()=>{class n{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new ce,this.activate=new ce,this.deactivate=new ce,this.dblclick=new ce,this.placementTypes=ze,this.styleTypes=rx}ngOnChanges(t){this.update()}update(){let i=j1().value(r=>r.value).sort(null)(this.series);this.max=K0(i,r=>r.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return Up().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(t){let s=t;s.forEach(o=>{o.pos=this.outerArc().centroid(o),o.pos[0]=1.5*this.outerRadius*(this.midAngle(o)<Math.PI?1:-1)});for(let o=0;o<s.length-1;o++){let a=s[o];if(this.labelVisible(a))for(let l=o+1;l<s.length;l++){let c=s[l];if(this.labelVisible(c)&&c.pos[0]*a.pos[0]>0){let u=10-Math.abs(c.pos[1]-a.pos[1]);u>0&&(c.pos[1]+=Math.sign(c.pos[0])*u)}}}return s}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return Gp(t.data.name)}defaultTooltipText(t){let i=this.label(t),r=Gp(t.data.value);return`
      <span class="tooltip-label">${PU(i)}</span>
      <span class="tooltip-val">${r}</span>
    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,i){return i.data.name}onClick(t){this.select.emit(t)}isActive(t){return this.activeEntries?this.activeEntries.find(r=>t.name===r.name&&t.series===r.series)!==void 0:!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=de({type:n,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},standalone:!1,features:[st],attrs:jue,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(i,r){i&1&&Q(0,Hue,3,19,"g",0),i&2&&$("ngForOf",r.data)("ngForTrackBy",r.trackBy)},dependencies:[lt,ct,VU,cde,ude],encapsulation:2,changeDetection:0})}}return n})();var UU=(()=>{class n extends OU{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=Ta.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new ce,this.select=new ce,this.activate=new ce,this.deactivate=new ce}ngOnChanges(){this.update()}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=BU({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let t=this.margins[3]+this.dims.width/2,i=this.margins[0]+this.dims.height/2;this.translation=`translate(${t}, ${i})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((r,s)=>this.domain.indexOf(r.name)-this.domain.indexOf(s.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new ix(this.scheme,ft.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:ft.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name),!(this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(s=>i?s.label===t.name:s.name===t.name);let r=this.activeEntries.findIndex(s=>s.name===t.name&&s.value===t.value&&s.series===t.series);this.activeEntries.splice(r,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}static{this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ui(n)))(r||n)}})()}static{this.\u0275cmp=de({type:n,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(i,r,s){if(i&1&&Nh(s,DU,5),i&2){let o;Qr(o=Zr())&&(r.tooltipTemplate=o.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},standalone:!1,features:[bn,st],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(i,r){i&1&&(w(0,"ngx-charts-chart",0),J("legendLabelActivate",function(o){return r.onActivate(o,!0)})("legendLabelDeactivate",function(o){return r.onDeactivate(o,!0)})("legendLabelClick",function(o){return r.onClick(o)}),he(),w(1,"g",1)(2,"g",2),J("dblclick",function(o){return r.dblclick.emit(o)})("select",function(o){return r.onClick(o)})("activate",function(o){return r.onActivate(o)})("deactivate",function(o){return r.onDeactivate(o)}),S()()()),i&2&&($("view",Fh(21,AU,r.width,r.height))("showLegend",r.legend)("legendOptions",r.legendOptions)("activeEntries",r.activeEntries)("animations",r.animations),R(),Le("transform",r.translation),R(),$("colors",r.colors)("series",r.data)("showLabels",r.labels)("labelFormatting",r.labelFormatting)("trimLabels",r.trimLabels)("maxLabelLength",r.maxLabelLength)("activeEntries",r.activeEntries)("innerRadius",r.innerRadius)("outerRadius",r.outerRadius)("explodeSlices",r.explodeSlices)("gradient",r.gradient)("animations",r.animations)("tooltipDisabled",r.tooltipDisabled)("tooltipTemplate",r.tooltipTemplate)("tooltipText",r.tooltipText))},dependencies:[RU,dde],styles:[kU,Uue],encapsulation:2,changeDetection:0})}}return n})();var G1=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})(),hde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i,G1,HU]})}}return n})();var fde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})();var pde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})();var mde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i,G1,$U]})}}return n})();function gde(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var yde=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i]})}}return n})(),zU=(()=>{class n{constructor(){gde()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=He({type:n})}static{this.\u0275inj=$e({imports:[$i,nde,$U,ode,ade,lde,yde,HU,hde,fde,G1,pde,mde]})}}return n})();function Xp(n){return n+.5|0}var Ca=(n,e,t)=>Math.max(Math.min(n,t),e);function qp(n){return Ca(Xp(n*2.55),0,255)}function Sa(n){return Ca(Xp(n*255),0,255)}function uo(n){return Ca(Xp(n/2.55)/100,0,1)}function WU(n){return Ca(Xp(n*100),0,100)}var rr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Y1=[..."0123456789ABCDEF"],vde=n=>Y1[n&15],xde=n=>Y1[(n&240)>>4]+Y1[n&15],sx=n=>(n&240)>>4===(n&15),bde=n=>sx(n.r)&&sx(n.g)&&sx(n.b)&&sx(n.a);function wde(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&rr[n[1]]*17,g:255&rr[n[2]]*17,b:255&rr[n[3]]*17,a:e===5?rr[n[4]]*17:255}:(e===7||e===9)&&(t={r:rr[n[1]]<<4|rr[n[2]],g:rr[n[3]]<<4|rr[n[4]],b:rr[n[5]]<<4|rr[n[6]],a:e===9?rr[n[7]]<<4|rr[n[8]]:255})),t}var Tde=(n,e)=>n<255?e(n):"";function Cde(n){var e=bde(n)?vde:xde;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Tde(n.a,e):void 0}var Sde=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function XU(n,e,t){let i=e*Math.min(t,1-t),r=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Ede(n,e,t){let i=(r,s=(r+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function Ide(n,e,t){let i=XU(n,1,.5),r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)i[r]*=1-e-t,i[r]+=e;return i}function Dde(n,e,t,i,r){return n===r?(e-t)/i+(e<t?6:0):e===r?(t-n)/i+2:(n-e)/i+4}function X1(n){let t=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=(s+o)/2,l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Dde(t,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function K1(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Sa)}function Q1(n,e,t){return K1(XU,n,e,t)}function Ade(n,e,t){return K1(Ide,n,e,t)}function kde(n,e,t){return K1(Ede,n,e,t)}function KU(n){return(n%360+360)%360}function Mde(n){let e=Sde.exec(n),t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?qp(+e[5]):Sa(+e[5]));let r=KU(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Ade(r,s,o):e[1]==="hsv"?i=kde(r,s,o):i=Q1(r,s,o),{r:i[0],g:i[1],b:i[2],a:t}}function Pde(n,e){var t=X1(n);t[0]=KU(t[0]+e),t=Q1(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Rde(n){if(!n)return;let e=X1(n),t=e[0],i=WU(e[1]),r=WU(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${r}%, ${uo(n.a)})`:`hsl(${t}, ${i}%, ${r}%)`}var GU={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qU={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Ode(){let n={},e=Object.keys(qU),t=Object.keys(GU),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<t.length;r++)s=t[r],a=a.replace(s,GU[s]);s=parseInt(qU[o],16),n[a]=[s>>16&255,s>>8&255,s&255]}return n}var ox;function Lde(n){ox||(ox=Ode(),ox.transparent=[0,0,0,0]);let e=ox[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var Nde=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Fde(n){let e=Nde.exec(n),t=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];t=e[8]?qp(o):Ca(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?qp(i):Ca(i,0,255)),r=255&(e[4]?qp(r):Ca(r,0,255)),s=255&(e[6]?qp(s):Ca(s,0,255)),{r:i,g:r,b:s,a:t}}}function Vde(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${uo(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var q1=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,yd=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Bde(n,e,t){let i=yd(uo(n.r)),r=yd(uo(n.g)),s=yd(uo(n.b));return{r:Sa(q1(i+t*(yd(uo(e.r))-i))),g:Sa(q1(r+t*(yd(uo(e.g))-r))),b:Sa(q1(s+t*(yd(uo(e.b))-s))),a:n.a+t*(e.a-n.a)}}function ax(n,e,t){if(n){let i=X1(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Q1(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function QU(n,e){return n&&Object.assign(e||{},n)}function YU(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Sa(n[3]))):(e=QU(n,{r:0,g:0,b:0,a:1}),e.a=Sa(e.a)),e}function jde(n){return n.charAt(0)==="r"?Fde(n):Mde(n)}var Yp=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,i;t==="object"?i=YU(e):t==="string"&&(i=wde(e)||Lde(e)||jde(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=QU(this._rgb);return e&&(e.a=uo(e.a)),e}set rgb(e){this._rgb=YU(e)}rgbString(){return this._valid?Vde(this._rgb):void 0}hexString(){return this._valid?Cde(this._rgb):void 0}hslString(){return this._valid?Rde(this._rgb):void 0}mix(e,t){if(e){let i=this.rgb,r=e.rgb,s,o=t===s?.5:t,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=Bde(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=Sa(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=Xp(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ax(this._rgb,2,e),this}darken(e){return ax(this._rgb,2,-e),this}saturate(e){return ax(this._rgb,1,e),this}desaturate(e){return ax(this._rgb,1,-e),this}rotate(e){return Pde(this._rgb,e),this}};function Es(){}var lz=(()=>{let n=0;return()=>n++})();function Be(n){return n==null}function St(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function We(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Vt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function xi(n,e){return Vt(n)?n:e}function Ee(n,e){return typeof n>"u"?e:n}var cz=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,tk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function vt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function ht(n,e,t,i){let r,s,o;if(St(n))if(s=n.length,i)for(r=s-1;r>=0;r--)e.call(t,n[r],r);else for(r=0;r<s;r++)e.call(t,n[r],r);else if(We(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)e.call(t,n[o[r]],o[r])}function Zp(n,e){let t,i,r,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(r=n[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function hx(n){if(St(n))return n.map(hx);if(We(n)){let e=Object.create(null),t=Object.keys(n),i=t.length,r=0;for(;r<i;++r)e[t[r]]=hx(n[t[r]]);return e}return n}function uz(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function $de(n,e,t,i){if(!uz(n))return;let r=e[n],s=t[n];We(r)&&We(s)?vd(r,s,i):e[n]=hx(s)}function vd(n,e,t){let i=St(e)?e:[e],r=i.length;if(!We(n))return n;t=t||{};let s=t.merger||$de,o;for(let a=0;a<r;++a){if(o=i[a],!We(o))continue;let l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],n,o,t)}return n}function bd(n,e){return vd(n,e,{merger:Hde})}function Hde(n,e,t){if(!uz(n))return;let i=e[n],r=t[n];We(i)&&We(r)?bd(i,r):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=hx(r))}var ZU={"":n=>n,x:n=>n.x,y:n=>n.y};function Ude(n){let e=n.split("."),t=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function zde(n){let e=Ude(n);return t=>{for(let i of e){if(i==="")break;t=t&&t[i]}return t}}function po(n,e){return(ZU[e]||(ZU[e]=zde(e)))(n)}function gx(n){return n.charAt(0).toUpperCase()+n.slice(1)}var wd=n=>typeof n<"u",ho=n=>typeof n=="function",nk=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function dz(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Et=Math.PI,It=2*Et,Wde=It+Et,fx=Number.POSITIVE_INFINITY,Gde=Et/180,Yt=Et/2,rc=Et/4,JU=Et*2/3,fo=Math.log10,Vr=Math.sign;function Td(n,e,t){return Math.abs(n-e)<t}function ik(n){let e=Math.round(n);n=Td(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(fo(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function hz(n){let e=[],t=Math.sqrt(n),i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function qde(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ac(n){return!qde(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function fz(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function rk(n,e,t){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function sr(n){return n*(Et/180)}function yx(n){return n*(180/Et)}function sk(n){if(!Vt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function ok(n,e){let t=e.x-n.x,i=e.y-n.y,r=Math.sqrt(t*t+i*i),s=Math.atan2(i,t);return s<-.5*Et&&(s+=It),{angle:s,distance:r}}function px(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Yde(n,e){return(n-e+Wde)%It-Et}function vi(n){return(n%It+It)%It}function Cd(n,e,t,i){let r=vi(n),s=vi(e),o=vi(t),a=vi(s-r),l=vi(o-r),c=vi(r-s),u=vi(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function un(n,e,t){return Math.max(e,Math.min(t,n))}function pz(n){return un(n,-32768,32767)}function Is(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function _x(n,e,t){t=t||(o=>n[o]<e);let i=n.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,t(s)?r=s:i=s;return{lo:r,hi:i}}var Cs=(n,e,t,i)=>_x(n,t,i?r=>{let s=n[r][e];return s<t||s===t&&n[r+1][e]===t}:r=>n[r][e]<t),mz=(n,e,t)=>_x(n,t,i=>n[i][e]>=t);function gz(n,e,t){let i=0,r=n.length;for(;i<r&&n[i]<e;)i++;for(;r>i&&n[r-1]>t;)r--;return i>0||r<n.length?n.slice(i,r):n}var yz=["push","pop","shift","splice","unshift"];function _z(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),yz.forEach(t=>{let i="_onData"+gx(t),r=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function ak(n,e){let t=n._chartjs;if(!t)return;let i=t.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(yz.forEach(s=>{delete n[s]}),delete n._chartjs)}function lk(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var ck=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function uk(n,e){let t=[],i=!1;return function(...r){t=r,i||(i=!0,ck.call(window,()=>{i=!1,n.apply(e,t)}))}}function vz(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}var vx=n=>n==="start"?"left":n==="end"?"right":"center",An=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,xz=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function dk(n,e,t){let i=e.length,r=0,s=i;if(n._sorted){let{iScale:o,vScale:a,_parsed:l}=n,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:g}=o.getUserBounds();if(p){if(r=Math.min(Cs(l,u,h).lo,t?i:Cs(e,u,o.getPixelForValue(h)).lo),c){let y=l.slice(0,r+1).reverse().findIndex(v=>!Be(v[a.axis]));r-=Math.max(0,y)}r=un(r,0,i-1)}if(g){let y=Math.max(Cs(l,o.axis,f,!0).hi+1,t?0:Cs(e,u,o.getPixelForValue(f),!0).hi+1);if(c){let v=l.slice(y-1).findIndex(I=>!Be(I[a.axis]));y+=Math.max(0,v)}s=un(y,r,i)-r}else s=i-r}return{start:r,count:s}}function hk(n){let{xScale:e,yScale:t,_scaleRanges:i}=n,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,r),s}var lx=n=>n===0||n===1,ez=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*It/t)),tz=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*It/t)+1,_d={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Yt)+1,easeOutSine:n=>Math.sin(n*Yt),easeInOutSine:n=>-.5*(Math.cos(Et*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>lx(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>lx(n)?n:ez(n,.075,.3),easeOutElastic:n=>lx(n)?n:tz(n,.075,.3),easeInOutElastic(n){return lx(n)?n:n<.5?.5*ez(n*2,.1125,.45):.5+.5*tz(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-_d.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?_d.easeInBounce(n*2)*.5:_d.easeOutBounce(n*2-1)*.5+.5};function fk(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function pk(n){return fk(n)?n:new Yp(n)}function Z1(n){return fk(n)?n:new Yp(n).saturate(.5).darken(.1).hexString()}var Xde=["x","y","borderWidth","radius","tension"],Kde=["color","borderColor","backgroundColor"];function Qde(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Kde},numbers:{type:"number",properties:Xde}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Zde(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var nz=new Map;function Jde(n,e){e=e||{};let t=n+JSON.stringify(e),i=nz.get(t);return i||(i=new Intl.NumberFormat(n,e),nz.set(t,i)),i}function Sd(n,e,t){return Jde(e,t).format(n)}var bz={values(n){return St(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let i=this.chart.options.locale,r,s=n;if(t.length>1){let c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=ehe(n,t)}let o=fo(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Sd(n,i,l)},logarithmic(n,e,t){if(n===0)return"0";let i=t[e].significand||n/Math.pow(10,Math.floor(fo(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?bz.numeric.call(this,n,e,t):""}};function ehe(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Jp={formatters:bz};function the(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Ia=Object.create(null),xx=Object.create(null);function Kp(n,e){if(!e)return n;let t=e.split(".");for(let i=0,r=t.length;i<r;++i){let s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function J1(n,e,t){return typeof e=="string"?vd(Kp(n,e),t):vd(Kp(n,""),e)}var ek=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Z1(r.backgroundColor),this.hoverBorderColor=(i,r)=>Z1(r.borderColor),this.hoverColor=(i,r)=>Z1(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return J1(this,e,t)}get(e){return Kp(this,e)}describe(e,t){return J1(xx,e,t)}override(e,t){return J1(Ia,e,t)}route(e,t,i,r){let s=Kp(this,e),o=Kp(this,i),a="_"+t;Object.defineProperties(s,{[a]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){let l=this[a],c=o[r];return We(l)?Object.assign({},c,l):Ee(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}},xt=new ek({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Qde,Zde,the]);function nhe(n){return!n||Be(n.size)||Be(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Qp(n,e,t,i,r){let s=e[r];return s||(s=e[r]=n.measureText(r).width,t.push(r)),s>i&&(i=s),i}function wz(n,e,t,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0,a=t.length,l,c,u,h,f;for(l=0;l<a;l++)if(h=t[l],h!=null&&!St(h))o=Qp(n,r,s,o,h);else if(St(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!St(f)&&(o=Qp(n,r,s,o,f));n.restore();let p=s.length/2;if(p>t.length){for(l=0;l<p;l++)delete r[s[l]];s.splice(0,p)}return o}function Da(n,e,t){let i=n.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*i)/i+r}function mk(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function bx(n,e,t,i){gk(n,e,t,i,null)}function gk(n,e,t,i,r){let s,o,a,l,c,u,h,f,p=e.pointStyle,g=e.rotation,y=e.radius,v=(g||0)*Gde;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(v),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),p){default:r?n.ellipse(t,i,r/2,y,0,0,It):n.arc(t,i,y,0,It),n.closePath();break;case"triangle":u=r?r/2:y,n.moveTo(t+Math.sin(v)*u,i-Math.cos(v)*y),v+=JU,n.lineTo(t+Math.sin(v)*u,i-Math.cos(v)*y),v+=JU,n.lineTo(t+Math.sin(v)*u,i-Math.cos(v)*y),n.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(v+rc)*l,h=Math.cos(v+rc)*(r?r/2-c:l),a=Math.sin(v+rc)*l,f=Math.sin(v+rc)*(r?r/2-c:l),n.arc(t-h,i-a,c,v-Et,v-Yt),n.arc(t+f,i-o,c,v-Yt,v),n.arc(t+h,i+a,c,v,v+Yt),n.arc(t-f,i+o,c,v+Yt,v+Et),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,u=r?r/2:l,n.rect(t-u,i-l,2*u,2*l);break}v+=rc;case"rectRot":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),n.moveTo(t-h,i-a),n.lineTo(t+f,i-o),n.lineTo(t+h,i+a),n.lineTo(t-f,i+o),n.closePath();break;case"crossRot":v+=rc;case"cross":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"star":h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o),v+=rc,h=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(r?r/2:y),n.moveTo(t-h,i-a),n.lineTo(t+h,i+a),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"line":o=r?r/2:Math.cos(v)*y,a=Math.sin(v)*y,n.moveTo(t-o,i-a),n.lineTo(t+o,i+a);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(v)*(r?r/2:y),i+Math.sin(v)*y);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ss(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function em(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function tm(n){n.restore()}function Tz(n,e,t,i,r){if(!e)return n.lineTo(t.x,t.y);if(r==="middle"){let s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else r==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Cz(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function ihe(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Be(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function rhe(n,e,t,i,r){if(r.strikethrough||r.underline){let s=n.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=t-s.actualBoundingBoxAscent,c=t+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function she(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Aa(n,e,t,i,r,s={}){let o=St(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",l,c;for(n.save(),n.font=r.string,ihe(n,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&she(n,s.backdrop),a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Be(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,t,i,s.maxWidth)),n.fillText(c,t,i,s.maxWidth),rhe(n,t,i,c,s),i+=Number(r.lineHeight);n.restore()}function Ed(n,e){let{x:t,y:i,w:r,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*Et,Et,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Et,Yt,!0),n.lineTo(t+r-o.bottomRight,i+s),n.arc(t+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Yt,0,!0),n.lineTo(t+r,i+o.topRight),n.arc(t+r-o.topRight,i+o.topRight,o.topRight,0,-Yt,!0),n.lineTo(t+o.topLeft,i)}var ohe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ahe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function lhe(n,e){let t=(""+n).match(ohe);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var che=n=>+n||0;function wx(n,e){let t={},i=We(e),r=i?Object.keys(e):e,s=We(n)?i?o=>Ee(n[o],n[e[o]]):o=>n[o]:()=>n;for(let o of r)t[o]=che(s(o));return t}function yk(n){return wx(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ka(n){return wx(n,["topLeft","topRight","bottomLeft","bottomRight"])}function kn(n){let e=yk(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rn(n,e){n=n||{},e=e||xt.font;let t=Ee(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=Ee(n.style,e.style);i&&!(""+i).match(ahe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:Ee(n.family,e.family),lineHeight:lhe(Ee(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:Ee(n.weight,e.weight),string:""};return r.string=nhe(r),r}function Id(n,e,t,i){let r=!0,s,o,a;for(s=0,o=n.length;s<o;++s)if(a=n[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),t!==void 0&&St(a)&&(a=a[t%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function Sz(n,e,t){let{min:i,max:r}=n,s=tk(e,(r-i)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function mo(n,e){return Object.assign(Object.create(n),e)}function Tx(n,e=[""],t,i,r=()=>n[0]){let s=t||n;typeof i>"u"&&(i=Dz("_fallback",n));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Tx([a,...n],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return Ez(a,l,()=>yhe(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return rz(a).includes(l)},ownKeys(a){return rz(a)},set(a,l,c){let u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function oc(n,e,t,i){let r={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:_k(n,i),setContext:s=>oc(n,s,t,i),override:s=>oc(n.override(s),e,t,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete n[o],!0},get(s,o,a){return Ez(s,o,()=>dhe(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(s,o,a){return n[o]=a,delete s[o],!0}})}function _k(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=n;return{allKeys:r,scriptable:t,indexable:i,isScriptable:ho(t)?t:()=>t,isIndexable:ho(i)?i:()=>i}}var uhe=(n,e)=>n?n+gx(e):e,vk=(n,e)=>We(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ez(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let i=t();return n[e]=i,i}function dhe(n,e,t){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n,a=i[e];return ho(a)&&o.isScriptable(e)&&(a=hhe(e,a,n,t)),St(a)&&a.length&&(a=fhe(e,a,n,o.isIndexable)),vk(e,a)&&(a=oc(a,r,s&&s[e],o)),a}function hhe(n,e,t,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(s,o||i);return a.delete(n),vk(n,l)&&(l=xk(r._scopes,r,n,l)),l}function fhe(n,e,t,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(We(e[0])){let l=e,c=r._scopes.filter(u=>u!==l);e=[];for(let u of l){let h=xk(c,r,n,u);e.push(oc(h,s,o&&o[n],a))}}return e}function Iz(n,e,t){return ho(n)?n(e,t):n}var phe=(n,e)=>n===!0?e:typeof n=="string"?po(e,n):void 0;function mhe(n,e,t,i,r){for(let s of e){let o=phe(t,s);if(o){n.add(o);let a=Iz(o._fallback,t,r);if(typeof a<"u"&&a!==t&&a!==i)return a}else if(o===!1&&typeof i<"u"&&t!==i)return null}return!1}function xk(n,e,t,i){let r=e._rootScopes,s=Iz(e._fallback,t,i),o=[...n,...r],a=new Set;a.add(i);let l=iz(a,o,t,s||t,i);return l===null||typeof s<"u"&&s!==t&&(l=iz(a,o,s,l,i),l===null)?!1:Tx(Array.from(a),[""],r,s,()=>ghe(e,t,i))}function iz(n,e,t,i,r){for(;t;)t=mhe(n,e,t,i,r);return t}function ghe(n,e,t){let i=n._getTarget();e in i||(i[e]={});let r=i[e];return St(r)&&We(t)?t:r||{}}function yhe(n,e,t,i){let r;for(let s of e)if(r=Dz(uhe(s,n),t),typeof r<"u")return vk(n,r)?xk(t,i,n,r):r}function Dz(n,e){for(let t of e){if(!t)continue;let i=t[n];if(typeof i<"u")return i}}function rz(n){let e=n._keys;return e||(e=n._keys=_he(n._scopes)),e}function _he(n){let e=new Set;for(let t of n)for(let i of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function bk(n,e,t,i){let{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i),a,l,c,u;for(a=0,l=i;a<l;++a)c=a+t,u=e[c],o[a]={r:r.parse(po(u,s),c)};return o}var vhe=Number.EPSILON||1e-14,xd=(n,e)=>e<n.length&&!n[e].skip&&n[e],Az=n=>n==="x"?"y":"x";function xhe(n,e,t,i){let r=n.skip?e:n,s=e,o=t.skip?e:t,a=px(s,r),l=px(o,s),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let h=i*c,f=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function bhe(n,e,t){let i=n.length,r,s,o,a,l,c=xd(n,0);for(let u=0;u<i-1;++u)if(l=c,c=xd(n,u+1),!(!l||!c)){if(Td(e[u],0,vhe)){t[u]=t[u+1]=0;continue}r=t[u]/e[u],s=t[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=r*o*e[u],t[u+1]=s*o*e[u])}}function whe(n,e,t="x"){let i=Az(t),r=n.length,s,o,a,l=xd(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=xd(n,c+1),!a)continue;let u=a[t],h=a[i];o&&(s=(u-o[t])/3,a[`cp1${t}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[t]-u)/3,a[`cp2${t}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function The(n,e="x"){let t=Az(e),i=n.length,r=Array(i).fill(0),s=Array(i),o,a,l,c=xd(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=xd(n,o+1),!!l){if(c){let u=c[e]-l[e];r[o]=u!==0?(c[t]-l[t])/u:0}s[o]=a?c?Vr(r[o-1])!==Vr(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}bhe(n,r,s),whe(n,s,e)}function cx(n,e,t){return Math.max(Math.min(n,t),e)}function Che(n,e){let t,i,r,s,o,a=Ss(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=a,a=t<i-1&&Ss(n[t+1],e),s&&(r=n[t],o&&(r.cp1x=cx(r.cp1x,e.left,e.right),r.cp1y=cx(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=cx(r.cp2x,e.left,e.right),r.cp2y=cx(r.cp2y,e.top,e.bottom)))}function kz(n,e,t,i,r){let s,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")The(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=xhe(c,a,n[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Che(n,t)}function Cx(){return typeof window<"u"&&typeof document<"u"}function Sx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function mx(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}var Ex=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function She(n,e){return Ex(n).getPropertyValue(e)}var Ehe=["top","right","bottom","left"];function sc(n,e,t){let i={};t=t?"-"+t:"";for(let r=0;r<4;r++){let s=Ehe[r];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Ihe=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Dhe(n,e){let t=n.touches,i=t&&t.length?t[0]:n,{offsetX:r,offsetY:s}=i,o=!1,a,l;if(Ihe(r,s,n.target))a=r,l=s;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ma(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:i}=e,r=Ex(t),s=r.boxSizing==="border-box",o=sc(r,"padding"),a=sc(r,"border","width"),{x:l,y:c,box:u}=Dhe(n,t),h=o.left+(u&&a.left),f=o.top+(u&&a.top),{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*t.width/i),y:Math.round((c-f)/g*t.height/i)}}function Ahe(n,e,t){let i,r;if(e===void 0||t===void 0){let s=n&&Sx(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{let o=s.getBoundingClientRect(),a=Ex(s),l=sc(a,"border","width"),c=sc(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,i=mx(a.maxWidth,s,"clientWidth"),r=mx(a.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:i||fx,maxHeight:r||fx}}var ux=n=>Math.round(n*10)/10;function Mz(n,e,t,i){let r=Ex(n),s=sc(r,"margin"),o=mx(r.maxWidth,n,"clientWidth")||fx,a=mx(r.maxHeight,n,"clientHeight")||fx,l=Ahe(n,e,t),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let f=sc(r,"border","width"),p=sc(r,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=ux(Math.min(c,o,l.maxWidth)),u=ux(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ux(c/2)),(e!==void 0||t!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=ux(Math.floor(u*i))),{width:c,height:u}}function wk(n,e,t){let i=e||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}var Pz=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};Cx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Tk(n,e){let t=She(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ea(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Rz(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Oz(n,e,t,i){let r={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ea(n,r,t),a=Ea(r,s,t),l=Ea(s,e,t),c=Ea(o,a,t),u=Ea(a,l,t);return Ea(c,u,t)}var khe=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},Mhe=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function lc(n,e,t){return n?khe(e,t):Mhe()}function Ck(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Sk(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Lz(n){return n==="angle"?{between:Cd,compare:Yde,normalize:vi}:{between:Is,compare:(e,t)=>e-t,normalize:e=>e}}function sz({start:n,end:e,count:t,loop:i,style:r}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:r}}function Phe(n,e,t){let{property:i,start:r,end:s}=t,{between:o,normalize:a}=Lz(i),l=e.length,{start:c,end:u,loop:h}=n,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:n.style}}function Ek(n,e,t){if(!t)return[n];let{property:i,start:r,end:s}=t,o=e.length,{compare:a,between:l,normalize:c}=Lz(i),{start:u,end:h,loop:f,style:p}=Phe(n,e,t),g=[],y=!1,v=null,I,M,O,N=()=>l(r,O,I)&&a(r,O)!==0,F=()=>a(s,I)===0||l(s,O,I),B=()=>y||N(),D=()=>!y||F();for(let x=u,T=u;x<=h;++x)M=e[x%o],!M.skip&&(I=c(M[i]),I!==O&&(y=l(I,r,s),v===null&&B()&&(v=a(I,r)===0?x:T),v!==null&&D()&&(g.push(sz({start:v,end:x,loop:f,count:o,style:p})),v=null),T=x,O=I));return v!==null&&g.push(sz({start:v,end:h,loop:f,count:o,style:p})),g}function Ik(n,e){let t=[],i=n.segments;for(let r=0;r<i.length;r++){let s=Ek(i[r],n.points,e);s.length&&t.push(...s)}return t}function Rhe(n,e,t,i){let r=0,s=e-1;if(t&&!i)for(;r<e&&!n[r].skip;)r++;for(;r<e&&n[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&n[s%e].skip;)s--;return s%=e,{start:r,end:s}}function Ohe(n,e,t,i){let r=n.length,s=[],o=e,a=n[e],l;for(l=e+1;l<=t;++l){let c=n[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function Nz(n,e){let t=n.points,i=n.options.spanGaps,r=t.length;if(!r)return[];let s=!!n._loop,{start:o,end:a}=Rhe(t,r,s,i);if(i===!0)return oz(n,[{start:o,end:a,loop:s}],t,e);let l=a<o?a+r:a,c=!!n._fullLoop&&o===0&&a===r-1;return oz(n,Ohe(t,o,l,c),t,e)}function oz(n,e,t,i){return!i||!i.setContext||!t?e:Lhe(n,e,t,i)}function Lhe(n,e,t,i){let r=n._chart.getContext(),s=az(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[],u=s,h=e[0].start,f=h;function p(g,y,v,I){let M=a?-1:1;if(g!==y){for(g+=l;t[g%l].skip;)g-=M;for(;t[y%l].skip;)y+=M;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:v,style:I}),u=I,h=y%l)}}for(let g of e){h=a?h:g.start;let y=t[h%l],v;for(f=h+1;f<=g.end;f++){let I=t[f%l];v=az(i.setContext(mo(r,{type:"segment",p0:y,p1:I,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Nhe(v,u)&&p(h,f-1,g.loop,u),y=I,u=v}h<f-1&&p(h,f-1,g.loop,u)}return c}function az(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Nhe(n,e){if(!e)return!1;let t=[],i=function(r,s){return fk(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function dx(n,e,t){return n.options.clip?n[t]:e[t]}function Fhe(n,e){let{xScale:t,yScale:i}=n;return t&&i?{left:dx(t,e,"left"),right:dx(t,e,"right"),top:dx(i,e,"top"),bottom:dx(i,e,"bottom")}:e}function Dk(n,e){let t=e._clip;if(t.disabled)return!1;let i=Fhe(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}var Bk=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,r){let s=t.listeners[r],o=t.duration;s.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ck.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let i=t.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},go=new Bk,Fz="transparent",Vhe={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let i=pk(n||Fz),r=i.valid&&pk(e||Fz);return r&&r.valid?r.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}},jk=class{constructor(e,t,i,r){let s=t[i];r=Id([e.to,r,s,e.from]);let o=Id([e.from,s,r]);this._active=!0,this._fn=e.fn||Vhe[e.type||typeof o],this._easing=_d[e.easing]||_d.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Id([e.to,t,r,e.from]),this._from=Id([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,l;if(this._active=s!==a&&(o||t<i),!this._active){this._target[r]=a,this._notify(!0);return}if(t<0){this._target[r]=s;return}l=t/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){let t=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][t]()}},Lx=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!We(e))return;let t=Object.keys(xt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!We(s))return;let o={};for(let a of t)o[a]=s[a];(St(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,t){let i=t.options,r=jhe(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&Bhe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,t));continue}let u=t[c],h=s[c],f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=h=new jk(f,e,c,u),r.push(h)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let i=this._createAnimations(e,t);if(i.length)return go.add(this._chart,i),!0}};function Bhe(n,e){let t=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=n[i[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function jhe(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Vz(n,e){let t=n&&n.options||{},i=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function $he(n,e,t){if(t===!1)return!1;let i=Vz(n,t),r=Vz(e,t);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Hhe(n){let e,t,i,r;return We(n)?(e=n.top,t=n.right,i=n.bottom,r=n.left):e=t=i=r=n,{top:e,right:t,bottom:i,left:r,disabled:n===!1}}function F5(n,e){let t=[],i=n._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)t.push(i[r].index);return t}function Bz(n,e,t,i={}){let r=n.keys,s=i.mode==="single",o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===t){if(u=!0,i.all)continue;break}c=n.values[l],Vt(c)&&(s||e===0||Vr(e)===Vr(c))&&(e+=c)}return!u&&!i.all?0:e}function Uhe(n,e){let{iScale:t,vScale:i}=e,r=t.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length),l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:n[u]};return a}function Ak(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function zhe(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Whe(n){let{min:e,max:t,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function Ghe(n,e,t){let i=n[e]||(n[e]={});return i[t]||(i[t]={})}function jz(n,e,t,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=n[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function $z(n,e){let{chart:t,_cachedMeta:i}=n,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=zhe(s,o,i),h=e.length,f;for(let p=0;p<h;++p){let g=e[p],{[l]:y,[c]:v}=g,I=g._stacks||(g._stacks={});f=I[c]=Ghe(r,u,y),f[a]=v,f._top=jz(f,o,!0,i.type),f._bottom=jz(f,o,!1,i.type);let M=f._visualValues||(f._visualValues={});M[a]=v}}function kk(n,e){let t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function qhe(n,e){return mo(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yhe(n,e,t){return mo(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function nm(n,e){let t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][t]===void 0)return;delete s[i][t],s[i]._visualValues!==void 0&&s[i]._visualValues[t]!==void 0&&delete s[i]._visualValues[t]}}}var Mk=n=>n==="reset"||n==="none",Hz=(n,e)=>e?n:Object.assign({},n),Xhe=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:F5(t,!0),values:null},Ra=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Ak(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&nm(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(f,p,g,y)=>f==="x"?p:f==="r"?y:g,o=i.xAxisID=Ee(r.xAxisID,kk(t,"x")),a=i.yAxisID=Ee(r.yAxisID,kk(t,"y")),l=i.rAxisID=Ee(r.rAxisID,kk(t,"r")),c=i.indexAxis,u=i.iAxisID=s(c,o,a,l),h=i.vAxisID=s(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&ak(this._data,this),t._stacked&&nm(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),r=this._data;if(We(i)){let s=this._cachedMeta;this._data=Uhe(i,s)}else if(r!==i){if(r){ak(r,this);let s=this._cachedMeta;nm(s),s._parsed=[]}i&&Object.isExtensible(i)&&_z(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=Ak(i.vScale,i),i.stack!==r.stack&&(s=!0,nm(i),i.stack=r.stack),this._resyncElements(t),(s||o!==i._stacked)&&($z(this,i._parsed),i._stacked=Ak(i.vScale,i))}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis,c=t===0&&i===s.length?!0:r._sorted,u=t>0&&r._parsed[t-1],h,f,p;if(this._parsing===!1)r._parsed=s,r._sorted=!0,p=s;else{St(s[t])?p=this.parseArrayData(r,s,t,i):We(s[t])?p=this.parseObjectData(r,s,t,i):p=this.parsePrimitiveData(r,s,t,i);let g=()=>f[l]===null||u&&f[l]<u[l];for(h=0;h<i;++h)r._parsed[h+t]=f=p[h],c&&(g()&&(c=!1),u=f);r._sorted=c}a&&$z(this,p)}parsePrimitiveData(t,i,r,s){let{iScale:o,vScale:a}=t,l=o.axis,c=a.axis,u=o.getLabels(),h=o===a,f=new Array(s),p,g,y;for(p=0,g=s;p<g;++p)y=p+r,f[p]={[l]:h||o.parse(u[y],y),[c]:a.parse(i[y],y)};return f}parseArrayData(t,i,r,s){let{xScale:o,yScale:a}=t,l=new Array(s),c,u,h,f;for(c=0,u=s;c<u;++c)h=c+r,f=i[h],l[c]={x:o.parse(f[0],h),y:a.parse(f[1],h)};return l}parseObjectData(t,i,r,s){let{xScale:o,yScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s),h,f,p,g;for(h=0,f=s;h<f;++h)p=h+r,g=i[p],u[h]={x:o.parse(po(g,l),p),y:a.parse(po(g,c),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,r){let s=this.chart,o=this._cachedMeta,a=i[t.axis],l={keys:F5(s,!0),values:i._stacks[t.axis]._visualValues};return Bz(l,a,o.index,{mode:r})}updateRangeFromParsed(t,i,r,s){let o=r[i.axis],a=o===null?NaN:o,l=s&&r._stacks[i.axis];s&&l&&(s.values=l,a=Bz(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&t===r.iScale,a=s.length,l=this._getOtherScale(t),c=Xhe(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=Whe(l),p,g;function y(){g=s[p];let v=g[l.axis];return!Vt(g[t.axis])||h>v||f<v}for(p=0;p<a&&!(!y()&&(this.updateRangeFromParsed(u,t,g,c),o));++p);if(o){for(p=a-1;p>=0;--p)if(!y()){this.updateRangeFromParsed(u,t,g,c);break}}return u}getAllParsedValues(t){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][t.axis],Vt(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=Hhe(Ee(this.options.clip,$he(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop,h;for(r.dataset&&r.dataset.draw(t,o,l,c),h=l;h<l+c;++h){let f=s[h];f.hidden||(f.active&&u?a.push(f):f.draw(t,o))}for(h=0;h<a.length;++h)a[h].draw(t,o)}getStyle(t,i){let r=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,i,r){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];o=a.$context||(a.$context=Yhe(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=qhe(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=t+"-"+i,l=o[a],c=this.enableOptionSharing&&wd(r);if(l)return Hz(l,c);let u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),f=s?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),h),g=Object.keys(xt.elements[t]),y=()=>this.getContext(r,s,i),v=u.resolveNamedOptions(p,g,y,f);return v.$shared&&(v.$shared=c,o[a]=Object.freeze(Hz(v,c))),v}_resolveAnimations(t,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,i),p=h.getOptionScopes(this.getDataset(),f);c=h.createResolver(p,this.getContext(t,r,i))}let u=new Lx(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Mk(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let r=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(t,i,r,s){Mk(s)?Object.assign(t,r):this._resolveAnimations(i,s).update(t,r)}updateSharedOptions(t,i,r){t&&!Mk(i)&&this._resolveAnimations(void 0,i).update(t,r)}_setStyle(t,i,r,s){t.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,i,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,r=!0){let s=this._cachedMeta,o=s.data,a=t+i,l,c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(o),l=t;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(t,i),r&&this.updateElements(o,t,i,"reset")}updateElements(t,i,r,s){}_removeElements(t,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(t,i);r._stacked&&nm(r,s)}r.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,r,s]=t;this[i](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function Khe(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),i=[];for(let r=0,s=t.length;r<s;r++)i=i.concat(t[r].controller.getAllParsedValues(n));n._cache.$bar=lk(i.sort((r,s)=>r-s))}return n._cache.$bar}function Qhe(n){let e=n.iScale,t=Khe(e,n.type),i=e._length,r,s,o,a,l=()=>{o===32767||o===-32768||(wd(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function Zhe(n,e,t,i){let r=t.barThickness,s,o;return Be(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}function Jhe(n,e,t,i){let r=e.pixels,s=r[n],o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null,l=t.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:t.barPercentage,start:c}}function efe(n,e,t,i){let r=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s),l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function V5(n,e,t,i){return St(n)?efe(n,e,t,i):e[t.axis]=t.parse(n,i),e}function Uz(n,e,t,i){let r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[],c,u,h,f;for(c=t,u=t+i;c<u;++c)f=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(V5(f,h,s,c));return l}function Pk(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function tfe(n,e,t){return n!==0?Vr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function nfe(n){let e,t,i,r,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:i,reverse:e,top:r,bottom:s}}function ife(n,e,t,i){let r=e.borderSkipped,s={};if(!r){n.borderSkipped=s;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:l,top:c,bottom:u}=nfe(n);r==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?r=c:(t._bottom||0)===i?r=u:(s[zz(u,o,a,l)]=!0,r=c)),s[zz(r,o,a,l)]=!0,n.borderSkipped=s}function zz(n,e,t,i){return i?(n=rfe(n,e,t),n=Wz(n,t,e)):n=Wz(n,e,t),n}function rfe(n,e,t){return n===e?t:n===t?e:n}function Wz(n,e,t){return n==="start"?e:n==="end"?t:n}function sfe(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var ofe=(()=>{class n extends Ra{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,r,s){return Uz(t,i,r,s)}parseArrayData(t,i,r,s){return Uz(t,i,r,s)}parseObjectData(t,i,r,s){let{iScale:o,vScale:a}=t,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=o.axis==="x"?l:c,h=a.axis==="x"?l:c,f=[],p,g,y,v;for(p=r,g=r+s;p<g;++p)v=i[p],y={},y[o.axis]=o.parse(po(v,u),p),f.push(V5(po(v,h),y,a,p));return f}updateRangeFromParsed(t,i,r,s){super.updateRangeFromParsed(t,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(t),a=o._custom,l=Pk(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(i,s);for(let g=i;g<i+r;g++){let y=this.getParsed(g),v=o||Be(y[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),I=this._calculateBarIndexPixels(g,h),M=(y._stacks||{})[l.axis],O={horizontal:u,base:v.base,enableBorderRadius:!M||Pk(y._custom)||a===M._top||a===M._bottom,x:u?v.head:I.center,y:u?I.center:v.head,height:u?I.size:Math.abs(v.size),width:u?Math.abs(v.size):I.size};p&&(O.options=f||this.resolveDataElementOptions(g,t[g].active?"active":s));let N=O.options||t[g].options;ife(O,N,M,a),sfe(O,N,h.ratio),this.updateElement(t[g],g,O,s)}}_getStacks(t,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),o=r.options.stacked,a=[],l=this._cachedMeta.controller.getParsed(i),c=l&&l[r.axis],u=h=>{let f=h._parsed.find(g=>g[r.axis]===c),p=f&&f[h.vScale.axis];if(Be(p)||isNaN(p))return!0};for(let h of s)if(!(i!==void 0&&u(h))&&((o===!1||a.indexOf(h.stack)===-1||o===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,r){let s=this._getStacks(t,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let l=t.barThickness;return{min:l||Qhe(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(t),u=c._custom,h=Pk(u),f=c[i.axis],p=0,g=r?this.applyStack(i,c,r):f,y,v;g!==f&&(p=g-f,g=f),h&&(f=u.barStart,g=u.barEnd-u.barStart,f!==0&&Vr(f)!==Vr(u.barEnd)&&(p=0),p+=f);let I=!Be(o)&&!h?o:p,M=i.getPixelForValue(I);if(this.chart.getDataVisibility(t)?y=i.getPixelForValue(p+g):y=M,v=y-M,Math.abs(v)<a){v=tfe(v,i,l)*a,f===l&&(M-=v/2);let O=i.getPixelForDecimal(0),N=i.getPixelForDecimal(1),F=Math.min(O,N),B=Math.max(O,N);M=Math.max(Math.min(M,B),F),y=M+v,r&&!h&&(c._stacks[i.axis]._visualValues[s]=i.getValueForPixel(y)-i.getValueForPixel(M))}if(M===i.getPixelForValue(l)){let O=Vr(v)*i.getLineWidthForValue(l)/2;M+=O,v-=O}return{size:v,base:M,head:y,center:y+v/2}}_calculateBarIndexPixels(t,i){let r=i.scale,s=this.options,o=s.skipNull,a=Ee(s.maxBarThickness,1/0),l,c;if(i.grouped){let u=o?this._getStackCount(t):i.stackCount,h=s.barThickness==="flex"?Jhe(t,i,s,u):Zhe(t,i,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=h.start+h.chunk*f+h.chunk/2,c=Math.min(a,h.chunk*h.ratio)}else l=r.getPixelForValue(this.getParsed(t)[r.axis],t),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let t=this._cachedMeta,i=t.vScale,r=t.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}return n})(),afe=(()=>{class n extends Ra{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,r,s){let o=super.parsePrimitiveData(t,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(t,i,r,s){let o=super.parseArrayData(t,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=Ee(l[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(t,i,r,s){let o=super.parseObjectData(t,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=Ee(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let r=t.length-1;r>=0;--r)i=Math.max(i,t[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),u=a._custom;return{label:r[t]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,s),h=a.axis,f=l.axis;for(let p=i;p<i+r;p++){let g=t[p],y=!o&&this.getParsed(p),v={},I=v[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(y[h]),M=v[f]=o?l.getBasePixel():l.getPixelForValue(y[f]);v.skip=isNaN(I)||isNaN(M),u&&(v.options=c||this.resolveDataElementOptions(p,g.active?"active":s),o&&(v.options.radius=0)),this.updateElement(g,p,v,s)}}resolveDataElementOptions(t,i){let r=this.getParsed(t),s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=Ee(r&&r._custom,o),s}}return n})();function lfe(n,e,t){let i=1,r=1,s=0,o=0;if(e<It){let a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(O,N,F)=>Cd(O,a,l,!0)?1:Math.max(N,N*t,F,F*t),g=(O,N,F)=>Cd(O,a,l,!0)?-1:Math.min(N,N*t,F,F*t),y=p(0,c,h),v=p(Yt,u,f),I=g(Et,c,h),M=g(Et+Yt,u,f);i=(y-I)/2,r=(v-M)/2,s=-(y+I)/2,o=-(v+M)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var oM=(()=>{class n extends Ra{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return i.labels.map((o,a)=>{let c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=c=>+r[c];if(We(r[t])){let{key:c="value"}=this._parsing;o=u=>+po(r[u],c)}let a,l;for(a=t,l=t+i;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return sr(this.options.rotation-90)}_getCircumference(){return sr(this.options.circumference)}_getRotationExtents(){let t=It,i=-It;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+a)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(cz(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:g,offsetX:y,offsetY:v}=lfe(f,h,c),I=(r.width-a)/p,M=(r.height-a)/g,O=Math.max(Math.min(I,M)/2,0),N=tk(this.options.radius,O),F=Math.max(N*c,0),B=(N-F)/this._getVisibleDatasetWeightTotal();this.offsetX=y*N,this.offsetY=v*N,s.total=this.calculateTotal(),this.outerRadius=N-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*u,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/It)}updateElements(t,i,r,s){let o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,h=(l.left+l.right)/2,f=(l.top+l.bottom)/2,p=o&&u.animateScale,g=p?0:this.innerRadius,y=p?0:this.outerRadius,{sharedOptions:v,includeOptions:I}=this._getSharedOptions(i,s),M=this._getRotation(),O;for(O=0;O<i;++O)M+=this._circumference(O,o);for(O=i;O<i+r;++O){let N=this._circumference(O,o),F=t[O],B={x:h+this.offsetX,y:f+this.offsetY,startAngle:M,endAngle:M+N,circumference:N,outerRadius:y,innerRadius:g};I&&(B.options=v||this.resolveDataElementOptions(O,F.active?"active":s)),M+=N,this.updateElement(F,O,B,s)}}calculateTotal(){let t=this._cachedMeta,i=t.data,r=0,s;for(s=0;s<i.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?It*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Sd(i._parsed[t],r.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0,r=this.chart,s,o,a,l,c;if(!t){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),t=a.data,l=a.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let r=0,s=t.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(t){return Math.max(Ee(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),cfe=(()=>{class n extends Ra{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:l,count:c}=dk(i,s,a);this._drawStart=l,this._drawCount=c,hk(i)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},t),this.updateElements(s,l,c,t)}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,s),p=a.axis,g=l.axis,{spanGaps:y,segment:v}=this.options,I=ac(y)?y:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||s==="none",O=i+r,N=t.length,F=i>0&&this.getParsed(i-1);for(let B=0;B<N;++B){let D=t[B],x=M?D:{};if(B<i||B>=O){x.skip=!0;continue}let T=this.getParsed(B),k=Be(T[g]),A=x[p]=a.getPixelForValue(T[p],B),P=x[g]=o||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[g],B);x.skip=isNaN(A)||isNaN(P)||k,x.stop=B>0&&Math.abs(T[p]-F[p])>I,v&&(x.parsed=T,x.raw=u.data[B]),f&&(x.options=h||this.resolveDataElementOptions(B,D.active?"active":s)),M||this.updateElement(D,B,x,s),F=T}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,r=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),B5=(()=>{class n extends Ra{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let i=t.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=t.legend.options;return i.labels.map((o,a)=>{let c=t.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=Sd(i._parsed[t].r,r.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,r,s){return bk.bind(this)(t,i,r,s)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,r=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),l=(o-a)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,i,r,s){let o=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*Et,g=p,y,v=360/this.countVisibleElements();for(y=0;y<i;++y)g+=this._computeAngle(y,s,v);for(y=i;y<i+r;y++){let I=t[y],M=g,O=g+this._computeAngle(y,s,v),N=a.getDataVisibility(y)?u.getDistanceFromCenterForValue(this.getParsed(y).r):0;g=O,o&&(c.animateScale&&(N=0),c.animateRotate&&(M=O=p));let F={x:h,y:f,innerRadius:0,outerRadius:N,startAngle:M,endAngle:O,options:this.resolveDataElementOptions(y,I.active?"active":s)};this.updateElement(I,y,F,s)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,r){return this.chart.getDataVisibility(t)?sr(this.resolveDataElementOptions(t,i).angle||r):0}}return n})(),ufe=(()=>{class n extends oM{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),dfe=(()=>{class n extends Ra{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let i=this._cachedMeta.vScale,r=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(t,i,r,s){return bk.bind(this)(t,i,r,s)}update(t){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,l,t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let l=i;l<i+r;l++){let c=t[l],u=this.resolveDataElementOptions(l,c.active?"active":s),h=o.getPointPositionForValue(l,this.getParsed(l).r),f=a?o.xCenter:h.x,p=a?o.yCenter:h.y,g={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(c,l,g,s)}}}return n})(),hfe=(()=>{class n extends Ra{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(t),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:r[t]||"",value:"("+l+", "+c+")"}}update(t){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=dk(i,r,s);if(this._drawStart=o,this._drawCount=a,hk(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},t)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),f=this.getSharedOptions(h),p=this.includeOptions(s,f),g=a.axis,y=l.axis,{spanGaps:v,segment:I}=this.options,M=ac(v)?v:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||s==="none",N=i>0&&this.getParsed(i-1);for(let F=i;F<i+r;++F){let B=t[F],D=this.getParsed(F),x=O?B:{},T=Be(D[y]),k=x[g]=a.getPixelForValue(D[g],F),A=x[y]=o||T?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,D,c):D[y],F);x.skip=isNaN(k)||isNaN(A)||T,x.stop=F>0&&Math.abs(D[g]-N[g])>M,I&&(x.parsed=D,x.raw=u.data[F]),p&&(x.options=f||this.resolveDataElementOptions(F,B.active?"active":s)),O||this.updateElement(B,F,x,s),N=D}this.updateSharedOptions(f,s,h)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=t.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return n})(),ffe=Object.freeze({__proto__:null,BarController:ofe,BubbleController:afe,DoughnutController:oM,LineController:cfe,PieController:ufe,PolarAreaController:B5,RadarController:dfe,ScatterController:hfe});function cc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var $k=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return cc()}parse(){return cc()}format(){return cc()}add(){return cc()}diff(){return cc()}startOf(){return cc()}endOf(){return cc()}},pfe={_date:$k};function mfe(n,e,t,i){let{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let c=a._reversePixels?mz:Cs;if(i){if(r._sharedOptions){let u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){let f=c(s,e,t-h),p=c(s,e,t+h);return{lo:f.lo,hi:p.hi}}}}else{let u=c(s,e,t);if(l){let{vScale:h}=r._cachedMeta,{_parsed:f}=n,p=f.slice(0,u.lo+1).reverse().findIndex(y=>!Be(y[h.axis]));u.lo-=Math.max(0,p);let g=f.slice(u.hi).findIndex(y=>!Be(y[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:s.length-1}}function hm(n,e,t,i,r){let s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=s.length;a<l;++a){let{index:c,data:u}=s[a],{lo:h,hi:f}=mfe(s[a],e,o,r);for(let p=h;p<=f;++p){let g=u[p];g.skip||i(g,c,p)}}}function gfe(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=t?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Rk(n,e,t,i,r){let s=[];return!r&&!n.isPointInArea(e)||hm(n,t,e,function(a,l,c){!r&&!Ss(a,n.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function yfe(n,e,t,i){let r=[];function s(o,a,l){let{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=ok(o,{x:e.x,y:e.y});Cd(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return hm(n,t,e,s),r}function _fe(n,e,t,i,r,s){let o=[],a=gfe(t),l=Number.POSITIVE_INFINITY;function c(u,h,f){let p=u.inRange(e.x,e.y,r);if(i&&!p)return;let g=u.getCenterPoint(r);if(!(!!s||n.isPointInArea(g))&&!p)return;let v=a(e,g);v<l?(o=[{element:u,datasetIndex:h,index:f}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:f})}return hm(n,t,e,c),o}function Ok(n,e,t,i,r,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!i?yfe(n,e,t,r):_fe(n,e,t,i,r,s)}function Gz(n,e,t,i,r){let s=[],o=t==="x"?"inXRange":"inYRange",a=!1;return hm(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var vfe={evaluateInteractionItems:hm,modes:{index(n,e,t,i){let r=Ma(e,n),s=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?Rk(n,r,s,i,o):Ok(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,i){let r=Ma(e,n),s=t.axis||"xy",o=t.includeInvisible||!1,a=t.intersect?Rk(n,r,s,i,o):Ok(n,r,s,!1,i,o);if(a.length>0){let l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,i){let r=Ma(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Rk(n,r,s,i,o)},nearest(n,e,t,i){let r=Ma(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;return Ok(n,r,s,t.intersect,i,o)},x(n,e,t,i){let r=Ma(e,n);return Gz(n,r,"x",t.intersect,i)},y(n,e,t,i){let r=Ma(e,n);return Gz(n,r,"y",t.intersect,i)}}},j5=["left","top","right","bottom"];function im(n,e){return n.filter(t=>t.pos===e)}function qz(n,e){return n.filter(t=>j5.indexOf(t.pos)===-1&&t.box.axis===e)}function rm(n,e){return n.sort((t,i)=>{let r=e?i:t,s=e?t:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function xfe(n){let e=[],t,i,r,s,o,a;for(t=0,i=(n||[]).length;t<i;++t)r=n[t],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function bfe(n){let e={};for(let t of n){let{stack:i,pos:r,stackWeight:s}=t;if(!i||!j5.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function wfe(n,e){let t=bfe(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];let{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return t}function Tfe(n){let e=xfe(n),t=rm(e.filter(c=>c.box.fullSize),!0),i=rm(im(e,"left"),!0),r=rm(im(e,"right")),s=rm(im(e,"top"),!0),o=rm(im(e,"bottom")),a=qz(e,"x"),l=qz(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:im(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function Yz(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function $5(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Cfe(n,e,t,i){let{pos:r,box:s}=t,o=n.maxPadding;if(!We(r)){t.size&&(n[r]-=t.size);let h=i[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?s.height:s.width),t.size=h.size/h.count,n[r]+=t.size}s.getPadding&&$5(o,s.getPadding());let a=Math.max(0,e.outerWidth-Yz(o,n,"left","right")),l=Math.max(0,e.outerHeight-Yz(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function Sfe(n){let e=n.maxPadding;function t(i){let r=Math.max(e[i]-n[i],0);return n[i]+=r,r}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Efe(n,e){let t=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return i(n?["left","right"]:["top","bottom"])}function am(n,e,t,i){let r=[],s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Efe(a.horizontal,e));let{same:h,other:f}=Cfe(e,t,a,i);c|=h&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&am(r,e,t,i)||u}function Ix(n,e,t,i,r){n.top=t,n.left=e,n.right=e+i,n.bottom=t+r,n.width=i,n.height=r}function Xz(n,e,t,i){let r=t.padding,{x:s,y:o}=e;for(let a of n){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let h=e.w*u,f=c.size||l.height;wd(c.start)&&(o=c.start),l.fullSize?Ix(l,r.left,o,t.outerWidth-r.right-r.left,f):Ix(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{let h=e.h*u,f=c.size||l.width;wd(c.start)&&(s=c.start),l.fullSize?Ix(l,s,r.top,f,t.outerHeight-r.bottom-r.top):Ix(l,s,e.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var zn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;let r=kn(n.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),a=Tfe(n.boxes),l=a.vertical,c=a.horizontal;ht(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});let u=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);$5(f,kn(i));let p=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),g=wfe(l.concat(c),h);am(a.fullSize,p,h,g),am(l,p,h,g),am(c,p,h,g)&&am(l,p,h,g),Sfe(p),Xz(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,Xz(a.rightAndBottom,p,h,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ht(a.chartArea,y=>{let v=y.box;Object.assign(v,n.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},Nx=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,r){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):i)}}isAttached(e){return!0}updateConfig(e){}},Hk=class extends Nx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Rx="$chartjs",Ife={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kz=n=>n===null||n==="";function Dfe(n,e){let t=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Rx]={initial:{height:i,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Kz(r)){let s=Tk(n,"width");s!==void 0&&(n.width=s)}if(Kz(i))if(n.style.height==="")n.height=n.width/(e||2);else{let s=Tk(n,"height");s!==void 0&&(n.height=s)}return n}var H5=Pz?{passive:!0}:!1;function Afe(n,e,t){n&&n.addEventListener(e,t,H5)}function kfe(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,H5)}function Mfe(n,e){let t=Ife[n.type]||n.type,{x:i,y:r}=Ma(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Fx(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function Pfe(n,e,t){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Fx(a.addedNodes,i),o=o&&!Fx(a.removedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function Rfe(n,e,t){let i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Fx(a.removedNodes,i),o=o&&!Fx(a.addedNodes,i);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}var cm=new Map,Qz=0;function U5(){let n=window.devicePixelRatio;n!==Qz&&(Qz=n,cm.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ofe(n,e){cm.size||window.addEventListener("resize",U5),cm.set(n,e)}function Lfe(n){cm.delete(n),cm.size||window.removeEventListener("resize",U5)}function Nfe(n,e,t){let i=n.canvas,r=i&&Sx(i);if(!r)return;let s=uk((a,l)=>{let c=r.clientWidth;t(a,l),c<r.clientWidth&&t()},window),o=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),Ofe(n,s),o}function Lk(n,e,t){t&&t.disconnect(),e==="resize"&&Lfe(n)}function Ffe(n,e,t){let i=n.canvas,r=uk(s=>{n.ctx!==null&&t(Mfe(s,n))},n);return Afe(i,e,r),r}var Uk=class extends Nx{acquireContext(e,t){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(Dfe(e,t),i):null}releaseContext(e){let t=e.canvas;if(!t[Rx])return!1;let i=t[Rx].initial;["height","width"].forEach(s=>{let o=i[s];Be(o)?t.removeAttribute(s):t.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Rx],!0}addEventListener(e,t,i){this.removeEventListener(e,t);let r=e.$proxies||(e.$proxies={}),o={attach:Pfe,detach:Rfe,resize:Nfe}[t]||Ffe;r[t]=o(e,t,i)}removeEventListener(e,t){let i=e.$proxies||(e.$proxies={}),r=i[t];if(!r)return;({attach:Lk,detach:Lk,resize:Lk}[t]||kfe)(e,t,r),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,r){return Mz(e,t,i,r)}isAttached(e){let t=e&&Sx(e);return!!(t&&t.isConnected)}};function Vfe(n){return!Cx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Hk:Uk}var Br=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return ac(this.x)&&ac(this.y)}getProps(e,t){let i=this.$animations;if(!t||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function Bfe(n,e){let t=n.options.ticks,i=jfe(n),r=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?Hfe(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return Ufe(e,c,s,o/r),c;let u=$fe(s,e,r);if(o>0){let h,f,p=o>1?Math.round((l-a)/(o-1)):null;for(Dx(e,c,u,Be(p)?0:a-p,a),h=0,f=o-1;h<f;h++)Dx(e,c,u,s[h],s[h+1]);return Dx(e,c,u,l,Be(p)?e.length:l+p),c}return Dx(e,c,u),c}function jfe(n){let e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),r=n._maxLength/t;return Math.floor(Math.min(i,r))}function $fe(n,e,t){let i=zfe(n),r=e.length/t;if(!i)return Math.max(r,1);let s=hz(i);for(let o=0,a=s.length-1;o<a;o++){let l=s[o];if(l>r)return l}return Math.max(r,1)}function Hfe(n){let e=[],t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function Ufe(n,e,t,i){let r=0,s=t[0],o;for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),r++,s=t[r*i])}function Dx(n,e,t,i,r){let s=Ee(i,0),o=Math.min(Ee(r,n.length),n.length),a=0,l,c,u;for(t=Math.ceil(t),r&&(l=r-i,t=l/Math.floor(l/t)),u=s;u<0;)a++,u=Math.round(s+a*t);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(s+a*t))}function zfe(n){let e=n.length,t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}var Wfe=n=>n==="left"?"right":n==="right"?"left":n,Zz=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Jz=(n,e)=>Math.min(e||n,n);function e5(n,e){let t=[],i=n.length/e,r=n.length,s=0;for(;s<r;s+=i)t.push(n[Math.floor(s)]);return t}function Gfe(n,e,t){let i=n.ticks.length,r=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,a=1e-6,l=n.getPixelForTick(r),c;if(!(t&&(i===1?c=Math.max(l-s,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function qfe(n,e){ht(n,t=>{let i=t.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete t.data[i[s]];i.splice(0,r)}})}function sm(n){return n.drawTicks?n.tickLength:0}function t5(n,e){if(!n.display)return 0;let t=rn(n.font,e),i=kn(n.padding);return(St(n.text)?n.text.length:1)*t.lineHeight+i.height}function Yfe(n,e){return mo(n,{scale:e,type:"scale"})}function Xfe(n,e,t){return mo(n,{tick:t,index:e,type:"tick"})}function Kfe(n,e,t){let i=vx(n);return(t&&e!=="right"||!t&&e==="right")&&(i=Wfe(i)),i}function Qfe(n,e,t,i){let{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l,h=0,f,p,g,y=o-r,v=a-s;if(n.isHorizontal()){if(p=An(i,s,a),We(t)){let I=Object.keys(t)[0],M=t[I];g=u[I].getPixelForValue(M)+y-e}else t==="center"?g=(c.bottom+c.top)/2+y-e:g=Zz(n,t,e);f=a-s}else{if(We(t)){let I=Object.keys(t)[0],M=t[I];p=u[I].getPixelForValue(M)-v+e}else t==="center"?p=(c.left+c.right)/2-v+e:p=Zz(n,t,e);g=An(i,o,r),h=t==="left"?-Yt:Yt}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}var dc=class n extends Br{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:r}=this;return e=xi(e,Number.POSITIVE_INFINITY),t=xi(t,Number.NEGATIVE_INFINITY),i=xi(i,Number.POSITIVE_INFINITY),r=xi(r,Number.NEGATIVE_INFINITY),{min:xi(e,i),max:xi(t,r),minDefined:Vt(e),maxDefined:Vt(t)}}getMinMax(e){let{min:t,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=r&&t>i?t:i,{min:xi(t,xi(i,t)),max:xi(i,xi(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,t,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Sz(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?e5(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Bfe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=vt(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,i=Jz(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation,o=r,a,l,c;if(!this._isVisible()||!t.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=un(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:p/(i-1),h+6>a&&(a=p/(i-(e.offset?.5:1)),l=this.maxHeight-sm(e.grid)-t.padding-t5(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=yx(Math.min(Math.asin(un((u.highest.height+6)/a,-1,1)),Math.asin(un(l/c,-1,1))-Math.asin(un(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let l=t5(r,t.options.font);if(a?(e.width=this.maxWidth,e.height=sm(s)+l):(e.height=this.maxHeight,e.width=sm(s)+l),i.display&&this.ticks.length){let{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=i.padding*2,g=sr(this.labelRotation),y=Math.cos(g),v=Math.sin(g);if(a){let I=i.mirror?0:v*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+I+p)}else{let I=i.mirror?0:y*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+I+p)}this._calculatePadding(c,u,v,y)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;l?c?(f=r*e.width,p=i*t.height):(f=i*e.height,p=r*t.width):s==="start"?p=t.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=t.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Be(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,i=this.ticks;t<i.length&&(i=e5(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(t/Jz(t,i)),c=0,u=0,h,f,p,g,y,v,I,M,O,N,F;for(h=0;h<t;h+=l){if(g=e[h].label,y=this._resolveTickFontOptions(h),r.font=v=y.string,I=s[v]=s[v]||{data:{},gc:[]},M=y.lineHeight,O=N=0,!Be(g)&&!St(g))O=Qp(r,I.data,I.gc,O,g),N=M;else if(St(g))for(f=0,p=g.length;f<p;++f)F=g[f],!Be(F)&&!St(F)&&(O=Qp(r,I.data,I.gc,O,F),N+=M);o.push(O),a.push(N),c=Math.max(O,c),u=Math.max(N,u)}qfe(s,t);let B=o.indexOf(c),D=a.indexOf(u),x=T=>({width:o[T]||0,height:a[T]||0});return{first:x(0),last:x(t-1),widest:x(B),highest:x(D),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return pz(this._alignToPixels?Da(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let i=t[e];return i.$context||(i.$context=Xfe(this.getContext(),e,i))}return this.$context||(this.$context=Yfe(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=sr(this.labelRotation),i=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=sm(s),p=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,v=y/2,I=function(Y){return Da(i,Y,y)},M,O,N,F,B,D,x,T,k,A,P,C;if(o==="top")M=I(this.bottom),D=this.bottom-f,T=M-v,A=I(e.top)+v,C=e.bottom;else if(o==="bottom")M=I(this.top),A=e.top,C=I(e.bottom)-v,D=M+v,T=this.top+f;else if(o==="left")M=I(this.right),B=this.right-f,x=M-v,k=I(e.left)+v,P=e.right;else if(o==="right")M=I(this.left),k=e.left,P=I(e.right)-v,B=M+v,x=this.left+f;else if(t==="x"){if(o==="center")M=I((e.top+e.bottom)/2+.5);else if(We(o)){let Y=Object.keys(o)[0],K=o[Y];M=I(this.chart.scales[Y].getPixelForValue(K))}A=e.top,C=e.bottom,D=M+v,T=D+f}else if(t==="y"){if(o==="center")M=I((e.left+e.right)/2);else if(We(o)){let Y=Object.keys(o)[0],K=o[Y];M=I(this.chart.scales[Y].getPixelForValue(K))}B=M-v,x=B-f,k=e.left,P=e.right}let ue=Ee(r.ticks.maxTicksLimit,h),_e=Math.max(1,Math.ceil(h/ue));for(O=0;O<h;O+=_e){let Y=this.getContext(O),K=s.setContext(Y),ee=a.setContext(Y),oe=K.lineWidth,nt=K.color,Bt=ee.dash||[],et=ee.dashOffset,Ze=K.tickWidth,je=K.tickColor,kt=K.tickBorderDash||[],Gn=K.tickBorderDashOffset;N=Gfe(this,O,l),N!==void 0&&(F=Da(i,N,oe),c?B=x=k=P=F:D=T=A=C=F,p.push({tx1:B,ty1:D,tx2:x,ty2:T,x1:k,y1:A,x2:P,y2:C,width:oe,color:nt,borderDash:Bt,borderDashOffset:et,tickWidth:Ze,tickColor:je,tickBorderDash:kt,tickBorderDashOffset:Gn}))}return this._ticksLength=h,this._borderValue=M,p}_computeLabelItems(e){let t=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,f=sm(i.grid),p=f+u,g=h?-u:p,y=-sr(this.labelRotation),v=[],I,M,O,N,F,B,D,x,T,k,A,P,C="middle";if(r==="top")B=this.bottom-g,D=this._getXAxisLabelAlignment();else if(r==="bottom")B=this.top+g,D=this._getXAxisLabelAlignment();else if(r==="left"){let _e=this._getYAxisLabelAlignment(f);D=_e.textAlign,F=_e.x}else if(r==="right"){let _e=this._getYAxisLabelAlignment(f);D=_e.textAlign,F=_e.x}else if(t==="x"){if(r==="center")B=(e.top+e.bottom)/2+p;else if(We(r)){let _e=Object.keys(r)[0],Y=r[_e];B=this.chart.scales[_e].getPixelForValue(Y)+p}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")F=(e.left+e.right)/2-p;else if(We(r)){let _e=Object.keys(r)[0],Y=r[_e];F=this.chart.scales[_e].getPixelForValue(Y)}D=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?C="top":l==="end"&&(C="bottom"));let ue=this._getLabelSizes();for(I=0,M=a.length;I<M;++I){O=a[I],N=O.label;let _e=s.setContext(this.getContext(I));x=this.getPixelForTick(I)+s.labelOffset,T=this._resolveTickFontOptions(I),k=T.lineHeight,A=St(N)?N.length:1;let Y=A/2,K=_e.color,ee=_e.textStrokeColor,oe=_e.textStrokeWidth,nt=D;o?(F=x,D==="inner"&&(I===M-1?nt=this.options.reverse?"left":"right":I===0?nt=this.options.reverse?"right":"left":nt="center"),r==="top"?c==="near"||y!==0?P=-A*k+k/2:c==="center"?P=-ue.highest.height/2-Y*k+k:P=-ue.highest.height+k/2:c==="near"||y!==0?P=k/2:c==="center"?P=ue.highest.height/2-Y*k:P=ue.highest.height-A*k,h&&(P*=-1),y!==0&&!_e.showLabelBackdrop&&(F+=k/2*Math.sin(y))):(B=x,P=(1-A)*k/2);let Bt;if(_e.showLabelBackdrop){let et=kn(_e.backdropPadding),Ze=ue.heights[I],je=ue.widths[I],kt=P-et.top,Gn=0-et.left;switch(C){case"middle":kt-=Ze/2;break;case"bottom":kt-=Ze;break}switch(D){case"center":Gn-=je/2;break;case"right":Gn-=je;break;case"inner":I===M-1?Gn-=je:I>0&&(Gn-=je/2);break}Bt={left:Gn,top:kt,width:je+et.width,height:Ze+et.height,color:_e.backdropColor}}v.push({label:N,font:T,textOffset:P,options:{rotation:y,color:K,strokeColor:ee,strokeWidth:oe,textAlign:nt,textBaseline:C,translation:[F,B],backdrop:Bt}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-sr(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width,c,u;return t==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:i,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let t=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){let l=r[s];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,h,f;this.isHorizontal()?(c=Da(e,this.left,o)-o/2,u=Da(e,this.right,a)+a/2,h=f=l):(h=Da(e,this.top,o)-o/2,f=Da(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(c,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&em(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,l=o.font,c=o.label,u=o.textOffset;Aa(i,c,0,u,l,a)}r&&tm(i)}drawTitle(){let{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;let s=rn(i.font),o=kn(i.padding),a=i.align,l=s.lineHeight/2;t==="bottom"||t==="center"||We(t)?(l+=o.bottom,St(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:c,titleY:u,maxWidth:h,rotation:f}=Qfe(this,l,t,a);Aa(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:f,textAlign:Kfe(a,t,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,i=Ee(e.grid&&e.grid.z,-1),r=Ee(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=t.length;s<o;++s){let a=t[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return rn(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Ad=class{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),i;epe(t)&&(i=this.register(t));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,Zfe(e,o,i),this.override&&xt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let t=this.items,i=e.id,r=this.scope;i in t&&delete t[i],r&&i in xt[r]&&(delete xt[r][i],this.override&&delete Ia[i])}};function Zfe(n,e,t){let i=vd(Object.create(null),[t?xt.get(t):{},xt.get(e),n.defaults]);xt.set(e,i),n.defaultRoutes&&Jfe(e,n.defaultRoutes),n.descriptors&&xt.describe(e,n.descriptors)}function Jfe(n,e){Object.keys(e).forEach(t=>{let i=t.split("."),r=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");xt.route(s,r,l,a)})}function epe(n){return"id"in n&&"defaults"in n}var zk=class{constructor(){this.controllers=new Ad(Ra,"datasets",!0),this.elements=new Ad(Br,"elements"),this.plugins=new Ad(Object,"plugins"),this.scales=new Ad(dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ht(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,i){let r=gx(e);vt(i["before"+r],[],i),t[e](i),vt(i["after"+r],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){let r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},As=new zk,Wk=class{constructor(){this._init=[]}notify(e,t,i,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,i);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],l=[t,r,s.options];if(vt(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Be(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let i=e&&e.config,r=Ee(i.options&&i.options.plugins,{}),s=tpe(i);return r===!1&&!t?[]:ipe(e,s,r,t)}_notifyStateChanges(e){let t=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(t,i),e,"stop"),this._notify(r(i,t),e,"start")}};function tpe(n){let e={},t=[],i=Object.keys(As.plugins.items);for(let s=0;s<i.length;s++)t.push(As.getPlugin(i[s]));let r=n.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function npe(n,e){return!e&&n===!1?null:n===!0?{}:n}function ipe(n,{plugins:e,localIds:t},i,r){let s=[],o=n.getContext();for(let a of e){let l=a.id,c=npe(i[l],r);c!==null&&s.push({plugin:a,options:rpe(n.config,{plugin:a,local:t[l]},c,o)})}return s}function rpe(n,{plugin:e,local:t},i,r){let s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gk(n,e){let t=xt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function spe(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function ope(n,e){return n===e?"_index_":"_value_"}function n5(n){if(n==="x"||n==="y"||n==="r")return n}function ape(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qk(n,...e){if(n5(n))return n;for(let t of e){let i=t.axis||ape(t.position)||n.length>1&&n5(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function i5(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function lpe(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return i5(n,"x",t[0])||i5(n,"y",t[0])}return{}}function cpe(n,e){let t=Ia[n.type]||{scales:{}},i=e.scales||{},r=Gk(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!We(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=qk(o,a,lpe(o,n),xt.scales[a.type]),c=ope(l,r),u=t.scales||{};s[o]=bd(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{let a=o.type||n.type,l=o.indexAxis||Gk(a,e),u=(Ia[a]||{}).scales||{};Object.keys(u).forEach(h=>{let f=spe(h,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),bd(s[p],[{axis:f},i[p],u[h]])})}),Object.keys(s).forEach(o=>{let a=s[o];bd(a,[xt.scales[a.type],xt.scale])}),s}function z5(n){let e=n.options||(n.options={});e.plugins=Ee(e.plugins,{}),e.scales=cpe(n,e)}function W5(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function upe(n){return n=n||{},n.data=W5(n.data),z5(n),n}var r5=new Map,G5=new Set;function Ax(n,e){let t=r5.get(n);return t||(t=e(),r5.set(n,t),G5.add(t)),t}var om=(n,e,t)=>{let i=po(e,t);i!==void 0&&n.add(i)},Yk=class{constructor(e){this._config=upe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=W5(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),z5(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ax(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Ax(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Ax(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,i=this.type;return Ax(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let i=this._scopeCache,r=i.get(e);return(!r||t)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,t,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(t);if(a)return a;let l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(h=>om(l,e,h))),u.forEach(h=>om(l,r,h)),u.forEach(h=>om(l,Ia[s]||{},h)),u.forEach(h=>om(l,xt,h)),u.forEach(h=>om(l,xx,h))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),G5.has(t)&&o.set(t,c),c}chartOptionScopes(){let{options:e,type:t}=this;return[e,Ia[t]||{},xt.datasets[t]||{},{type:t},xt,xx]}resolveNamedOptions(e,t,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=s5(this._resolverCache,e,r),l=o;if(hpe(o,t)){s.$shared=!1,i=ho(i)?i():i;let c=this.createResolver(e,i,a);l=oc(o,i,c)}for(let c of t)s[c]=l[c];return s}createResolver(e,t,i=[""],r){let{resolver:s}=s5(this._resolverCache,e,i);return We(t)?oc(s,t,void 0,r):s}};function s5(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));let r=t.join(),s=i.get(r);return s||(s={resolver:Tx(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var dpe=n=>We(n)&&Object.getOwnPropertyNames(n).some(e=>ho(n[e]));function hpe(n,e){let{isScriptable:t,isIndexable:i}=_k(n);for(let r of e){let s=t(r),o=i(r),a=(o||s)&&n[r];if(s&&(ho(a)||dpe(a))||o&&St(a))return!0}return!1}var fpe="4.4.9",ppe=["top","bottom","left","right","chartArea"];function o5(n,e){return n==="top"||n==="bottom"||ppe.indexOf(n)===-1&&e==="x"}function a5(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function l5(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),vt(t&&t.onComplete,[n],e)}function mpe(n){let e=n.chart,t=e.options.animation;vt(t&&t.onProgress,[n],e)}function q5(n){return Cx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var Ox={},c5=n=>{let e=q5(n);return Object.values(Ox).filter(t=>t.canvas===e).pop()};function gpe(n,e,t){let i=Object.keys(n);for(let r of i){let s=+r;if(s>=e){let o=n[r];delete n[r],(t>0||s>e)&&(n[s+t]=o)}}}function ype(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var fm=(()=>{class n{static defaults=xt;static instances=Ox;static overrides=Ia;static registry=As;static version=fpe;static getChart=c5;static register(...t){As.add(...t),u5()}static unregister(...t){As.remove(...t),u5()}constructor(t,i){let r=this.config=new Yk(i),s=q5(t),o=c5(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Vfe(s)),this.platform.updateConfig(r);let l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,h=c&&c.width;if(this.id=lz(),this.ctx=l,this.canvas=c,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=vz(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],Ox[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}go.listen(this,"complete",l5),go.listen(this,"progress",mpe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return Be(t)?i&&o?o:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return As}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wk(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return mk(this.canvas,this.ctx),this}stop(){return go.stop(this),this}resize(t,i){go.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,t,i,o),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,wk(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),vt(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};ht(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let t=this.options,i=t.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let l=i[a],c=qk(a,l),u=c==="r",h=c==="x";return{options:l,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),ht(o,a=>{let l=a.options,c=l.id,u=qk(c,l),h=Ee(l.type,a.dtype);(l.position===void 0||o5(l.position,u)!==o5(a.dposition))&&(l.position=a.dposition),s[c]=!0;let f=null;if(c in r&&r[c].type===h)f=r[c];else{let p=As.getScale(h);f=new p({id:c,type:h,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(l,t)}),ht(s,(a,l)=>{a||delete r[l]}),ht(r,a=>{zn.configure(this,a,a.options),zn.addBox(this,a)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,r=t.length;if(t.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);t.splice(i,r-i)}this._sortedMetasets=t.slice(0).sort(a5("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=o.indexAxis||Gk(l,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=As.getController(l),{datasetElementType:u,dataElementType:h}=xt.datasets[l];Object.assign(c,{dataElementType:As.getElement(h),datasetElementType:u&&As.getElement(u)}),a.controller=new c(this,r),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){ht(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){let{controller:f}=this.getDatasetMeta(u),p=!s&&o.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||ht(o,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(a5("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ht(this.scales,t=>{zn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!nk(i,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;gpe(t,s,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(t.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!nk(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;zn.update(this,this.width,this.height,t);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],ht(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,ho(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let r=this.getDatasetMeta(t),s={meta:r,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(go.has(this)?this.attached&&!go.running(this)&&go.start(this):(this.draw(),l5({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!t||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=Dk(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&em(i,s),t.controller.draw(),s&&tm(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Ss(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,r,s){let o=vfe.modes[i];return typeof o=="function"?o(this,t,r,s):[]}getDatasetMeta(t){let i=this.data.datasets[t],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=mo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(t,i){let r=this.getDatasetMeta(t);r.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,s);wd(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),a.update(o,{visible:r}),this.update(l=>l.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),go.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),mk(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Ox[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),t[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};ht(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,r=(c,u)=>{i.addEventListener(this,c,u),t[c]=u},s=(c,u)=>{t[c]&&(i.removeEventListener(this,c,u),delete t[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){ht(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},ht(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,r){let s=r?"set":"remove",o,a,l,c;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=t.length;l<c;++l){a=t[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],r=t.map(({datasetIndex:o,index:a})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!Zp(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(t,i,r){return this._plugins.notify(this,t,i,r)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,r){let s=this.options.hover,o=(c,u)=>c.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=o(i,t),l=r?t:o(t,i);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(t,i){let r={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(t,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(t,i,r){let{_active:s=[],options:o}=this,a=i,l=this._getActiveElements(t,s,r,a),c=dz(t),u=ype(t,this._lastEvent,r,c);r&&(this._lastEvent=null,vt(o.onHover,[t,l,this],this),c&&vt(o.onClick,[t,l,this],this));let h=!Zp(l,s);return(h||i)&&(this._active=l,this._updateHoverStyles(l,s,i)),this._lastEvent=u,h}_getActiveElements(t,i,r,s){if(t.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}}return n})();function u5(){return ht(fm.instances,n=>n._plugins.invalidate())}function _pe(n,e,t){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e,c=r/a;n.beginPath(),n.arc(s,o,a,i-c,t+c),l>r?(c=r/l,n.arc(s,o,l,t+c,i-c,!0)):n.arc(s,o,r,t+Yt,i-Yt),n.closePath(),n.clip()}function vpe(n){return wx(n,["outerStart","outerEnd","innerStart","innerEnd"])}function xpe(n,e,t,i){let r=vpe(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),a=l=>{let c=(t-Math.min(s,l))*i/2;return un(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:un(r.innerStart,0,o),innerEnd:un(r.innerEnd,0,o)}}function Dd(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Vx(n,e,t,i,r,s){let{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+t-c,0),f=u>0?u+i+t+c:0,p=0,g=r-l;if(i){let _e=u>0?u-i:0,Y=h>0?h-i:0,K=(_e+Y)/2,ee=K!==0?g*K/(K+i):g;p=(g-ee)/2}let y=Math.max(.001,g*h-t/Et)/h,v=(g-y)/2,I=l+v+p,M=r-v-p,{outerStart:O,outerEnd:N,innerStart:F,innerEnd:B}=xpe(e,f,h,M-I),D=h-O,x=h-N,T=I+O/D,k=M-N/x,A=f+F,P=f+B,C=I+F/A,ue=M-B/P;if(n.beginPath(),s){let _e=(T+k)/2;if(n.arc(o,a,h,T,_e),n.arc(o,a,h,_e,k),N>0){let oe=Dd(x,k,o,a);n.arc(oe.x,oe.y,N,k,M+Yt)}let Y=Dd(P,M,o,a);if(n.lineTo(Y.x,Y.y),B>0){let oe=Dd(P,ue,o,a);n.arc(oe.x,oe.y,B,M+Yt,ue+Math.PI)}let K=(M-B/f+(I+F/f))/2;if(n.arc(o,a,f,M-B/f,K,!0),n.arc(o,a,f,K,I+F/f,!0),F>0){let oe=Dd(A,C,o,a);n.arc(oe.x,oe.y,F,C+Math.PI,I-Yt)}let ee=Dd(D,I,o,a);if(n.lineTo(ee.x,ee.y),O>0){let oe=Dd(D,T,o,a);n.arc(oe.x,oe.y,O,I-Yt,T)}}else{n.moveTo(o,a);let _e=Math.cos(T)*h+o,Y=Math.sin(T)*h+a;n.lineTo(_e,Y);let K=Math.cos(k)*h+o,ee=Math.sin(k)*h+a;n.lineTo(K,ee)}n.closePath()}function bpe(n,e,t,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,l=e.endAngle;if(s){Vx(n,e,t,i,l,r);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+(a%It||It))}return Vx(n,e,t,i,l,r),n.fill(),l}function wpe(n,e,t,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(h||[]),n.lineDashOffset=f,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=e.endAngle;if(s){Vx(n,e,t,i,g,r);for(let y=0;y<s;++y)n.stroke();isNaN(a)||(g=o+(a%It||It))}p&&_pe(n,e,g),s||(Vx(n,e,t,i,g,r),n.stroke())}var Xk=class extends Br{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=ok(r,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=(this.options.spacing+this.options.borderWidth)/2,p=Ee(h,l-a),g=Cd(s,a,l)&&a!==l,y=p>=It||g,v=Is(o,c+f,u+f);return y&&v}getCenterPoint(e){let{x:t,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,h=(o+a+c+l)/2;return{x:t+Math.cos(u)*h,y:i+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:i}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=i>It?Math.floor(i/It):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Et,i||0)),c=r*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,bpe(e,this,c,s,o),wpe(e,this,c,s,o),e.restore()}};function Y5(n,e,t=e){n.lineCap=Ee(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Ee(t.borderDash,e.borderDash)),n.lineDashOffset=Ee(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Ee(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ee(t.borderWidth,e.borderWidth),n.strokeStyle=Ee(t.borderColor,e.borderColor)}function Tpe(n,e,t){n.lineTo(t.x,t.y)}function Cpe(n){return n.stepped?Tz:n.tension||n.cubicInterpolationMode==="monotone"?Cz:Tpe}function X5(n,e,t={}){let i=n.length,{start:r=0,end:s=i-1}=t,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function Spe(n,e,t,i){let{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=X5(r,t,i),u=Cpe(s),{move:h=!0,reverse:f}=i||{},p,g,y;for(p=0;p<=c;++p)g=r[(a+(f?c-p:p))%o],!g.skip&&(h?(n.moveTo(g.x,g.y),h=!1):u(n,y,g,f,s.stepped),y=g);return l&&(g=r[(a+(f?c:0))%o],u(n,y,g,f,s.stepped)),!!l}function Epe(n,e,t,i){let r=e.points,{count:s,start:o,ilen:a}=X5(r,t,i),{move:l=!0,reverse:c}=i||{},u=0,h=0,f,p,g,y,v,I,M=N=>(o+(c?a-N:N))%s,O=()=>{y!==v&&(n.lineTo(u,v),n.lineTo(u,y),n.lineTo(u,I))};for(l&&(p=r[M(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=r[M(f)],p.skip)continue;let N=p.x,F=p.y,B=N|0;B===g?(F<y?y=F:F>v&&(v=F),u=(h*u+N)/++h):(O(),n.lineTo(N,F),g=B,h=0,y=v=F),I=F}O()}function Kk(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Epe:Spe}function Ipe(n){return n.stepped?Rz:n.tension||n.cubicInterpolationMode==="monotone"?Oz:Ea}function Dpe(n,e,t,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,i)&&r.closePath()),Y5(n,e.options),n.stroke(r)}function Ape(n,e,t,i){let{segments:r,options:s}=e,o=Kk(e);for(let a of r)Y5(n,s,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}var kpe=typeof Path2D=="function";function Mpe(n,e,t,i){kpe&&!e.options.segment?Dpe(n,e,t,i):Ape(n,e,t,i)}var $x=(()=>{class n extends Br{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;kz(this._points,r,t,s,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Nz(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,r=t.length;return r&&i[t[r-1].end]}interpolate(t,i){let r=this.options,s=t[i],o=this.points,a=Ik(this,{property:i,start:s,end:s});if(!a.length)return;let l=[],c=Ipe(r),u,h;for(u=0,h=a.length;u<h;++u){let{start:f,end:p}=a[u],g=o[f],y=o[p];if(g===y){l.push(g);continue}let v=Math.abs((s-g[i])/(y[i]-g[i])),I=c(g,y,v,r.stepped);I[i]=t[i],l.push(I)}return l.length===1?l[0]:l}pathSegment(t,i,r){return Kk(this)(t,this,i,r)}path(t,i,r){let s=this.segments,o=Kk(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of s)a&=o(t,this,l,{start:i,end:i+r-1});return!!a}draw(t,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),Mpe(t,this,r,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function d5(n,e,t,i){let r=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<r.radius+r.hitRadius}var Ppe=(()=>{class n extends Br{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(t-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return d5(this,t,"x",i)}inYRange(t,i){return d5(this,t,"y",i)}getCenterPoint(t){let{x:i,y:r}=this.getProps(["x","y"],t);return{x:i,y:r}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let r=i&&t.borderWidth||0;return(i+r)*2}draw(t,i){let r=this.options;this.skip||r.radius<.1||!Ss(this,i,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,bx(t,r,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function K5(n,e){let{x:t,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],e),a,l,c,u,h;return n.horizontal?(h=o/2,a=Math.min(t,r),l=Math.max(t,r),c=i-h,u=i+h):(h=s/2,a=t-h,l=t+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Pa(n,e,t,i){return n?0:un(e,t,i)}function Rpe(n,e,t){let i=n.options.borderWidth,r=n.borderSkipped,s=yk(i);return{t:Pa(r.top,s.top,0,t),r:Pa(r.right,s.right,0,e),b:Pa(r.bottom,s.bottom,0,t),l:Pa(r.left,s.left,0,e)}}function Ope(n,e,t){let{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=ka(r),o=Math.min(e,t),a=n.borderSkipped,l=i||We(r);return{topLeft:Pa(!l||a.top||a.left,s.topLeft,0,o),topRight:Pa(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Pa(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Pa(!l||a.bottom||a.right,s.bottomRight,0,o)}}function Lpe(n){let e=K5(n),t=e.right-e.left,i=e.bottom-e.top,r=Rpe(n,t/2,i/2),s=Ope(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Nk(n,e,t,i){let r=e===null,s=t===null,a=n&&!(r&&s)&&K5(n,i);return a&&(r||Is(e,a.left,a.right))&&(s||Is(t,a.top,a.bottom))}function Npe(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function Fpe(n,e){n.rect(e.x,e.y,e.w,e.h)}function Fk(n,e,t={}){let i=n.x!==t.x?-e:0,r=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-i,o=(n.y+n.h!==t.y+t.h?e:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+s,h:n.h+o,radius:n.radius}}var Qk=class extends Br{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=Lpe(this),a=Npe(o.radius)?Ed:Fpe;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,Fk(o,t,s)),e.clip(),a(e,Fk(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,Fk(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,i){return Nk(this,e,t,i)}inXRange(e,t){return Nk(this,e,null,t)}inYRange(e,t){return Nk(this,null,e,t)}getCenterPoint(e){let{x:t,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},Vpe=Object.freeze({__proto__:null,ArcElement:Xk,BarElement:Qk,LineElement:$x,PointElement:Ppe}),Zk=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],h5=Zk.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Q5(n){return Zk[n%Zk.length]}function Z5(n){return h5[n%h5.length]}function Bpe(n,e){return n.borderColor=Q5(e),n.backgroundColor=Z5(e),++e}function jpe(n,e){return n.backgroundColor=n.data.map(()=>Q5(e++)),e}function $pe(n,e){return n.backgroundColor=n.data.map(()=>Z5(e++)),e}function Hpe(n){let e=0;return(t,i)=>{let r=n.getDatasetMeta(i).controller;r instanceof oM?e=jpe(t,e):r instanceof B5?e=$pe(t,e):r&&(e=Bpe(t,e))}}function f5(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function Upe(n){return n&&(n.borderColor||n.backgroundColor)}function zpe(){return xt.borderColor!=="rgba(0,0,0,0.1)"||xt.backgroundColor!=="rgba(0,0,0,0.1)"}var Wpe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:i},options:r}=n.config,{elements:s}=r,o=f5(i)||Upe(r)||s&&f5(s)||zpe();if(!t.forceOverride&&o)return;let a=Hpe(n);i.forEach(a)}};function Gpe(n,e,t,i,r){let s=r.samples||i;if(s>=t)return n.slice(e,e+t);let o=[],a=(t-2)/(s-2),l=0,c=e+t-1,u=e,h,f,p,g,y;for(o[l++]=n[u],h=0;h<s-2;h++){let v=0,I=0,M,O=Math.floor((h+1)*a)+1+e,N=Math.min(Math.floor((h+2)*a)+1,t)+e,F=N-O;for(M=O;M<N;M++)v+=n[M].x,I+=n[M].y;v/=F,I/=F;let B=Math.floor(h*a)+1+e,D=Math.min(Math.floor((h+1)*a)+1,t)+e,{x,y:T}=n[u];for(p=g=-1,M=B;M<D;M++)g=.5*Math.abs((x-v)*(n[M].y-T)-(x-n[M].x)*(I-T)),g>p&&(p=g,f=n[M],y=M);o[l++]=f,u=y}return o[l++]=n[c],o}function qpe(n,e,t,i){let r=0,s=0,o,a,l,c,u,h,f,p,g,y,v=[],I=e+t-1,M=n[e].x,N=n[I].x-M;for(o=e;o<e+t;++o){a=n[o],l=(a.x-M)/N*i,c=a.y;let F=l|0;if(F===u)c<g?(g=c,h=o):c>y&&(y=c,f=o),r=(s*r+a.x)/++s;else{let B=o-1;if(!Be(h)&&!Be(f)){let D=Math.min(h,f),x=Math.max(h,f);D!==p&&D!==B&&v.push(fe(U({},n[D]),{x:r})),x!==p&&x!==B&&v.push(fe(U({},n[x]),{x:r}))}o>0&&B!==p&&v.push(n[B]),v.push(a),u=F,s=0,g=y=c,h=f=p=o}}return v}function J5(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function p5(n){n.data.datasets.forEach(e=>{J5(e)})}function Ype(n,e){let t=e.length,i=0,r,{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=un(Cs(e,s.axis,o).lo,0,t-1)),c?r=un(Cs(e,s.axis,a).hi+1,i,t)-i:r=t-i,{start:i,count:r}}var Xpe={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){p5(n);return}let i=n.width;n.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(s),c=o||r.data;if(Id([a,n.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=n.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=Ype(l,c),p=t.threshold||4*i;if(f<=p){J5(r);return}Be(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(t.algorithm){case"lttb":g=Gpe(c,h,f,i,t);break;case"min-max":g=qpe(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=g})},destroy(n){p5(n)}};function Kpe(n,e,t){let i=n.segments,r=n.points,s=e.points,o=[];for(let a of i){let{start:l,end:c}=a;c=aM(l,c,r);let u=Jk(t,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}let h=Ik(e,u);for(let f of h){let p=Jk(t,s[f.start],s[f.end],f.loop),g=Ek(a,r,p);for(let y of g)o.push({source:y,target:f,start:{[t]:m5(u,p,"start",Math.max)},end:{[t]:m5(u,p,"end",Math.min)}})}}return o}function Jk(n,e,t,i){if(i)return;let r=e[n],s=t[n];return n==="angle"&&(r=vi(r),s=vi(s)),{property:n,start:r,end:s}}function Qpe(n,e){let{x:t=null,y:i=null}=n||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=aM(o,a,r);let l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):t!==null&&(s.push({x:t,y:l.y}),s.push({x:t,y:c.y}))}),s}function aM(n,e,t){for(;e>n;e--){let i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function m5(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function eW(n,e){let t=[],i=!1;return St(n)?(i=!0,t=n):t=Qpe(n,e),t.length?new $x({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function g5(n){return n&&n.fill!==!1}function Zpe(n,e,t){let r=n[e].fill,s=[e],o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Vt(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Jpe(n,e,t){let i=ime(n);if(We(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Vt(r)&&Math.floor(r)===r?eme(i[0],e,r,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function eme(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function tme(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:We(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function nme(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:We(n)?i=n.value:i=e.getBaseValue(),i}function ime(n){let e=n.options,t=e.fill,i=Ee(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function rme(n){let{scale:e,index:t,line:i}=n,r=[],s=i.segments,o=i.points,a=sme(e,t);a.push(eW({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){let c=s[l];for(let u=c.start;u<=c.end;u++)ome(r,o[u],a)}return new $x({points:r,options:{}})}function sme(n,e){let t=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function ome(n,e,t){let i=[];for(let r=0;r<t.length;r++){let s=t[r],{first:o,last:a,point:l}=ame(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(n.push(l),!a)break}}n.push(...i)}function ame(n,e,t){let i=n.interpolate(e,t);if(!i)return{};let r=i[t],s=n.segments,o=n.points,a=!1,l=!1;for(let c=0;c<s.length;c++){let u=s[c],h=o[u.start][t],f=o[u.end][t];if(Is(r,h,f)){a=r===h,l=r===f;break}}return{first:a,last:l,point:i}}var Bx=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){let{x:r,y:s,radius:o}=this;return t=t||{start:0,end:It},e.arc(r,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){let{x:t,y:i,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function lme(n){let{chart:e,fill:t,line:i}=n;if(Vt(t))return cme(e,t);if(t==="stack")return rme(n);if(t==="shape")return!0;let r=ume(n);return r instanceof Bx?r:eW(r,i)}function cme(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function ume(n){return(n.scale||{}).getPointPositionForValue?hme(n):dme(n)}function dme(n){let{scale:e={},fill:t}=n,i=tme(t,e);if(Vt(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function hme(n){let{scale:e,fill:t}=n,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=nme(t,e,s),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,s);return new Bx({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Vk(n,e,t){let i=lme(e),{chart:r,index:s,line:o,scale:a,axis:l}=e,c=o.options,u=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=u||{},g=r.getDatasetMeta(s),y=Dk(r,g);i&&o.points.length&&(em(n,t),fme(n,{line:o,target:i,above:f,below:p,area:t,scale:a,axis:l,clip:y}),tm(n))}function fme(n,e){let{line:t,target:i,above:r,below:s,area:o,scale:a,clip:l}=e,c=t._loop?"angle":e.axis;n.save(),c==="x"&&s!==r&&(y5(n,i,o.top),_5(n,{line:t,target:i,color:r,scale:a,property:c,clip:l}),n.restore(),n.save(),y5(n,i,o.bottom)),_5(n,{line:t,target:i,color:s,scale:a,property:c,clip:l}),n.restore()}function y5(n,e,t){let{segments:i,points:r}=e,s=!0,o=!1;n.beginPath();for(let a of i){let{start:l,end:c}=a,u=r[l],h=r[aM(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),o=!!e.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function _5(n,e){let{line:t,target:i,property:r,color:s,scale:o,clip:a}=e,l=Kpe(t,i,r);for(let{source:c,target:u,start:h,end:f}of l){let{style:{backgroundColor:p=s}={}}=c,g=i!==!0;n.save(),n.fillStyle=p,pme(n,o,a,g&&Jk(r,h,f)),n.beginPath();let y=!!t.pathSegment(n,c),v;if(g){y?n.closePath():v5(n,i,f,r);let I=!!i.pathSegment(n,u,{move:y,reverse:!0});v=y&&I,v||v5(n,i,h,r)}n.closePath(),n.fill(v?"evenodd":"nonzero"),n.restore()}}function pme(n,e,t,i){let r=e.chart.chartArea,{property:s,start:o,end:a}=i||{};if(s==="x"||s==="y"){let l,c,u,h;s==="x"?(l=o,c=r.top,u=a,h=r.bottom):(l=r.left,c=o,u=r.right,h=a),n.beginPath(),t&&(l=Math.max(l,t.left),u=Math.min(u,t.right),c=Math.max(c,t.top),h=Math.min(h,t.bottom)),n.rect(l,c,u-l,h-c),n.clip()}}function v5(n,e,t,i){let r=e.interpolate(t,i);r&&n.lineTo(r.x,r.y)}var mme={id:"filler",afterDatasetsUpdate(n,e,t){let i=(n.data.datasets||[]).length,r=[],s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof $x&&(l={visible:n.isDatasetVisible(o),index:o,fill:Jpe(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=Zpe(r,o,t.propagate))},beforeDraw(n,e,t){let i=t.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Vk(n.ctx,a,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;g5(s)&&Vk(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){let i=e.meta.$filler;!g5(i)||t.drawTime!=="beforeDatasetDraw"||Vk(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},x5=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},gme=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,jx=class extends Br{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=rn(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=x5(i,s),c,u;t.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a,h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,y)=>{let v=i+t/2+s.measureText(g.text).width;(y===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(y>0?0:1)]=0,p+=u,f++),l[y]={left:0,top:p,row:f,width:v,height:r},c[c.length-1]+=v+a}),h}_fitCols(e,t,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e,h=a,f=0,p=0,g=0,y=0;return this.legendItems.forEach((v,I)=>{let{itemWidth:M,itemHeight:O}=yme(i,t,s,v,r);I>0&&p+O+2*a>u&&(h+=f+a,c.push({width:f,height:p}),g+=f+a,y++,f=p=0),l[I]={left:g,top:p,col:y,width:M,height:O},f=Math.max(f,M),p+=O+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:r},rtl:s}}=this,o=lc(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=An(i,this.left+r,this.right-this.lineWidths[a]);for(let c of t)a!==c.row&&(a=c.row,l=An(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=An(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of t)c.col!==a&&(a=c.col,l=An(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;em(e,this),this._draw(),tm(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=xt.color,l=lc(e.rtl,this.left,this.width),c=rn(o.font),{padding:u}=o,h=c.size,f=h/2,p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:g,boxHeight:y,itemHeight:v}=x5(o,h),I=function(B,D,x){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();let T=Ee(x.lineWidth,1);if(r.fillStyle=Ee(x.fillStyle,a),r.lineCap=Ee(x.lineCap,"butt"),r.lineDashOffset=Ee(x.lineDashOffset,0),r.lineJoin=Ee(x.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=Ee(x.strokeStyle,a),r.setLineDash(Ee(x.lineDash,[])),o.usePointStyle){let k={radius:y*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:T},A=l.xPlus(B,g/2),P=D+f;gk(r,k,A,P,o.pointStyleWidth&&g)}else{let k=D+Math.max((h-y)/2,0),A=l.leftForLtr(B,g),P=ka(x.borderRadius);r.beginPath(),Object.values(P).some(C=>C!==0)?Ed(r,{x:A,y:k,w:g,h:y,radius:P}):r.rect(A,k,g,y),r.fill(),T!==0&&r.stroke()}r.restore()},M=function(B,D,x){Aa(r,x.text,B,D+v/2,c,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},O=this.isHorizontal(),N=this._computeTitleHeight();O?p={x:An(s,this.left+u,this.right-i[0]),y:this.top+u+N,line:0}:p={x:this.left+u,y:An(s,this.top+N+u,this.bottom-t[0].height),line:0},Ck(this.ctx,e.textDirection);let F=v+u;this.legendItems.forEach((B,D)=>{r.strokeStyle=B.fontColor,r.fillStyle=B.fontColor;let x=r.measureText(B.text).width,T=l.textAlign(B.textAlign||(B.textAlign=o.textAlign)),k=g+f+x,A=p.x,P=p.y;l.setWidth(this.width),O?D>0&&A+k+u>this.right&&(P=p.y+=F,p.line++,A=p.x=An(s,this.left+u,this.right-i[p.line])):D>0&&P+F>this.bottom&&(A=p.x=A+t[p.line].width+u,p.line++,P=p.y=An(s,this.top+N+u,this.bottom-t[p.line].height));let C=l.x(A);if(I(C,P,B),A=xz(T,A+g+f,O?A+k:this.right,e.rtl),M(l.x(A),P,B),O)p.x+=k+u;else if(typeof B.text!="string"){let ue=c.lineHeight;p.y+=tW(B,ue)+u}else p.y+=F}),Sk(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,i=rn(t.font),r=kn(t.padding);if(!t.display)return;let s=lc(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=i.size/2,c=r.top+l,u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=An(e.align,h,this.right-f);else{let g=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=c+An(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}let p=An(a,h,h+f);o.textAlign=s.textAlign(vx(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Aa(o,t.text,p,u,i)}_computeTitleHeight(){let e=this.options.title,t=rn(e.font),i=kn(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,r,s;if(Is(e,this.left,this.right)&&Is(t,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Is(e,r.left,r.left+r.width)&&Is(t,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let t=this.options;if(!xme(e.type,t))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=gme(r,i);r&&!s&&vt(t.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&vt(t.onHover,[e,i,this],this)}else i&&vt(t.onClick,[e,i,this],this)}};function yme(n,e,t,i,r){let s=_me(i,n,e,t),o=vme(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function _me(n,e,t,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(r).width}function vme(n,e,t){let i=n;return typeof e.text!="string"&&(i=tW(e,t)),i}function tW(n,e){let t=n.text?n.text.length:0;return e*t}function xme(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var bme={id:"legend",_element:jx,start(n,e,t){let i=n.legend=new jx({ctx:n.ctx,options:t,chart:n});zn.configure(n,i,t),zn.addBox(n,i)},stop(n){zn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let i=n.legend;zn.configure(n,i,t),i.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let i=e.datasetIndex,r=t.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(t?0:void 0),u=kn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},um=class extends Br{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let r=St(i.text)?i.text.length:1;this._padding=kn(i.padding);let s=r*rn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:i,bottom:r,right:s,options:o}=this,a=o.align,l=0,c,u,h;return this.isHorizontal()?(u=An(a,i,s),h=t+e,c=s-i):(o.position==="left"?(u=i+e,h=An(a,r,t),l=Et*-.5):(u=s-e,h=An(a,t,r),l=Et*.5),c=r-t),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let i=rn(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Aa(e,t.text,0,0,i,{color:t.color,maxWidth:l,rotation:c,textAlign:vx(t.align),textBaseline:"middle",translation:[o,a]})}};function wme(n,e){let t=new um({ctx:n.ctx,options:e,chart:n});zn.configure(n,t,e),zn.addBox(n,t),n.titleBlock=t}var Tme={id:"title",_element:um,start(n,e,t){wme(n,t)},stop(n){let e=n.titleBlock;zn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let i=n.titleBlock;zn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},kx=new WeakMap,Cme={id:"subtitle",start(n,e,t){let i=new um({ctx:n.ctx,options:t,chart:n});zn.configure(n,i,t),zn.addBox(n,i),kx.set(n,i)},stop(n){zn.removeBox(n,kx.get(n)),kx.delete(n)},beforeUpdate(n,e,t){let i=kx.get(n);zn.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},lm={average(n){if(!n.length)return!1;let e,t,i=new Set,r=0,s=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=n.length;s<o;++s){let l=n[s].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=px(e,c);u<r&&(r=u,a=l)}}if(a){let l=a.tooltipPosition();t=l.x,i=l.y}return{x:t,y:i}}};function Ds(n,e){return e&&(St(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function yo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Sme(n,e){let{element:t,datasetIndex:i,index:r}=e,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:t}}function b5(n,e){let t=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=e,l=rn(e.bodyFont),c=rn(e.titleFont),u=rn(e.footerFont),h=s.length,f=r.length,p=i.length,g=kn(e.padding),y=g.height,v=0,I=i.reduce((N,F)=>N+F.before.length+F.lines.length+F.after.length,0);if(I+=n.beforeBody.length+n.afterBody.length,h&&(y+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),I){let N=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*N+(I-p)*l.lineHeight+(I-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let M=0,O=function(N){v=Math.max(v,t.measureText(N).width+M)};return t.save(),t.font=c.string,ht(n.title,O),t.font=l.string,ht(n.beforeBody.concat(n.afterBody),O),M=e.displayColors?o+2+e.boxPadding:0,ht(i,N=>{ht(N.before,O),ht(N.lines,O),ht(N.after,O)}),M=0,t.font=u.string,ht(n.footer,O),t.restore(),v+=g.width,{width:v,height:y}}function Eme(n,e){let{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function Ime(n,e,t,i){let{x:r,width:s}=i,o=t.caretSize+t.caretPadding;if(n==="left"&&r+s+o>e.width||n==="right"&&r-s-o<0)return!0}function Dme(n,e,t,i){let{x:r,width:s}=t,{width:o,chartArea:{left:a,right:l}}=n,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),Ime(c,n,e,t)&&(c="center"),c}function w5(n,e,t){let i=t.yAlign||e.yAlign||Eme(n,t);return{xAlign:t.xAlign||e.xAlign||Dme(n,e,t,i),yAlign:i}}function Ame(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function kme(n,e,t){let{y:i,height:r}=n;return e==="top"?i+=t:e==="bottom"?i-=r+t:i-=r/2,i}function T5(n,e,t,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=r+s,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=ka(o),g=Ame(e,a),y=kme(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+r:a==="right"&&(g+=Math.max(h,p)+r),{x:un(g,0,i.width-e.width),y:un(y,0,i.height-e.height)}}function Mx(n,e,t){let i=kn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function C5(n){return Ds([],yo(n))}function Mme(n,e,t){return mo(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function S5(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var nW={beforeTitle:Es,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Es,beforeBody:Es,beforeLabel:Es,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return Be(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Es,afterBody:Es,beforeFooter:Es,footer:Es,afterFooter:Es};function bi(n,e,t,i){let r=n[e].call(t,i);return typeof r>"u"?nW[e].call(t,i):r}var E5=(()=>{class n extends Br{static positioners=lm;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new Lx(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Mme(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:r}=i,s=bi(r,"beforeTitle",this,t),o=bi(r,"title",this,t),a=bi(r,"afterTitle",this,t),l=[];return l=Ds(l,yo(s)),l=Ds(l,yo(o)),l=Ds(l,yo(a)),l}getBeforeBody(t,i){return C5(bi(i.callbacks,"beforeBody",this,t))}getBody(t,i){let{callbacks:r}=i,s=[];return ht(t,o=>{let a={before:[],lines:[],after:[]},l=S5(r,o);Ds(a.before,yo(bi(l,"beforeLabel",this,o))),Ds(a.lines,bi(l,"label",this,o)),Ds(a.after,yo(bi(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(t,i){return C5(bi(i.callbacks,"afterBody",this,t))}getFooter(t,i){let{callbacks:r}=i,s=bi(r,"beforeFooter",this,t),o=bi(r,"footer",this,t),a=bi(r,"afterFooter",this,t),l=[];return l=Ds(l,yo(s)),l=Ds(l,yo(o)),l=Ds(l,yo(a)),l}_createItems(t){let i=this._active,r=this.chart.data,s=[],o=[],a=[],l=[],c,u;for(c=0,u=i.length;c<u;++c)l.push(Sme(this.chart,i[c]));return t.filter&&(l=l.filter((h,f,p)=>t.filter(h,f,p,r))),t.itemSort&&(l=l.sort((h,f)=>t.itemSort(h,f,r))),ht(l,h=>{let f=S5(t.callbacks,h);s.push(bi(f,"labelColor",this,h)),o.push(bi(f,"labelPointStyle",this,h)),a.push(bi(f,"labelTextColor",this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(t,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let l=lm[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=b5(this,r),u=Object.assign({},l,c),h=w5(this.chart,r,u),f=T5(r,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,r,s){let o=this.getCaretPosition(t,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:h,bottomRight:f}=ka(l),{x:p,y:g}=t,{width:y,height:v}=i,I,M,O,N,F,B;return o==="center"?(F=g+v/2,s==="left"?(I=p,M=I-a,N=F+a,B=F-a):(I=p+y,M=I+a,N=F-a,B=F+a),O=I):(s==="left"?M=p+Math.max(c,h)+a:s==="right"?M=p+y-Math.max(u,f)-a:M=this.caretX,o==="top"?(N=g,F=N-a,I=M-a,O=M+a):(N=g+v,F=N+a,I=M+a,O=M-a),B=N),{x1:I,x2:M,x3:O,y1:N,y2:F,y3:B}}drawTitle(t,i,r){let s=this.title,o=s.length,a,l,c;if(o){let u=lc(r.rtl,this.x,this.width);for(t.x=Mx(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=rn(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+l,c+1===o&&(t.y+=r.titleMarginBottom-l)}}_drawColorBox(t,i,r,s,o){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=o,h=rn(o.bodyFont),f=Mx(this,"left",o),p=s.x(f),g=c<h.lineHeight?(h.lineHeight-c)/2:0,y=i.y+g;if(o.usePointStyle){let v={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},I=s.leftForLtr(p,u)+u/2,M=y+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,bx(t,v,I,M),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,bx(t,v,I,M)}else{t.lineWidth=We(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let v=s.leftForLtr(p,u),I=s.leftForLtr(s.xPlus(p,1),u-2),M=ka(a.borderRadius);Object.values(M).some(O=>O!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ed(t,{x:v,y,w:u,h:c,radius:M}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Ed(t,{x:I,y:y+1,w:u-2,h:c-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(v,y,u,c),t.strokeRect(v,y,u,c),t.fillStyle=a.backgroundColor,t.fillRect(I,y+1,u-2,c-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:h}=r,f=rn(r.bodyFont),p=f.lineHeight,g=0,y=lc(r.rtl,this.x,this.width),v=function(T){i.fillText(T,y.x(t.x+g),t.y+p/2),t.y+=p+o},I=y.textAlign(a),M,O,N,F,B,D,x;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,t.x=Mx(this,I,r),i.fillStyle=r.bodyColor,ht(this.beforeBody,v),g=l&&I!=="right"?a==="center"?u/2+h:u+2+h:0,F=0,D=s.length;F<D;++F){for(M=s[F],O=this.labelTextColors[F],i.fillStyle=O,ht(M.before,v),N=M.lines,l&&N.length&&(this._drawColorBox(i,t,F,y,r),p=Math.max(f.lineHeight,c)),B=0,x=N.length;B<x;++B)v(N[B]),p=f.lineHeight;ht(M.after,v)}g=0,p=f.lineHeight,ht(this.afterBody,v),t.y-=o}drawFooter(t,i,r){let s=this.footer,o=s.length,a,l;if(o){let c=lc(r.rtl,this.x,this.width);for(t.x=Mx(this,r.footerAlign,r),t.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=rn(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+r.footerSpacing}}drawBackground(t,i,r,s){let{xAlign:o,yAlign:a}=this,{x:l,y:c}=t,{width:u,height:h}=r,{topLeft:f,topRight:p,bottomLeft:g,bottomRight:y}=ka(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+f,c),a==="top"&&this.drawCaret(t,i,r,s),i.lineTo(l+u-p,c),i.quadraticCurveTo(l+u,c,l+u,c+p),a==="center"&&o==="right"&&this.drawCaret(t,i,r,s),i.lineTo(l+u,c+h-y),i.quadraticCurveTo(l+u,c+h,l+u-y,c+h),a==="bottom"&&this.drawCaret(t,i,r,s),i.lineTo(l+g,c+h),i.quadraticCurveTo(l,c+h,l,c+h-g),a==="center"&&o==="left"&&this.drawCaret(t,i,r,s),i.lineTo(l,c+f),i.quadraticCurveTo(l,c,l+f,c),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=lm[t.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=b5(this,t),c=Object.assign({},a,this._size),u=w5(i,t,c),h=T5(t,c,u,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=kn(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(t.save(),t.globalAlpha=r,this.drawBackground(o,t,s,i),Ck(t,i.textDirection),o.y+=a.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),Sk(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let r=this._active,s=t.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!Zp(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(t,o,i,r),l=this._positionChanged(a,t),c=i||!Zp(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),c}_getActiveElements(t,i,r,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(t,i){let{caretX:r,caretY:s,options:o}=this,a=lm[o.position].call(this,t,i);return a!==!1&&(r!==a.x||s!==a.y)}}return n})(),Pme={id:"tooltip",_element:E5,positioners:lm,afterInit(n,e,t){t&&(n.tooltip=new E5({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",fe(U({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:nW},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Rme=Object.freeze({__proto__:null,Colors:Wpe,Decimation:Xpe,Filler:mme,Legend:bme,SubTitle:Cme,Title:Tme,Tooltip:Pme}),Ome=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Lme(n,e,t,i){let r=n.indexOf(e);if(r===-1)return Ome(n,e,t,i);let s=n.lastIndexOf(e);return r!==s?t:r}var Nme=(n,e)=>n===null?null:un(Math.round(n),0,e);function I5(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var Fme=(()=>{class n extends dc{static id="category";static defaults={ticks:{callback:I5}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(Be(t))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===t?i:Lme(r,t,Ee(i,t),this._addedLabels),Nme(i,r.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let t=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=t;a<=i;a++)s.push({value:a});return s}getLabelForValue(t){return I5.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function Vme(n,e){let t=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=s||1,g=u-1,{min:y,max:v}=e,I=!Be(o),M=!Be(a),O=!Be(c),N=(v-y)/(h+1),F=ik((v-y)/g/p)*p,B,D,x,T;if(F<1e-14&&!I&&!M)return[{value:y},{value:v}];T=Math.ceil(v/F)-Math.floor(y/F),T>g&&(F=ik(T*F/g/p)*p),Be(l)||(B=Math.pow(10,l),F=Math.ceil(F*B)/B),r==="ticks"?(D=Math.floor(y/F)*F,x=Math.ceil(v/F)*F):(D=y,x=v),I&&M&&s&&fz((a-o)/s,F/1e3)?(T=Math.round(Math.min((a-o)/F,u)),F=(a-o)/T,D=o,x=a):O?(D=I?o:D,x=M?a:x,T=c-1,F=(x-D)/T):(T=(x-D)/F,Td(T,Math.round(T),F/1e3)?T=Math.round(T):T=Math.ceil(T));let k=Math.max(sk(F),sk(D));B=Math.pow(10,Be(l)?k:l),D=Math.round(D*B)/B,x=Math.round(x*B)/B;let A=0;for(I&&(f&&D!==o?(t.push({value:o}),D<o&&A++,Td(Math.round((D+A*F)*B)/B,o,D5(o,N,n))&&A++):D<o&&A++);A<T;++A){let P=Math.round((D+A*F)*B)/B;if(M&&P>a)break;t.push({value:P})}return M&&f&&x!==a?t.length&&Td(t[t.length-1].value,a,D5(a,N,n))?t[t.length-1].value=a:t.push({value:a}):(!M||x===a)&&t.push({value:x}),t}function D5(n,e,{horizontal:t,minRotation:i}){let r=sr(i),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+n).length;return Math.min(e/s,o)}var kd=class extends dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Be(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=l=>r=t?r:l,a=l=>s=i?s:l;if(e){let l=Vr(r),c=Vr(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=Vme(r,s);return e.bounds==="ticks"&&rk(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Sd(e,this.chart.options.locale,this.options.ticks.format)}},eM=class extends kd{static id="linear";static defaults={ticks:{callback:Jp.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Vt(e)?e:0,this.max=Vt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,i=sr(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},dm=n=>Math.floor(fo(n)),uc=(n,e)=>Math.pow(10,dm(n)+e);function A5(n){return n/Math.pow(10,dm(n))===1}function k5(n,e,t){let i=Math.pow(10,t),r=Math.floor(n/i);return Math.ceil(e/i)-r}function Bme(n,e){let t=e-n,i=dm(t);for(;k5(n,e,i)>10;)i++;for(;k5(n,e,i)<10;)i--;return Math.min(i,dm(n))}function jme(n,{min:e,max:t}){e=xi(n.min,e);let i=[],r=dm(e),s=Bme(e,t),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10,h=Math.floor((c-u)/Math.pow(10,s)),f=xi(n.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;f<t;)i.push({value:f,major:A5(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+u+h*Math.pow(10,s))*o)/o;let p=xi(n.max,f);return i.push({value:p,major:A5(p),significand:h}),i}var tM=class extends dc{static id="logarithmic";static defaults={ticks:{callback:Jp.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let i=kd.prototype.parse.apply(this,[e,t]);if(i===0){this._zero=!0;return}return Vt(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=Vt(e)?Math.max(0,e):null,this.max=Vt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vt(this._userMin)&&(this.min=e===uc(this.min,0)?uc(this.min,-1):uc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=t?r:a;i===r&&(i<=0?(s(1),o(10)):(s(uc(i,-1)),o(uc(r,1)))),i<=0&&s(uc(r,-1)),r<=0&&o(uc(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},i=jme(t,this);return e.bounds==="ticks"&&rk(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Sd(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=fo(e),this._valueRange=fo(this.max)-fo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function nM(n){let e=n.ticks;if(e.display&&n.display){let t=kn(e.backdropPadding);return Ee(e.font&&e.font.size,xt.font.size)+t.height}return 0}function $me(n,e,t){return t=St(t)?t:[t],{w:wz(n,e.string,t),h:t.length*e.lineHeight}}function M5(n,e,t,i,r){return n===i||n===r?{start:e-t/2,end:e+t/2}:n<i||n>r?{start:e-t,end:e}:{start:e,end:e+t}}function Hme(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Et/s:0;for(let l=0;l<s;l++){let c=o.setContext(n.getPointLabelContext(l));r[l]=c.padding;let u=n.getPointPosition(l,n.drawingArea+r[l],a),h=rn(c.font),f=$me(n.ctx,h,n._pointLabels[l]);i[l]=f;let p=vi(n.getIndexAngle(l)+a),g=Math.round(yx(p)),y=M5(g,u.x,f.w,0,180),v=M5(g,u.y,f.h,90,270);Ume(t,e,p,y,v)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=Gme(n,i,r)}function Ume(n,e,t,i,r){let s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,n.t=Math.min(n.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,n.b=Math.max(n.b,e.b+l))}function zme(n,e,t){let i=n.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=t,l=n.getPointPosition(e,i+r+o,s),c=Math.round(yx(vi(l.angle+Yt))),u=Xme(l.y,a.h,c),h=qme(c),f=Yme(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function Wme(n,e){if(!e)return!0;let{left:t,top:i,right:r,bottom:s}=n;return!(Ss({x:t,y:i},e)||Ss({x:t,y:s},e)||Ss({x:r,y:i},e)||Ss({x:r,y:s},e))}function Gme(n,e,t){let i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:nM(s)/2,additionalAngle:o?Et/r:0},c;for(let u=0;u<r;u++){l.padding=t[u],l.size=e[u];let h=zme(n,u,l);i.push(h),a==="auto"&&(h.visible=Wme(h,c),h.visible&&(c=h))}return i}function qme(n){return n===0||n===180?"center":n<180?"left":"right"}function Yme(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Xme(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function Kme(n,e,t){let{left:i,top:r,right:s,bottom:o}=t,{backdropColor:a}=e;if(!Be(a)){let l=ka(e.borderRadius),c=kn(e.backdropPadding);n.fillStyle=a;let u=i-c.left,h=r-c.top,f=s-i+c.width,p=o-r+c.height;Object.values(l).some(g=>g!==0)?(n.beginPath(),Ed(n,{x:u,y:h,w:f,h:p,radius:l}),n.fill()):n.fillRect(u,h,f,p)}}function Qme(n,e){let{ctx:t,options:{pointLabels:i}}=n;for(let r=e-1;r>=0;r--){let s=n._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(n.getPointLabelContext(r));Kme(t,o,s);let a=rn(o.font),{x:l,y:c,textAlign:u}=s;Aa(t,n._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function iW(n,e,t,i){let{ctx:r}=n;if(t)r.arc(n.xCenter,n.yCenter,e,0,It);else{let s=n.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function Zme(n,e,t,i,r){let s=n.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||t<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),iW(n,t,o,i),s.closePath(),s.stroke(),s.restore())}function Jme(n,e,t){return mo(n,{label:t,index:e,type:"pointLabel"})}var iM=class extends kd{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Jp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=kn(nM(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=Vt(e)&&!isNaN(e)?e:0,this.max=Vt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/nM(this.options))}generateTickLabels(e){kd.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{let r=vt(this.options.pointLabels.callback,[t,i],this);return r||r===0?r:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?Hme(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,r))}getIndexAngle(e){let t=It/(this._pointLabels.length||1),i=this.options.startAngle||0;return vi(e*t+sr(i))}getDistanceFromCenterForValue(e){if(Be(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Be(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let i=t[e];return Jme(this.getContext(),e,i)}}getPointPosition(e,t,i=0){let r=this.getIndexAngle(e)-Yt+i;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),iW(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:i,grid:r,border:s}=t,o=this._pointLabels.length,a,l,c;if(t.pointLabels.display&&Qme(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(h),p=r.setContext(f),g=s.setContext(f);Zme(this,p,l,o,g)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!t.reverse)return;let c=i.setContext(this.getContext(l)),u=rn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let h=kn(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Aa(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},Hx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wi=Object.keys(Hx);function P5(n,e){return n-e}function R5(n,e){if(Be(e))return null;let t=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),Vt(o)||(o=typeof i=="string"?t.parse(o,i):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(ac(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function O5(n,e,t,i){let r=wi.length;for(let s=wi.indexOf(n);s<r-1;++s){let o=Hx[wi[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=i)return wi[s]}return wi[r-1]}function ege(n,e,t,i,r){for(let s=wi.length-1;s>=wi.indexOf(t);s--){let o=wi[s];if(Hx[o].common&&n._adapter.diff(r,i,o)>=e-1)return o}return wi[t?wi.indexOf(t):0]}function tge(n){for(let e=wi.indexOf(n)+1,t=wi.length;e<t;++e)if(Hx[wi[e]].common)return wi[e]}function L5(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:i,hi:r}=_x(t,e),s=t[i]>=e?t[i]:t[r];n[s]=!0}}function nge(n,e,t,i){let r=n._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=t[a],l>=0&&(e[l].major=!0);return e}function N5(n,e,t){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!t?i:nge(n,i,r,t)}var rM=(()=>{class n extends dc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){let r=t.time||(t.time={}),s=this._adapter=new pfe._date(t.adapters.date);s.init(i),bd(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:R5(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,r=t.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Vt(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Vt(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],r=t[t.length-1]),{min:i,max:r}}buildTicks(){let t=this.options,i=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,l=gz(s,o,a);return this._unit=i.unit||(r.autoSkip?O5(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):ege(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:tge(this._unit),this.initOffsets(s),t.reverse&&l.reverse(),N5(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,r=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?i=1-s:i=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?r=o:r=(o-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;i=un(i,0,a),r=un(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let t=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||O5(o.minUnit,i,r,this._getLabelCapacity(i)),l=Ee(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=ac(c)||c===!0,h={},f=i,p,g;if(u&&(f=+t.startOf(f,"isoWeek",c)),f=+t.startOf(f,u?"day":a),t.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let y=s.ticks.source==="data"&&this.getDataTimestamps();for(p=f,g=0;p<r;p=+t.add(p,l,a),g++)L5(h,p,y);return(p===r||s.bounds==="ticks"||g===1)&&L5(h,p,y),Object.keys(h).sort(P5).map(v=>+v)}getLabelForValue(t){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(t,r.tooltipFormat):i.format(t,r.displayFormats.datetime)}format(t,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(t,a)}_tickFormatFunction(t,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return vt(a,[t,i,r],this);let l=o.time.displayFormats,c=this._unit,u=this._majorUnit,h=c&&l[c],f=u&&l[u],p=r[i],g=u&&f&&p&&p.major;return this._adapter.format(t,s||(g?f:h))}generateTickLabels(t){let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(t){let i=this._offsets,r=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,r=this.ctx.measureText(t).width,s=sr(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(t){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(t,0,N5(this,[t],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],i,r;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,r;if(t.length)return t;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)t.push(R5(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lk(t.sort(P5))}}return n})();function Px(n,e,t){let i=0,r=n.length-1,s,o,a,l;t?(e>=n[i].pos&&e<=n[r].pos&&({lo:i,hi:r}=Cs(n,"pos",e)),{pos:s,time:a}=n[i],{pos:o,time:l}=n[r]):(e>=n[i].time&&e<=n[r].time&&({lo:i,hi:r}=Cs(n,"time",e)),{time:s,pos:a}=n[i],{time:o,pos:l}=n[r]);let c=o-s;return c?a+(l-a)*(e-s)/c:a}var sM=class extends rM{static id="timeseries";static defaults=rM.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Px(t,this.min),this._tableRange=Px(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:i}=this,r=[],s=[],o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=i&&r.push(c);if(r.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){let e=this.min,t=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Px(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Px(this._table,i*this._tableRange+this._minPos,!0)}},ige=Object.freeze({__proto__:null,CategoryScale:Fme,LinearScale:eM,LogarithmicScale:tM,RadialLinearScale:iM,TimeScale:rM,TimeSeriesScale:sM}),rW=[ffe,Vpe,Rme,ige];var rge=typeof global=="object"&&global&&global.Object===Object&&global,Ux=rge;var sge=typeof self=="object"&&self&&self.Object===Object&&self,oge=Ux||sge||Function("return this")(),or=oge;var age=or.Symbol,Md=age;var sW=Object.prototype,lge=sW.hasOwnProperty,cge=sW.toString,pm=Md?Md.toStringTag:void 0;function uge(n){var e=lge.call(n,pm),t=n[pm];try{n[pm]=void 0;var i=!0}catch{}var r=cge.call(n);return i&&(e?n[pm]=t:delete n[pm]),r}var oW=uge;var dge=Object.prototype,hge=dge.toString;function fge(n){return hge.call(n)}var aW=fge;var pge="[object Null]",mge="[object Undefined]",lW=Md?Md.toStringTag:void 0;function gge(n){return n==null?n===void 0?mge:pge:lW&&lW in Object(n)?oW(n):aW(n)}var Oa=gge;function yge(n){return n!=null&&typeof n=="object"}var ks=yge;var _ge=Array.isArray,mm=_ge;function vge(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Ti=vge;function xge(n){return n}var zx=xge;var bge="[object AsyncFunction]",wge="[object Function]",Tge="[object GeneratorFunction]",Cge="[object Proxy]";function Sge(n){if(!Ti(n))return!1;var e=Oa(n);return e==wge||e==Tge||e==bge||e==Cge}var Pd=Sge;var Ege=or["__core-js_shared__"],Wx=Ege;var cW=function(){var n=/[^.]+$/.exec(Wx&&Wx.keys&&Wx.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Ige(n){return!!cW&&cW in n}var uW=Ige;var Dge=Function.prototype,Age=Dge.toString;function kge(n){if(n!=null){try{return Age.call(n)}catch{}try{return n+""}catch{}}return""}var dW=kge;var Mge=/[\\^$.*+?()[\]{}|]/g,Pge=/^\[object .+?Constructor\]$/,Rge=Function.prototype,Oge=Object.prototype,Lge=Rge.toString,Nge=Oge.hasOwnProperty,Fge=RegExp("^"+Lge.call(Nge).replace(Mge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vge(n){if(!Ti(n)||uW(n))return!1;var e=Pd(n)?Fge:Pge;return e.test(dW(n))}var hW=Vge;function Bge(n,e){return n?.[e]}var fW=Bge;function jge(n,e){var t=fW(n,e);return hW(t)?t:void 0}var Rd=jge;var pW=Object.create,$ge=function(){function n(){}return function(e){if(!Ti(e))return{};if(pW)return pW(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),mW=$ge;function Hge(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var gW=Hge;function Uge(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e}var yW=Uge;var zge=800,Wge=16,Gge=Date.now;function qge(n){var e=0,t=0;return function(){var i=Gge(),r=Wge-(i-t);if(t=i,r>0){if(++e>=zge)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var _W=qge;function Yge(n){return function(){return n}}var vW=Yge;var Xge=function(){try{var n=Rd(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Od=Xge;var Kge=Od?function(n,e){return Od(n,"toString",{configurable:!0,enumerable:!1,value:vW(e),writable:!0})}:zx,xW=Kge;var Qge=_W(xW),bW=Qge;var Zge=9007199254740991,Jge=/^(?:0|[1-9]\d*)$/;function eye(n,e){var t=typeof n;return e=e??Zge,!!e&&(t=="number"||t!="symbol"&&Jge.test(n))&&n>-1&&n%1==0&&n<e}var Gx=eye;function tye(n,e,t){e=="__proto__"&&Od?Od(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var Ld=tye;function nye(n,e){return n===e||n!==n&&e!==e}var La=nye;var iye=Object.prototype,rye=iye.hasOwnProperty;function sye(n,e,t){var i=n[e];(!(rye.call(n,e)&&La(i,t))||t===void 0&&!(e in n))&&Ld(n,e,t)}var wW=sye;function oye(n,e,t,i){var r=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=i?i(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),r?Ld(t,a,l):wW(t,a,l)}return t}var TW=oye;var CW=Math.max;function aye(n,e,t){return e=CW(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,s=CW(i.length-e,0),o=Array(s);++r<s;)o[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(o),gW(n,this,a)}}var SW=aye;function lye(n,e){return bW(SW(n,e,zx),n+"")}var EW=lye;var cye=9007199254740991;function uye(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=cye}var qx=uye;function dye(n){return n!=null&&qx(n.length)&&!Pd(n)}var Nd=dye;function hye(n,e,t){if(!Ti(t))return!1;var i=typeof e;return(i=="number"?Nd(t)&&Gx(e,t.length):i=="string"&&e in t)?La(t[e],n):!1}var IW=hye;function fye(n){return EW(function(e,t){var i=-1,r=t.length,s=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(r--,s):void 0,o&&IW(t[0],t[1],o)&&(s=r<3?void 0:s,r=1),e=Object(e);++i<r;){var a=t[i];a&&n(e,a,i,s)}return e})}var DW=fye;var pye=Object.prototype;function mye(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||pye;return n===t}var Yx=mye;function gye(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var AW=gye;var yye="[object Arguments]";function _ye(n){return ks(n)&&Oa(n)==yye}var lM=_ye;var kW=Object.prototype,vye=kW.hasOwnProperty,xye=kW.propertyIsEnumerable,bye=lM(function(){return arguments}())?lM:function(n){return ks(n)&&vye.call(n,"callee")&&!xye.call(n,"callee")},gm=bye;function wye(){return!1}var MW=wye;var OW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,PW=OW&&typeof module=="object"&&module&&!module.nodeType&&module,Tye=PW&&PW.exports===OW,RW=Tye?or.Buffer:void 0,Cye=RW?RW.isBuffer:void 0,Sye=Cye||MW,Xx=Sye;var Eye="[object Arguments]",Iye="[object Array]",Dye="[object Boolean]",Aye="[object Date]",kye="[object Error]",Mye="[object Function]",Pye="[object Map]",Rye="[object Number]",Oye="[object Object]",Lye="[object RegExp]",Nye="[object Set]",Fye="[object String]",Vye="[object WeakMap]",Bye="[object ArrayBuffer]",jye="[object DataView]",$ye="[object Float32Array]",Hye="[object Float64Array]",Uye="[object Int8Array]",zye="[object Int16Array]",Wye="[object Int32Array]",Gye="[object Uint8Array]",qye="[object Uint8ClampedArray]",Yye="[object Uint16Array]",Xye="[object Uint32Array]",At={};At[$ye]=At[Hye]=At[Uye]=At[zye]=At[Wye]=At[Gye]=At[qye]=At[Yye]=At[Xye]=!0;At[Eye]=At[Iye]=At[Bye]=At[Dye]=At[jye]=At[Aye]=At[kye]=At[Mye]=At[Pye]=At[Rye]=At[Oye]=At[Lye]=At[Nye]=At[Fye]=At[Vye]=!1;function Kye(n){return ks(n)&&qx(n.length)&&!!At[Oa(n)]}var LW=Kye;function Qye(n){return function(e){return n(e)}}var NW=Qye;var FW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ym=FW&&typeof module=="object"&&module&&!module.nodeType&&module,Zye=ym&&ym.exports===FW,cM=Zye&&Ux.process,Jye=function(){try{var n=ym&&ym.require&&ym.require("util").types;return n||cM&&cM.binding&&cM.binding("util")}catch{}}(),uM=Jye;var VW=uM&&uM.isTypedArray,e_e=VW?NW(VW):LW,Kx=e_e;var t_e=Object.prototype,n_e=t_e.hasOwnProperty;function i_e(n,e){var t=mm(n),i=!t&&gm(n),r=!t&&!i&&Xx(n),s=!t&&!i&&!r&&Kx(n),o=t||i||r||s,a=o?AW(n.length,String):[],l=a.length;for(var c in n)(e||n_e.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Gx(c,l)))&&a.push(c);return a}var BW=i_e;function r_e(n,e){return function(t){return n(e(t))}}var jW=r_e;function s_e(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var $W=s_e;var o_e=Object.prototype,a_e=o_e.hasOwnProperty;function l_e(n){if(!Ti(n))return $W(n);var e=Yx(n),t=[];for(var i in n)i=="constructor"&&(e||!a_e.call(n,i))||t.push(i);return t}var HW=l_e;function c_e(n){return Nd(n)?BW(n,!0):HW(n)}var Qx=c_e;var u_e=Rd(Object,"create"),_o=u_e;function d_e(){this.__data__=_o?_o(null):{},this.size=0}var UW=d_e;function h_e(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var zW=h_e;var f_e="__lodash_hash_undefined__",p_e=Object.prototype,m_e=p_e.hasOwnProperty;function g_e(n){var e=this.__data__;if(_o){var t=e[n];return t===f_e?void 0:t}return m_e.call(e,n)?e[n]:void 0}var WW=g_e;var y_e=Object.prototype,__e=y_e.hasOwnProperty;function v_e(n){var e=this.__data__;return _o?e[n]!==void 0:__e.call(e,n)}var GW=v_e;var x_e="__lodash_hash_undefined__";function b_e(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=_o&&e===void 0?x_e:e,this}var qW=b_e;function Fd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Fd.prototype.clear=UW;Fd.prototype.delete=zW;Fd.prototype.get=WW;Fd.prototype.has=GW;Fd.prototype.set=qW;var dM=Fd;function w_e(){this.__data__=[],this.size=0}var YW=w_e;function T_e(n,e){for(var t=n.length;t--;)if(La(n[t][0],e))return t;return-1}var Na=T_e;var C_e=Array.prototype,S_e=C_e.splice;function E_e(n){var e=this.__data__,t=Na(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():S_e.call(e,t,1),--this.size,!0}var XW=E_e;function I_e(n){var e=this.__data__,t=Na(e,n);return t<0?void 0:e[t][1]}var KW=I_e;function D_e(n){return Na(this.__data__,n)>-1}var QW=D_e;function A_e(n,e){var t=this.__data__,i=Na(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var ZW=A_e;function Vd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Vd.prototype.clear=YW;Vd.prototype.delete=XW;Vd.prototype.get=KW;Vd.prototype.has=QW;Vd.prototype.set=ZW;var Fa=Vd;var k_e=Rd(or,"Map"),Zx=k_e;function M_e(){this.size=0,this.__data__={hash:new dM,map:new(Zx||Fa),string:new dM}}var JW=M_e;function P_e(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var e6=P_e;function R_e(n,e){var t=n.__data__;return e6(e)?t[typeof e=="string"?"string":"hash"]:t.map}var Va=R_e;function O_e(n){var e=Va(this,n).delete(n);return this.size-=e?1:0,e}var t6=O_e;function L_e(n){return Va(this,n).get(n)}var n6=L_e;function N_e(n){return Va(this,n).has(n)}var i6=N_e;function F_e(n,e){var t=Va(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var r6=F_e;function Bd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Bd.prototype.clear=JW;Bd.prototype.delete=t6;Bd.prototype.get=n6;Bd.prototype.has=i6;Bd.prototype.set=r6;var s6=Bd;var V_e=jW(Object.getPrototypeOf,Object),Jx=V_e;var B_e="[object Object]",j_e=Function.prototype,$_e=Object.prototype,o6=j_e.toString,H_e=$_e.hasOwnProperty,U_e=o6.call(Object);function z_e(n){if(!ks(n)||Oa(n)!=B_e)return!1;var e=Jx(n);if(e===null)return!0;var t=H_e.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&o6.call(t)==U_e}var a6=z_e;function W_e(){this.__data__=new Fa,this.size=0}var l6=W_e;function G_e(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var c6=G_e;function q_e(n){return this.__data__.get(n)}var u6=q_e;function Y_e(n){return this.__data__.has(n)}var d6=Y_e;var X_e=200;function K_e(n,e){var t=this.__data__;if(t instanceof Fa){var i=t.__data__;if(!Zx||i.length<X_e-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new s6(i)}return t.set(n,e),this.size=t.size,this}var h6=K_e;function jd(n){var e=this.__data__=new Fa(n);this.size=e.size}jd.prototype.clear=l6;jd.prototype.delete=c6;jd.prototype.get=u6;jd.prototype.has=d6;jd.prototype.set=h6;var f6=jd;var y6=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p6=y6&&typeof module=="object"&&module&&!module.nodeType&&module,Q_e=p6&&p6.exports===y6,m6=Q_e?or.Buffer:void 0,g6=m6?m6.allocUnsafe:void 0;function Z_e(n,e){if(e)return n.slice();var t=n.length,i=g6?g6(t):new n.constructor(t);return n.copy(i),i}var _6=Z_e;var J_e=or.Uint8Array,hM=J_e;function eve(n){var e=new n.constructor(n.byteLength);return new hM(e).set(new hM(n)),e}var v6=eve;function tve(n,e){var t=e?v6(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var x6=tve;function nve(n){return typeof n.constructor=="function"&&!Yx(n)?mW(Jx(n)):{}}var b6=nve;function ive(n){return function(e,t,i){for(var r=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[n?a:++r];if(t(s[l],l,s)===!1)break}return e}}var w6=ive;var rve=w6(),T6=rve;function sve(n,e,t){(t!==void 0&&!La(n[e],t)||t===void 0&&!(e in n))&&Ld(n,e,t)}var _m=sve;function ove(n){return ks(n)&&Nd(n)}var C6=ove;function ave(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var vm=ave;function lve(n){return TW(n,Qx(n))}var S6=lve;function cve(n,e,t,i,r,s,o){var a=vm(n,t),l=vm(e,t),c=o.get(l);if(c){_m(n,t,c);return}var u=s?s(a,l,t+"",n,e,o):void 0,h=u===void 0;if(h){var f=mm(l),p=!f&&Xx(l),g=!f&&!p&&Kx(l);u=l,f||p||g?mm(a)?u=a:C6(a)?u=yW(a):p?(h=!1,u=_6(l,!0)):g?(h=!1,u=x6(l,!0)):u=[]:a6(l)||gm(l)?(u=a,gm(a)?u=S6(a):(!Ti(a)||Pd(a))&&(u=b6(l))):h=!1}h&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),_m(n,t,u)}var E6=cve;function I6(n,e,t,i,r){n!==e&&T6(e,function(s,o){if(r||(r=new f6),Ti(s))E6(n,e,o,t,I6,i,r);else{var a=i?i(vm(n,o),s,o+"",n,e,r):void 0;a===void 0&&(a=s),_m(n,o,a)}},Qx)}var D6=I6;var uve=DW(function(n,e,t){D6(n,e,t)}),eb=uve;var dve=(()=>{class n{constructor(){this.colorschemesOptions=new Kt(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k6=(()=>{class n{constructor(t,i,r){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new ce,this.chartHover=new ce,this.subs=[],this.themeOverrides={},this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(_g()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){let i=["type"],r=Object.getOwnPropertyNames(t);if(r.some(s=>i.includes(s))||r.every(s=>t[s].isFirstChange()))this.render();else{let s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new fm(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,i){this.chart&&(this.chart.getDatasetMeta(t).hidden=i,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return eb({onHover:(t,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:i}))},onClick:(t,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(t){return new(t||n)(H(_t),H(De),H(dve))},n.\u0275dir=it({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!1,features:[st]}),n})(),hve=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],fve={plugins:{colors:{enabled:!1}},datasets:{line:{backgroundColor:n=>Ba(ja(n.datasetIndex),.4),borderColor:n=>Ba(ja(n.datasetIndex),1),pointBackgroundColor:n=>Ba(ja(n.datasetIndex),1),pointBorderColor:"#fff"},bar:{backgroundColor:n=>Ba(ja(n.datasetIndex),.6),borderColor:n=>Ba(ja(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Ba(ja(n.dataIndex),.6),borderColor:"#fff"},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Ba(ja(n.dataIndex),.6),borderColor:n=>Ba(ja(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Ba(n,e){return"rgba("+n.concat(e).join(",")+")"}function fM(n,e){return Math.floor(Math.random()*(e-n+1))+n}function pve(){return[fM(0,255),fM(0,255),fM(0,255)]}function ja(n=0){return hve[n]||pve()}var A6=(()=>{class n{constructor(){this.generateColors=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();fm.register(...rW);var M6=(()=>{class n{constructor(t){t?.plugins&&fm.register(...t?.plugins);let i=eb(t?.generateColors?fve:{},t?.defaults||{});xt.set(i)}static forRoot(t){return{ngModule:n,providers:[{provide:A6,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(se(A6,8))},n.\u0275mod=He({type:n}),n.\u0275inj=$e({}),n})();function gve(n,e){if(n&1&&(w(0,"li"),L(1),S()),n&2){let t=e.$implicit;R(),eS(" ",t.name," (Stock: ",t.stock,", Reorder Level: ",t.reorderLevel,") ")}}function yve(n,e){if(n&1&&(w(0,"div",5)(1,"p",6),L(2,"\u26A0\uFE0F Low Stock Alert"),S(),w(3,"p"),L(4),S(),w(5,"ul",7),Q(6,gve,2,3,"li",8),S()()),n&2){let t=z();R(4),qe("",t.lowStockCount," item(s) need restocking:"),R(2),$("ngForOf",t.lowStockItems)}}function _ve(n,e){n&1&&(w(0,"div",9),L(1," \u2705 All inventory levels are healthy. "),S())}var tb=class n{lowStockItems=[];lowStockCount=0;close=new ce;closeModal(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-low-stock-modal"]],inputs:{lowStockItems:"lowStockItems",lowStockCount:"lowStockCount"},outputs:{close:"close"},standalone:!1,decls:6,vars:2,consts:[[1,"stock-notification","border-red-500","rounded","shadow"],[1,"close","d-flex"],[1,"text-red-500","hover:text-red-700","text-xl","font-bold","leading-none",3,"click"],["class","bg-red-100 border-l-4 text-red-700 p-4 mb-4",4,"ngIf"],["class","bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded shadow mb-4",4,"ngIf"],[1,"bg-red-100","border-l-4","text-red-700","p-4","mb-4"],[1,"font-semibold"],[1,"list-disc","list-inside","mt-2"],[4,"ngFor","ngForOf"],[1,"bg-green-100","border-l-4","border-green-500","text-green-700","p-4","rounded","shadow","mb-4"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"div",1)(2,"button",2),J("click",function(){return i.closeModal()}),L(3," \xD7 "),S()(),Q(4,yve,7,2,"div",3)(5,_ve,2,0,"div",4),S()),t&2&&(R(4),$("ngIf",i.lowStockItems.length>0),R(),$("ngIf",i.lowStockItems.length===0))},dependencies:[lt,ct],styles:[".close[_ngcontent-%COMP%]{justify-content:flex-end}.stock-notification[_ngcontent-%COMP%]{z-index:1000;background-color:#fff}[_nghost-%COMP%]{position:fixed;bottom:10px;right:1rem;z-index:10000;width:350px}"]})};var P6=()=>[475,300];function xve(n,e){if(n&1){let t=ot();w(0,"app-low-stock-modal",15),J("close",function(){ne(t);let r=z();return ie(r.onCloseModal())}),S()}if(n&2){let t=z();$("lowStockItems",t.lowStockItems)("lowStockCount",t.lowStockCount)}}var nb=class n{constructor(e,t,i){this.dashboardService=e;this.inventoryService=t;this.authService=i}inventory=[];orders=[];pendingOrders=0;inventoryChartData=[];orderStatusData=[];aiInventoryInsights=[];colorScheme="vivid";dailyUsageChartData=[];forecast=[];showWelcomeMessage=!0;showLowStockModal=!1;lowStockItems=[];lowStockCount=0;stockoutPredictions=[];barChartLabels=[];barChartData={labels:[],datasets:[]};barChartOptions={responsive:!0,plugins:{legend:{display:!0},tooltip:{enabled:!0}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Estimated Days Left"}},x:{title:{display:!0,text:"Item Name"}}}};sortKey="estimatedDaysLeft";sortChart(){this.stockoutPredictions.sort((e,t)=>(e[this.sortKey]??0)-(t[this.sortKey]??0)),this.updateChartData()}ngOnInit(){return E(this,null,function*(){this.authService.currentUser$.subscribe(e=>{e?(console.log("\u2705 Logged in:",e.uid),this.loadDashboardData()):console.log("\u274C Not logged in yet")})})}loadDashboardData(){this.inventoryService.getInventoryItems$().subscribe(e=>{this.inventory=e,this.lowStockItems=e.filter(t=>t.stock<=t.reorderLevel),this.lowStockCount=this.lowStockItems.length,this.lowStockCount>0&&(this.showLowStockModal=!0),this.inventoryChartData=this.inventory.map(t=>({name:t.name,value:t.stock})),this.dashboardService.getForecast().subscribe(t=>{t?.predictions&&(this.forecast=t.predictions)})}),this.dashboardService.getOrders().subscribe(e=>{this.orders=e,console.log("Orders data on dashboard:",e),this.pendingOrders=e.filter(i=>i.status==="pending").length;let t={};e.forEach(i=>{t[i.status]=(t[i.status]||0)+1}),this.orderStatusData=Object.keys(t).map(i=>({name:i,value:t[i]}))}),this.inventoryService.calculateStockoutRisk().then(e=>{this.stockoutPredictions=e,this.updateChartData()})}updateChartData(){let e=this.stockoutPredictions.filter(r=>r.estimatedDaysLeft!==null&&r.estimatedDaysLeft!==void 0),t=e.map(r=>r.name),i=e.map(r=>r.estimatedDaysLeft);console.log("\u2705 Filtered Labels:",t),console.log("\u2705 Filtered Data:",i),this.barChartData={labels:t,datasets:[{label:"Estimated Days Left",data:i,backgroundColor:"#42A5F5"}]}}onCloseModal(){this.showLowStockModal=!1}predictUsage(e){return E(this,null,function*(){let t=yield this.inventoryService.getOrderHistory(e),r=yield(yield fetch("http://localhost:5000/forecast",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productName:e,history:t})})).json();console.log("\u{1F4C8} Prediction Result:",r)})}static \u0275fac=function(t){return new(t||n)(H(_0),H(Rt),H(vs))};static \u0275cmp=de({type:n,selectors:[["app-dashboard"]],standalone:!1,decls:31,vars:29,consts:[[1,"stat-cards","d-flex","gap-4","mb-6"],[1,"stat-card","bg-white","p-4","rounded","shadow"],[1,"chart-section","d-flex"],[1,"charts-bar"],[1,"text-xl","font-semibold","mt-6","mb-2"],[1,"barchart","rounded","shadow"],[3,"view","scheme","results","gradient","xAxis","yAxis","legend","showDataLabel","animations"],[1,"charts-pie"],[1,"piechart","rounded","shadow"],[3,"view","scheme","results","legend","explodeSlices","labels","doughnut","animations"],["class","fixed bottom-4 right-4 z-50",3,"lowStockItems","lowStockCount","close",4,"ngIf"],[3,"ngModelChange","change","ngModel"],["value","estimatedDaysLeft"],["value","avgDailyConsumption"],["baseChart","",3,"data","labels","options","type"],[1,"fixed","bottom-4","right-4","z-50",3,"close","lowStockItems","lowStockCount"]],template:function(t,i){t&1&&(w(0,"h5"),L(1,"\u{1F4CB} Current System Status"),S(),w(2,"div",0)(3,"div",1),L(4),S(),w(5,"div",1),L(6),S(),w(7,"div",1),L(8),S(),w(9,"div",1),L(10),S()(),w(11,"div",2)(12,"div",3)(13,"h5",4),L(14,"\u{1F4E6} Inventory Stock Levels"),S(),w(15,"div",5),xe(16,"ngx-charts-bar-vertical",6),S()(),w(17,"div",7)(18,"h5",4),L(19,"\u{1F4C8} Order Status Overview"),S(),w(20,"div",8),xe(21,"ngx-charts-pie-chart",9),S()()(),Q(22,xve,1,2,"app-low-stock-modal",10),w(23,"h4"),L(24,"\u{1F4C9} Stockout Risk"),S(),w(25,"select",11),Xe("ngModelChange",function(s){return Je(i.sortKey,s)||(i.sortKey=s),s}),J("change",function(){return i.sortChart()}),w(26,"option",12),L(27,"Risk (Lowest First)"),S(),w(28,"option",13),L(29,"Consumption Rate"),S()(),xe(30,"canvas",14)),t&2&&(R(4),qe(" \u{1F4E6} Inventory Items: ",i.inventory.length," "),R(2),qe(" \u{1F53B} Low Stock Items: ",i.lowStockCount," "),R(2),qe(" \u{1F4EC} Orders: ",i.orders.length," "),R(2),qe(" \u23F3 Pending Orders: ",i.pendingOrders," "),R(6),$("view",ru(27,P6))("scheme",i.colorScheme)("results",i.inventoryChartData)("gradient",!1)("xAxis",!0)("yAxis",!0)("legend",!1)("showDataLabel",!0)("animations",!0),R(5),$("view",ru(28,P6))("scheme",i.colorScheme)("results",i.orderStatusData)("legend",!0)("explodeSlices",!1)("labels",!0)("doughnut",!1)("animations",!0),R(),$("ngIf",i.showLowStockModal),R(3),Ye("ngModel",i.sortKey),R(5),$("data",i.barChartData)("labels",i.barChartLabels)("options",i.barChartOptions)("type","bar"))},dependencies:[ct,Go,qo,ts,fn,on,jU,UU,k6,tb],styles:[".dashboard[_ngcontent-%COMP%]{padding:30px 40px 0;background-color:#ffecdb96;width:100%}.main-top[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.pie-chart[_ngcontent-%COMP%]{background-color:#fff}.main-card-chart[_ngcontent-%COMP%]{justify-content:space-between}.stats-grid[_ngcontent-%COMP%]{margin-top:20px;display:grid;grid-template-columns:repeat(auto-fit,minmax(60px,1fr));gap:20px;justify-content:space-around;width:70%}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2c2c3a;color:#fff;padding:5px 10px;border-radius:10px;border:none}.report[_ngcontent-%COMP%]{margin-left:20px}.chart-container[_ngcontent-%COMP%]{display:flex;flex-direction:row!important;align-items:center;padding:0;max-width:100%;margin-top:20px;background-color:#fff;border-radius:10px;justify-content:flex-end}.pie[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}  .ngx-charts{width:70%}  .ngx-charts text{font-size:12px;fill:#333}  .ngx-charts-legend{display:flex;flex-wrap:wrap;justify-content:center;margin-top:5px;max-width:80%;padding:0 10px}[_nghost-%COMP%]     .ngx-charts-legend-label{font-size:13px;margin:0 12px;white-space:nowrap;min-width:auto;text-align:left}  .ngx-charts-legend-item{display:flex;align-items:center}.stat-cards[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;justify-content:space-around}.piechart[_ngcontent-%COMP%]{box-shadow:#2c2c3a}.chart-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.stat-card[_ngcontent-%COMP%]{width:250px}"]})};var ib=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";onLogin(){this.authService.login(this.email,this.password).then(()=>this.router.navigate(["/dashboard"])).catch(e=>alert(e.message))}static \u0275fac=function(t){return new(t||n)(H(vs),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-login"]],standalone:!1,decls:24,vars:2,consts:[[1,"login-form","rounded","shadow"],[3,"ngSubmit"],[1,"label"],["for","email"],["name","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["for","password"],["name","password","type","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"login-button","rounded","text-white"],["routerLink","/register"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"h4"),L(2,"Login"),S(),w(3,"form",1),J("ngSubmit",function(){return i.onLogin()}),w(4,"tr")(5,"td",2)(6,"label",3),L(7,"Email: "),S()(),w(8,"td")(9,"input",4),Xe("ngModelChange",function(s){return Je(i.email,s)||(i.email=s),s}),S(),xe(10,"br"),S()(),w(11,"tr")(12,"td",2)(13,"label",5),L(14,"Password: "),S()(),w(15,"td")(16,"input",6),Xe("ngModelChange",function(s){return Je(i.password,s)||(i.password=s),s}),S(),xe(17,"br"),S()(),w(18,"button",7),L(19,"Login"),S()(),w(20,"p"),L(21,"Don't have an account? "),w(22,"a",8),L(23,"Register here"),S()()()),t&2&&(R(9),Ye("ngModel",i.email),R(7),Ye("ngModel",i.password))},dependencies:[gi,Ji,jn,fn,Zi,Ri,on,Pi],styles:[".login-form[_ngcontent-%COMP%]{padding:24px;background-color:#fff}.label[_ngcontent-%COMP%]{margin-right:20px;padding:10px 10px 10px 0}p[_ngcontent-%COMP%]{font-size:12px}.login-button[_ngcontent-%COMP%]{background-color:#36018b;margin-bottom:20px 0}"]})};var rb=class n{constructor(e,t){this.authService=e;this.router=t}email="";password="";onRegister(){this.authService.register(this.email,this.password).then(()=>{alert("Registration successful!"),this.router.navigate(["/dashboard"])}).catch(e=>alert("Registration error: "+e.message))}static \u0275fac=function(t){return new(t||n)(H(vs),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-register"]],standalone:!1,decls:22,vars:2,consts:[[1,"login-form","rounded","shadow"],[3,"ngSubmit"],[1,"label"],["for","email"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["for","password"],["name","password","type","password","placeholder","Password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"register-button","rounded","text-white"],["routerLink","/login"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"h4"),L(2,"Register"),S(),w(3,"form",1),J("ngSubmit",function(){return i.onRegister()}),w(4,"tr")(5,"td",2)(6,"label",3),L(7,"Email: "),S()(),w(8,"td")(9,"input",4),Xe("ngModelChange",function(s){return Je(i.email,s)||(i.email=s),s}),S()()(),w(10,"tr")(11,"td",2)(12,"label",5),L(13,"Password: "),S()(),w(14,"td")(15,"input",6),Xe("ngModelChange",function(s){return Je(i.password,s)||(i.password=s),s}),S()()(),w(16,"button",7),L(17," Register "),S()(),w(18,"p"),L(19,"Do you have an account? "),w(20,"a",8),L(21,"Login here"),S()()()),t&2&&(R(9),Ye("ngModel",i.email),R(6),Ye("ngModel",i.password))},dependencies:[gi,Ji,jn,fn,Zi,Ri,on,Pi],styles:[".login-form[_ngcontent-%COMP%]{padding:24px;background-color:#fff}.label[_ngcontent-%COMP%]{margin-right:20px;padding:10px 10px 10px 0}p[_ngcontent-%COMP%]{font-size:12px}.register-button[_ngcontent-%COMP%]{background-color:#36018b;margin-bottom:20px 0}"]})};function bve(n,e){if(n&1&&(w(0,"div",16),L(1),S()),n&2){let t=z();R(),be(t.errorMessage)}}function wve(n,e){n&1&&(w(0,"div",17),L(1," Name must contain only lowercase letters. "),S())}function Tve(n,e){if(n&1){let t=ot();w(0,"li",20),J("click",function(){let r=ne(t).$implicit,s=z(2);return ie(s.selectNameSuggestion(r))}),L(1),S()}if(n&2){let t=e.$implicit;R(),qe(" ",t," ")}}function Cve(n,e){if(n&1&&(w(0,"ul",18),Q(1,Tve,2,1,"li",19),S()),n&2){let t=z();R(),$("ngForOf",t.nameSuggestions)}}function Sve(n,e){if(n&1){let t=ot();w(0,"li",20),J("click",function(){let r=ne(t).$implicit,s=z(2);return ie(s.selectCategorySuggestion(r))}),L(1),S()}if(n&2){let t=e.$implicit;R(),qe(" ",t," ")}}function Eve(n,e){if(n&1&&(w(0,"ul",18),Q(1,Sve,2,1,"li",19),S()),n&2){let t=z();R(),$("ngForOf",t.categorySuggestions)}}var sb=class n{constructor(e,t){this.inventoryService=e;this.router=t}item={name:"",category:"",stock:0,reorderLevel:0,unitPrice:0};errorMessage="";inventoryItems=[];nameSuggestions=[];categorySuggestions=[];ngOnInit(){return E(this,null,function*(){this.inventoryItems=yield this.inventoryService.getItems()})}toLowerCaseName(){this.item.name&&(this.item.name=this.item.name.toLowerCase()),this.updateNameSuggestions()}onCategoryChange(){this.updateCategorySuggestions()}updateNameSuggestions(){let e=(this.item.name||"").toLowerCase().trim();if(!e){this.nameSuggestions=[];return}this.nameSuggestions=this.inventoryItems.map(t=>t.name).filter(t=>t.toLowerCase().startsWith(e)&&t.toLowerCase()!==e).slice(0,5)}updateCategorySuggestions(){let e=(this.item.category||"").toLowerCase().trim();if(!e){this.categorySuggestions=[];return}let t=Array.from(new Set(this.inventoryItems.map(i=>i.category)));this.categorySuggestions=t.filter(i=>i.toLowerCase().startsWith(e)&&i.toLowerCase()!==e).slice(0,5)}selectNameSuggestion(e){let t=this.inventoryItems.find(i=>i.name.toLowerCase()===e.toLowerCase());t&&(this.item.name=t.name,this.item.category=t.category,this.item.unitPrice=t.unitPrice,this.item.stock=t.stock,this.item.reorderLevel=t.reorderLevel),this.nameSuggestions=[]}selectCategorySuggestion(e){this.item.category=e,this.categorySuggestions=[]}addItem(){return E(this,null,function*(){if(!this.isValidItem())return;let e=yield this.inventoryService.getItemByName(this.item.name);if(e){let t=(e.stock||0)+(this.item.stock||0);yield this.inventoryService.updateItem(e.id,{stock:t}),this.errorMessage="",alert("Existing item stock updated successfully."),this.router.navigate(["/inventory"]);return}yield this.inventoryService.addItem(this.item),this.router.navigate(["/inventory"])})}isValidItem(){return this.errorMessage="",!this.item.name||!/^[a-z ]+$/.test(this.item.name)?(this.errorMessage="Name must contain only lowercase letters.",!1):!this.item.category||!this.item.category.trim()?(this.errorMessage="Category is required.",!1):this.item.stock==null||this.item.stock<0||this.item.unitPrice==null||this.item.unitPrice<0||this.item.reorderLevel==null||this.item.reorderLevel<0?(this.errorMessage="Stock, price, and reorder level must be non-negative numbers.",!1):!0}cancel(){this.router.navigate(["/inventory"])}static \u0275fac=function(t){return new(t||n)(H(Rt),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-add-inventory"]],standalone:!1,decls:46,vars:10,consts:[["itemForm","ngForm"],["nameInput","ngModel"],[1,"form-add-item","bg-white","space-y-4","col-6","rounded","shadow"],["novalidate","",3,"ngSubmit"],["class","text-red-500 mb-2",4,"ngIf"],["name","name","required","","pattern","^[a-z ]+$","placeholder","lowercase only","autocomplete","off",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm",4,"ngIf"],["class","suggestions-list border bg-white rounded shadow mt-1 max-h-40 overflow-auto",4,"ngIf"],["name","category","required","","autocomplete","off",3,"ngModelChange","ngModel"],["name","stock","type","number","required","","min","0",3,"ngModelChange","ngModel"],["type","number","name","unitPrice","required","","min","0",3,"ngModelChange","ngModel"],["name","reorderLevel","type","number","required","","min","0",3,"ngModelChange","ngModel"],[1,"add-cancel","w-100"],["type","button",1,"text-primary",3,"click"],[1,"mt-4"],["type","submit",1,"submit","text-white","px-6","py-2","rounded","bg-green-600","hover:bg-green-700",3,"disabled"],[1,"text-red-500","mb-2"],[1,"text-red-500","text-sm"],[1,"suggestions-list","border","bg-white","rounded","shadow","mt-1","max-h-40","overflow-auto"],["class","p-1 cursor-pointer hover:bg-blue-200",3,"click",4,"ngFor","ngForOf"],[1,"p-1","cursor-pointer","hover:bg-blue-200",3,"click"]],template:function(t,i){if(t&1){let r=ot();w(0,"h4"),L(1,"Add Inventory Items"),S(),w(2,"div",2)(3,"form",3,0),J("ngSubmit",function(){return ne(r),ie(i.addItem())}),Q(5,bve,2,1,"div",4),w(6,"tr")(7,"td")(8,"label"),L(9,"Name:"),S()(),w(10,"td")(11,"input",5,1),Xe("ngModelChange",function(o){return ne(r),Je(i.item.name,o)||(i.item.name=o),ie(o)}),J("ngModelChange",function(){return ne(r),ie(i.toLowerCaseName())}),S(),Q(13,wve,2,0,"div",6)(14,Cve,2,1,"ul",7),S()(),w(15,"tr")(16,"td")(17,"label"),L(18,"Category:"),S()(),w(19,"td")(20,"input",8),Xe("ngModelChange",function(o){return ne(r),Je(i.item.category,o)||(i.item.category=o),ie(o)}),J("ngModelChange",function(){return ne(r),ie(i.onCategoryChange())}),S(),Q(21,Eve,2,1,"ul",7),S()(),w(22,"tr")(23,"td")(24,"label"),L(25,"Stock:"),S()(),w(26,"td")(27,"input",9),Xe("ngModelChange",function(o){return ne(r),Je(i.item.stock,o)||(i.item.stock=o),ie(o)}),S()()(),w(28,"tr")(29,"td")(30,"label"),L(31,"Unit Price:"),S()(),w(32,"td")(33,"input",10),Xe("ngModelChange",function(o){return ne(r),Je(i.item.unitPrice,o)||(i.item.unitPrice=o),ie(o)}),S()()(),w(34,"tr")(35,"td")(36,"label"),L(37,"Reorder Level:"),S()(),w(38,"td")(39,"input",11),Xe("ngModelChange",function(o){return ne(r),Je(i.item.reorderLevel,o)||(i.item.reorderLevel=o),ie(o)}),S()()(),w(40,"div",12)(41,"p",13),J("click",function(){return ne(r),ie(i.cancel())}),L(42,"Cancel"),S(),w(43,"div",14)(44,"button",15),L(45," Add "),S()()()()()}if(t&2){let r=Qt(4),s=Qt(12);R(5),$("ngIf",i.errorMessage),R(6),Ye("ngModel",i.item.name),R(2),$("ngIf",s.invalid&&s.touched),R(),$("ngIf",i.nameSuggestions.length),R(6),Ye("ngModel",i.item.category),R(),$("ngIf",i.categorySuggestions.length),R(6),Ye("ngModel",i.item.stock),R(6),Ye("ngModel",i.item.unitPrice),R(6),Ye("ngModel",i.item.reorderLevel),R(5),$("disabled",r.invalid)}},dependencies:[lt,ct,Ji,jn,vr,fn,Zi,Ri,af,xr,on,Pi],styles:[".submit[_ngcontent-%COMP%]{background-color:#36018b;padding:10px 20px}.add-cancel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;text-align:center}.form-add-item[_ngcontent-%COMP%]{padding:24px}label[_ngcontent-%COMP%]{padding:5px 20px 5px 0}"]})};function Ive(n,e){if(n&1&&(w(0,"div",15),L(1),S()),n&2){let t=z();R(),be(t.errorMessage)}}function Dve(n,e){n&1&&(w(0,"div",16),L(1," Name must contain only lowercase letters. "),S())}var ob=class n{constructor(e,t,i){this.route=e;this.inventoryService=t;this.router=i}itemId;item={};errorMessage="";ngOnInit(){return E(this,null,function*(){this.itemId=this.route.snapshot.paramMap.get("id");let e=yield this.inventoryService.getItemById(this.itemId);e&&(this.item=e)})}updateItem(){return E(this,null,function*(){yield this.inventoryService.updateItem(this.itemId,this.item),this.router.navigate(["/inventory"])})}cancel(){this.router.navigate(["/inventory"])}toLowerCaseName(){this.item.name&&(this.item.name=this.item.name.toLowerCase())}static \u0275fac=function(t){return new(t||n)(H(Ni),H(Rt),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-edit-inventory"]],standalone:!1,decls:44,vars:8,consts:[["itemForm","ngForm"],["nameInput","ngModel"],[1,"form-add-item","bg-white","space-y-4","col-6","rounded","shadow"],["novalidate","",3,"ngSubmit"],["class","text-red-500 mb-2",4,"ngIf"],["name","name","required","","pattern","^[a-z ]+$","placeholder","lowercase only",3,"ngModelChange","ngModel"],["class","text-red-500 text-sm",4,"ngIf"],["name","category","required","",3,"ngModelChange","ngModel"],["name","stock","type","number","required","","min","0",3,"ngModelChange","ngModel"],["type","number","name","unitPrice","required","","min","0",3,"ngModelChange","ngModel"],["name","reorderLevel","type","number","required","","min","0",3,"ngModelChange","ngModel"],[1,"add-cancel","w-100"],["type","button",1,"text-primary",3,"click"],[1,"mt-4"],["type","submit",1,"submit","text-white","px-6","py-2","rounded","bg-green-600","hover:bg-green-700",3,"disabled"],[1,"text-red-500","mb-2"],[1,"text-red-500","text-sm"]],template:function(t,i){if(t&1){let r=ot();w(0,"h4"),L(1,"Edit Inventory Item"),S(),w(2,"div",2)(3,"form",3,0),J("ngSubmit",function(){return ne(r),ie(i.updateItem())}),Q(5,Ive,2,1,"div",4),w(6,"tr")(7,"td")(8,"label"),L(9,"Name:"),S()(),w(10,"td")(11,"input",5,1),Xe("ngModelChange",function(o){return ne(r),Je(i.item.name,o)||(i.item.name=o),ie(o)}),J("ngModelChange",function(){return ne(r),ie(i.toLowerCaseName())}),S(),Q(13,Dve,2,0,"div",6),S()(),w(14,"tr")(15,"td")(16,"label"),L(17,"Category:"),S()(),w(18,"td")(19,"input",7),Xe("ngModelChange",function(o){return ne(r),Je(i.item.category,o)||(i.item.category=o),ie(o)}),S()()(),w(20,"tr")(21,"td")(22,"label"),L(23,"Stock:"),S()(),w(24,"td")(25,"input",8),Xe("ngModelChange",function(o){return ne(r),Je(i.item.stock,o)||(i.item.stock=o),ie(o)}),S()()(),w(26,"tr")(27,"td")(28,"label"),L(29,"Unit Price:"),S()(),w(30,"td")(31,"input",9),Xe("ngModelChange",function(o){return ne(r),Je(i.item.unitPrice,o)||(i.item.unitPrice=o),ie(o)}),S()()(),w(32,"tr")(33,"td")(34,"label"),L(35,"Reorder Level:"),S()(),w(36,"td")(37,"input",10),Xe("ngModelChange",function(o){return ne(r),Je(i.item.reorderLevel,o)||(i.item.reorderLevel=o),ie(o)}),S()()(),w(38,"div",11)(39,"p",12),J("click",function(){return ne(r),ie(i.cancel())}),L(40,"Cancel"),S(),w(41,"div",13)(42,"button",14),L(43," Update "),S()()()()()}if(t&2){let r=Qt(4),s=Qt(12);R(5),$("ngIf",i.errorMessage),R(6),Ye("ngModel",i.item.name),R(2),$("ngIf",s.invalid&&s.touched),R(6),Ye("ngModel",i.item.category),R(6),Ye("ngModel",i.item.stock),R(6),Ye("ngModel",i.item.unitPrice),R(6),Ye("ngModel",i.item.reorderLevel),R(5),$("disabled",r.invalid)}},dependencies:[ct,Ji,jn,vr,fn,Zi,Ri,af,xr,on,Pi],styles:[".add-cancel[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline;text-align:center}.form-add-item[_ngcontent-%COMP%]{padding:24px}label[_ngcontent-%COMP%]{padding:5px 20px 5px 0}.submit[_ngcontent-%COMP%]{background-color:#36018b;padding:10px 20px}"]})};function Ave(n,e){if(n&1){let t=ot();w(0,"tr")(1,"td"),L(2),S(),w(3,"td"),L(4),S(),w(5,"td"),L(6),S(),w(7,"td"),L(8),S(),w(9,"td",4)(10,"button",5),J("click",function(){let r=ne(t).$implicit,s=z();return ie(s.editItem(r))}),L(11,"Edit"),S(),w(12,"button",5),J("click",function(){let r=ne(t).$implicit,s=z();return ie(s.deleteItem(r.id))}),L(13,"Delete"),S()()()}if(n&2){let t=e.$implicit;R(2),be(t.name),R(2),be(t.category),R(2),be(t.stock),R(2),be(t.reorderLevel)}}var ab=class n{constructor(e,t){this.inventoryService=e;this.router=t}items=[];ngOnInit(){return E(this,null,function*(){this.items=yield this.inventoryService.getItems()})}editItem(e){this.router.navigate(["/inventory/edit",e.id])}deleteItem(e){return E(this,null,function*(){confirm("Are you sure?")&&(yield this.inventoryService.deleteItem(e),this.items=this.items.filter(t=>t.id!==e))})}static \u0275fac=function(t){return new(t||n)(H(Rt),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-inventory-list"]],standalone:!1,decls:18,vars:1,consts:[[1,"head-section"],["routerLink","/inventory/add",1,"add-new"],[1,"w-100"],[4,"ngFor","ngForOf"],[1,"actions"],[3,"click"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"h4"),L(2,"Add Inventory Item"),S(),w(3,"button",1),L(4,"Add New"),S()(),w(5,"table",2)(6,"tr")(7,"th"),L(8,"Name"),S(),w(9,"th"),L(10,"Category"),S(),w(11,"th"),L(12,"Stock"),S(),w(13,"th"),L(14,"Reorder"),S(),w(15,"th"),L(16,"Actions"),S()(),Q(17,Ave,14,4,"tr",3),S()),t&2&&(R(17),$("ngForOf",i.items))},dependencies:[lt,gi],styles:[".actions[_ngcontent-%COMP%]{gap:10px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}th[_ngcontent-%COMP%]{background-color:#e1e1e1;color:#333;font-weight:600}td[_ngcontent-%COMP%]{background-color:#fff}button[_ngcontent-%COMP%]{margin-right:10px;padding:5px 10px;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:first-child{background-color:#4caf50;color:#fff}button[_ngcontent-%COMP%]:last-child{background-color:#f44336;color:#fff}.add-new[_ngcontent-%COMP%]{background-color:#36018b!important}.head-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}"]})};var $a=class n{constructor(e,t,i){this.firestore=e;this.auth=t;this.inventoryService=i}getUserId(){let e=this.auth.currentUser?.uid;if(!e)throw console.error("[getUserId] User not logged in"),new Error("User not logged in");return console.log("[getUserId] Logged-in UID:",e),e}addOrder(e){return E(this,null,function*(){let t=this.getUserId(),i=ei(this.firestore,"orders"),r=yield this.inventoryService.getItems(t);console.log("[addOrder] Inventory Items:",r);for(let s of e.items){let o=r.find(u=>u.id===s.productId);if(console.log(`[addOrder] Checking productId=${s.productId}`),!o)throw console.error(`[addOrder] Product not found: ${s.productId}`),new Error(`Product ${s.productName} not found in inventory`);let a=Number(o.stock),l=Number(s.quantity);console.log(`[addOrder] ${s.productName} stock=${a}, quantity=${l}`);let c=a-l;if(c<0)throw console.warn(`[addOrder] Insufficient stock for ${s.productName}`),new Error(`Insufficient stock for ${s.productName}`);yield this.inventoryService.updateItem(o.id,{stock:c})}console.log("[addOrder] Saving order:",fe(U({},e),{userId:t,orderDate:Pt.now(),status:"Pending"})),console.log("[addOrder] Order added for user:",t)})}getOrders(){return E(this,null,function*(){let e=this.getUserId(),t=ei(this.firestore,"orders"),i=Mr(t,ji("userId","==",e)),r=yield _s(i);return console.log("[getOrders] Found",r.docs.length,"orders for user:",e),r.docs.map(s=>U({id:s.id},s.data()))})}updateOrder(e,t){return E(this,null,function*(){let i=ys(this.firestore,"orders",e);yield vp(i,t),console.log("[updateOrder] Order updated:",e)})}deleteOrder(e){return E(this,null,function*(){let t=ys(this.firestore,"orders",e);yield g0(t),console.log("[deleteOrder] Order deleted:",e)})}getOrderById(e){return E(this,null,function*(){let t=ys(this.firestore,"orders",e),i=yield y0(t);return i.exists()?U({id:i.id},i.data()):null})}static \u0275fac=function(t){return new(t||n)(se(kr),se(Er),se(Rt))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})};function kve(n,e){n&1&&(w(0,"p",27),L(1," Product name is required. "),S())}function Mve(n,e){if(n&1){let t=ot();w(0,"li",30),J("click",function(){let r=ne(t).$implicit,s=z(2).index,o=z();return ie(o.selectSuggestion(s,r))}),L(1),S()}if(n&2){let t=e.$implicit;R(),qe(" ",t," ")}}function Pve(n,e){if(n&1&&(w(0,"ul",28),Q(1,Mve,2,1,"li",29),S()),n&2){let t=z().index,i=z();R(),$("ngForOf",i.suggestions[t])}}function Rve(n,e){n&1&&(w(0,"p",27),L(1," Quantity must be at least 1. "),S())}function Ove(n,e){n&1&&(w(0,"p",27),L(1," Price must be positive. "),S())}function Lve(n,e){if(n&1){let t=ot();w(0,"button",31),J("click",function(){ne(t);let r=z().index,s=z();return ie(s.removeItemRow(r))}),L(1," Remove "),S()}}function Nve(n,e){if(n&1){let t=ot();w(0,"div",17)(1,"tr",18)(2,"td")(3,"label",19),L(4,"Product Name"),S()(),w(5,"td")(6,"input",20,2),Xe("ngModelChange",function(r){let s=ne(t).$implicit;return Je(s.productName,r)||(s.productName=r),ie(r)}),J("input",function(){let r=ne(t).index,s=z();return ie(s.suggestProductNames(r))})("blur",function(){let r=ne(t).index,s=z();return ie(s.normalizeProductName(r))}),S(),Q(8,kve,2,0,"p",11)(9,Pve,2,1,"ul",21),S()(),w(10,"tr")(11,"td")(12,"label",19),L(13,"Quantity"),S()(),w(14,"td")(15,"input",22,3),Xe("ngModelChange",function(r){let s=ne(t).$implicit;return Je(s.quantity,r)||(s.quantity=r),ie(r)}),J("change",function(){ne(t);let r=z();return ie(r.onQuantityChange())}),S(),Q(17,Rve,2,0,"p",11),S()(),w(18,"tr")(19,"td")(20,"label",19),L(21,"Unit Price"),S()(),w(22,"td")(23,"input",23,4),Xe("ngModelChange",function(r){let s=ne(t).$implicit;return Je(s.unitPrice,r)||(s.unitPrice=r),ie(r)}),J("change",function(){ne(t);let r=z();return ie(r.onQuantityChange())}),S(),Q(25,Ove,2,0,"p",11),S()(),w(26,"tr",24)(27,"td")(28,"span",25),L(29),S()(),w(30,"td"),Q(31,Lve,2,0,"button",26),S()()()}if(n&2){let t=e.$implicit,i=e.index,r=Qt(7),s=Qt(16),o=Qt(24),a=z();R(6),Ws("name","productName",i,""),Ye("ngModel",t.productName),R(2),$("ngIf",r.invalid&&r.touched),R(),$("ngIf",a.suggestions[i]==null?null:a.suggestions[i].length),R(6),Ws("name","quantity",i,""),Ye("ngModel",t.quantity),R(2),$("ngIf",s.invalid&&s.touched),R(6),Ws("name","unitPrice",i,""),Ye("ngModel",t.unitPrice),R(2),$("ngIf",o.invalid&&o.touched),R(4),qe("Total: ",t.totalPrice,""),R(2),$("ngIf",a.items.length>1)}}function Fve(n,e){n&1&&(w(0,"p",27),L(1," Status is required. "),S())}var lb=class n{constructor(e,t,i,r){this.orderService=e;this.inventoryService=t;this.router=i;this.injector=r}items=[{productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0}];inventoryItems=[];suggestions=[];totalPrice=0;orderStatus="pending";ngOnInit(){console.log("AddOrderComponent loaded"),this.loadInventory(),this.initializeSuggestions()}loadInventory(){return E(this,null,function*(){this.inventoryItems=yield this.inventoryService.getItems()})}initializeSuggestions(){this.suggestions=this.items.map(()=>[])}addItemRow(){this.items.push({productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0}),this.suggestions.push([]),this.calculateTotal()}removeItemRow(e){this.items.splice(e,1),this.suggestions.splice(e,1),this.calculateTotal()}onProductChange(e){let t=this.inventoryItems.find(i=>i.id===this.items[e].productId);t&&(this.items[e].productName=t.name,this.items[e].unitPrice=t.unitPrice||0,this.items[e].totalPrice=this.items[e].unitPrice*this.items[e].quantity,this.calculateTotal())}onQuantityChange(){this.items.forEach(e=>{e.totalPrice=e.unitPrice*e.quantity}),this.calculateTotal()}calculateTotal(){this.totalPrice=this.items.reduce((e,t)=>e+t.totalPrice,0)}normalizeProductName(e){this.items[e].productName=this.items[e].productName.trim().toLowerCase()}suggestProductNames(e){let t=this.items[e].productName.toLowerCase().trim();if(!t){this.suggestions[e]=[];return}let i=this.inventoryItems.map(r=>r.name).filter(r=>r.toLowerCase().startsWith(t)&&r.toLowerCase()!==t);this.suggestions[e]=i.slice(0,5)}selectSuggestion(e,t){let i=this.inventoryItems.find(r=>r.name.toLowerCase()===t.toLowerCase());i&&(this.items[e].productName=i.name,this.items[e].productId=i.id,this.items[e].unitPrice=i.unitPrice||0,this.items[e].totalPrice=this.items[e].unitPrice*this.items[e].quantity,this.calculateTotal()),this.suggestions[e]=[]}addOrder(){return E(this,null,function*(){let t=yield this.injector.get(vs).getCurrentUser(),i=this.items.filter(o=>o.productId&&o.productName).map(o=>{let a=Number(o.quantity??0),l=Number(o.unitPrice??0);return{productId:o.productId,productName:o.productName,quantity:a,unitPrice:l,totalPrice:a*l}}),r=i.reduce((o,a)=>o+a.totalPrice,0),s={userId:t?.uid||"",items:i,totalPrice:r,status:this.orderStatus.trim().toLowerCase(),createdAt:Pt.now(),orderDate:Pt.now()};try{yield this.orderService.addOrder(s),this.router.navigate(["/orders"])}catch(o){o instanceof Error?alert(o.message):alert("An unexpected error occurred.")}})}static \u0275fac=function(t){return new(t||n)(H($a),H(Rt),H(ut),H(pt))};static \u0275cmp=de({type:n,selectors:[["app-add-order"]],standalone:!1,decls:27,vars:8,consts:[["orderForm","ngForm"],["orderStatusModel","ngModel"],["productName","ngModel"],["quantity","ngModel"],["unitPrice","ngModel"],[1,"text-xl","font-bold","mb-4"],[1,"order-form","space-y-4","col-6","rounded","shadow",3,"ngSubmit"],["class","",4,"ngFor","ngForOf"],[1,"block","text-sm","font-medium","mb-1"],["name","orderStatus","required","",1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","ngModel"],[3,"value"],["class","text-red-500 text-xs",4,"ngIf"],[1,"submit-section"],[1,"text-lg","font-semibold","mt-4"],[1,"add-submit"],["type","button",1,"bg-blue-500","text-white","px-4","py-2","rounded","hover:bg-blue-600",3,"click"],["type","submit",1,"mt-2","bg-green-600","text-white","px-6","py-2","rounded","hover:bg-green-700",3,"disabled"],[1,""],[1,"col-span-2","relative"],[1,"block","text-sm","font-medium"],["type","text","required","","placeholder","Enter product name",1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","input","blur","ngModel","name"],["class","absolute z-10 bg-white border mt-1 w-full max-h-32 overflow-y-auto rounded shadow",4,"ngIf"],["type","number","min","1","required","",1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","change","ngModel","name"],["type","number","min","0.01","required","","placeholder","Unit Price",1,"w-full","border","rounded","px-2","py-1",3,"ngModelChange","change","ngModel","name"],[1,"flex","flex-col","justify-between","items-start"],[1,"text-sm","font-semibold"],["type","button","class","text-red-600 text-sm hover:underline text-white px-6 mb-2 mt-2 rounded",3,"click",4,"ngIf"],[1,"text-red-500","text-xs"],[1,"absolute","z-10","bg-white","border","mt-1","w-full","max-h-32","overflow-y-auto","rounded","shadow"],["class","px-2 py-1 hover:bg-blue-100 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-2","py-1","hover:bg-blue-100","cursor-pointer",3,"click"],["type","button",1,"text-red-600","text-sm","hover:underline","text-white","px-6","mb-2","mt-2","rounded",3,"click"]],template:function(t,i){if(t&1){let r=ot();w(0,"h2",5),L(1,"Add New Order"),S(),w(2,"form",6,0),J("ngSubmit",function(){return ne(r),ie(i.addOrder())}),Q(4,Nve,32,15,"div",7),w(5,"div")(6,"td")(7,"label",8),L(8,"Order Status"),S()(),w(9,"td")(10,"select",9,1),Xe("ngModelChange",function(o){return ne(r),Je(i.orderStatus,o)||(i.orderStatus=o),ie(o)}),w(12,"option",10),L(13,"pending"),S(),w(14,"option",10),L(15,"shipped"),S(),w(16,"option",10),L(17,"completed"),S()()(),Q(18,Fve,2,0,"p",11),S(),w(19,"div",12)(20,"p",13),L(21),S(),w(22,"div",14)(23,"button",15),J("click",function(){return ne(r),ie(i.addItemRow())}),L(24," + Add Item "),S(),w(25,"button",16),L(26," Submit Order "),S()()()()}if(t&2){let r=Qt(3),s=Qt(11);R(4),$("ngForOf",i.items),R(6),Ye("ngModel",i.orderStatus),R(2),$("value","pending"),R(2),$("value","shipped"),R(2),$("value","completed"),R(2),$("ngIf",s.invalid&&s.touched),R(3),qe("Total Price: ",i.totalPrice,""),R(4),$("disabled",r.invalid)}},dependencies:[lt,ct,Ji,Go,qo,jn,vr,ts,fn,Zi,Ri,xr,on,Pi],styles:["button[_ngcontent-%COMP%]{background-color:#36018b}form[_ngcontent-%COMP%]{background-color:#fff}.add-submit[_ngcontent-%COMP%]{display:flex;justify-content:space-between}td[_ngcontent-%COMP%]{width:110px!important}.order-form[_ngcontent-%COMP%]{padding:24px}"]})};function Vve(n,e){if(n&1&&(w(0,"option",16),L(1),S()),n&2){let t=e.$implicit;$("value",t.id),R(),qe(" ",t.name," ")}}function Bve(n,e){if(n&1){let t=ot();w(0,"button",17),J("click",function(){ne(t);let r=z().index,s=z();return ie(s.removeItemRow(r))}),L(1," Remove "),S()}}function jve(n,e){if(n&1){let t=ot();w(0,"div")(1,"label"),L(2," Product: "),w(3,"select",5),Xe("ngModelChange",function(r){let s=ne(t).$implicit;return Je(s.productId,r)||(s.productId=r),ie(r)}),J("change",function(){let r=ne(t).index,s=z();return ie(s.onProductChange(r))}),w(4,"option",6),L(5,"Select product"),S(),Q(6,Vve,2,2,"option",7),S()(),w(7,"label"),L(8," Quantity: "),w(9,"input",8),Xe("ngModelChange",function(r){let s=ne(t).$implicit;return Je(s.quantity,r)||(s.quantity=r),ie(r)}),J("change",function(){ne(t);let r=z();return ie(r.onQuantityChange())}),S()(),w(10,"label"),L(11," Unit Price: "),w(12,"input",9),Xe("ngModelChange",function(r){let s=ne(t).$implicit;return Je(s.unitPrice,r)||(s.unitPrice=r),ie(r)}),J("change",function(){ne(t);let r=z();return ie(r.onQuantityChange())}),S()(),w(13,"label",10),L(14," Status: "),w(15,"select",11),Xe("ngModelChange",function(r){ne(t);let s=z();return Je(s.status,r)||(s.status=r),ie(r)}),w(16,"option",12),L(17,"pending"),S(),w(18,"option",13),L(19,"completed"),S(),w(20,"option",14),L(21,"shipped"),S()()(),w(22,"p"),L(23),ml(24,"number"),S(),Q(25,Bve,2,0,"button",15),xe(26,"hr"),S()}if(n&2){let t=e.$implicit,i=e.index,r=z();R(3),Ws("name","product",i,""),Ye("ngModel",t.productId),R(3),$("ngForOf",r.inventoryItems),R(3),Ws("name","quantity",i,""),Ye("ngModel",t.quantity),R(3),Ws("name","unitPrice",i,""),Ye("ngModel",t.unitPrice),R(3),Ye("ngModel",r.status),R(8),qe("Subtotal: ",su(24,13,t.quantity*t.unitPrice,"1.2-2"),""),R(2),$("ngIf",r.items.length>1)}}var cb=class n{constructor(e,t,i,r){this.route=e;this.orderService=t;this.inventoryService=i;this.router=r}orderId;items=[];totalPrice=0;inventoryItems=[];status="";userId="";ngOnInit(){return E(this,null,function*(){this.orderId=this.route.snapshot.paramMap.get("id"),this.inventoryItems=yield this.inventoryService.getItems();let e=yield this.orderService.getOrderById(this.orderId);e&&(this.userId=e.userId||"",this.items=e.items.map(t=>{let i=this.inventoryItems.find(r=>r.id===t.productId);return fe(U({},t),{unitPrice:i?.unitPrice||t.unitPrice,totalPrice:t.quantity*(i?.unitPrice||t.unitPrice)})}),this.totalPrice=this.items.reduce((t,i)=>t+i.totalPrice,0),this.status=e.status)})}addItemRow(){this.items.push({productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0})}removeItemRow(e){this.items.splice(e,1),this.items.length===0?this.totalPrice=0:this.calculateTotal()}onProductChange(e){let t=this.inventoryItems.find(i=>i.id===this.items[e].productId);t&&(this.items[e].productName=t.name,this.items[e].unitPrice=t.unitPrice||0,this.items[e].totalPrice=this.items[e].unitPrice*this.items[e].quantity,this.calculateTotal())}onQuantityChange(){this.items.forEach(e=>{e.totalPrice=e.quantity*e.unitPrice}),this.calculateTotal()}calculateTotal(){this.totalPrice=this.items.reduce((e,t)=>e+t.totalPrice,0)}validateOrder(){if(this.items.length===0)return alert("Order must contain at least one item."),!1;for(let e of this.items)if(!e.productId||e.quantity<=0)return alert("Please select a valid product and quantity for all items."),!1;return!0}updateOrder(){return E(this,null,function*(){if(this.validateOrder())try{let e={items:this.items,totalPrice:this.totalPrice,status:this.status,userId:this.userId};yield this.orderService.updateOrder(this.orderId,e),this.router.navigate(["/orders"])}catch(e){alert("Failed to update the order: "+(e instanceof Error?e.message:"Unknown error"))}})}static \u0275fac=function(t){return new(t||n)(H(Ni),H($a),H(Rt),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-edit-order"]],standalone:!1,decls:14,vars:4,consts:[[1,"form","bg-white"],[3,"ngSubmit"],[4,"ngFor","ngForOf"],["type","button",1,"bg-blue-500","text-white","px-4","py-2","rounded","hover:bg-blue-600",3,"click"],["type","submit",1,"rounded","text-white","px-4","py-2"],["required","",3,"ngModelChange","change","ngModel","name"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","number","min","1","required","",3,"ngModelChange","change","ngModel","name"],["type","number","min","0","required","",3,"ngModelChange","change","ngModel","name"],[1,""],["name","status",3,"ngModelChange","ngModel"],["value","pending"],["value","completed"],["value","shipped"],["type","button",3,"click",4,"ngIf"],[3,"value"],["type","button",3,"click"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"h4"),L(2,"Edit Order"),S(),w(3,"form",1),J("ngSubmit",function(){return i.updateOrder()}),Q(4,jve,27,16,"div",2),w(5,"button",3),J("click",function(){return i.addItemRow()}),L(6," Add Item "),S(),w(7,"p")(8,"strong"),L(9,"Total Price:"),S(),L(10),ml(11,"currency"),S(),w(12,"button",4),L(13," Update Order "),S()()()),t&2&&(R(4),$("ngForOf",i.items),R(6),qe(" ",uF(11,2,i.totalPrice),""))},dependencies:[lt,ct,Ji,Go,qo,jn,vr,ts,fn,Zi,Ri,xr,on,Pi,zh,yS],styles:[".form[_ngcontent-%COMP%]{padding:24px}label[_ngcontent-%COMP%]{padding:10px 20px 10px 0}button[_ngcontent-%COMP%]{background-color:#36018b}.status[_ngcontent-%COMP%]{padding-left:30px}"]})};function $ve(n,e){if(n&1){let t=ot();w(0,"tr")(1,"td"),L(2),S(),w(3,"td"),L(4),ml(5,"date"),S(),w(6,"td"),L(7),S(),w(8,"td"),L(9),S(),w(10,"td")(11,"button",4),J("click",function(){let r=ne(t).$implicit,s=z();return ie(s.viewOrder(r.id))}),L(12,"Edit"),S(),w(13,"button",4),J("click",function(){let r=ne(t).$implicit,s=z();return ie(s.deleteOrder(r.id))}),L(14,"Delete"),S()()()}if(n&2){let t=e.$implicit;R(2),be(t.id),R(2),be(su(5,4,t.orderDate==null?null:t.orderDate.toDate(),"short")),R(3),be(t.totalPrice),R(2),be(t.status)}}var ub=class n{constructor(e,t){this.orderService=e;this.router=t}orders=[];ngOnInit(){return E(this,null,function*(){this.orders=yield this.orderService.getOrders()})}viewOrder(e){this.router.navigate(["/orders/edit",e])}deleteOrder(e){return E(this,null,function*(){confirm("Are you sure to delete this order?")&&(yield this.orderService.deleteOrder(e),this.orders=this.orders.filter(t=>t.id!==e))})}static \u0275fac=function(t){return new(t||n)(H($a),H(ut))};static \u0275cmp=de({type:n,selectors:[["app-order-list"]],standalone:!1,decls:18,vars:1,consts:[[1,"orders-head","d-flex"],["routerLink","/add-order",1,"add-new"],[1,"w-100"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"h2"),L(2,"Orders List"),S(),w(3,"button",1),L(4,"Add New"),S()(),w(5,"table",2)(6,"tr")(7,"th"),L(8,"Order ID"),S(),w(9,"th"),L(10,"Date"),S(),w(11,"th"),L(12,"Total Price"),S(),w(13,"th"),L(14,"Status"),S(),w(15,"th"),L(16,"Actions"),S()(),Q(17,$ve,15,7,"tr",3),S()),t&2&&(R(17),$("ngForOf",i.orders))},dependencies:[lt,gi,gS],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:left}th[_ngcontent-%COMP%]{background-color:#f4f4f4;color:#333;font-weight:600}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#fafafa}tr[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}button[_ngcontent-%COMP%]{margin-right:5px;padding:5px 10px;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:first-child{background-color:#4caf50;color:#fff}button[_ngcontent-%COMP%]:last-child{background-color:#f44336;color:#fff}.orders-head[_ngcontent-%COMP%]{justify-content:space-between;margin-bottom:20px}.add-new[_ngcontent-%COMP%]{background-color:#36018b!important}"]})};function Hve(n,e){if(n&1&&(w(0,"option",12),L(1),S()),n&2){let t=e.$implicit;$("value",t),R(),qe(" ",t," ")}}function Uve(n,e){if(n&1&&(w(0,"tr",13)(1,"td"),L(2),S(),w(3,"td"),L(4),S(),w(5,"td"),L(6),S(),w(7,"td",14),L(8),S()()),n&2){let t,i=e.$implicit;$("ngClass",i.risk.toLowerCase()),R(2),be(i.name),R(2),be(i.stock),R(2),be((t=i.estimatedDaysLeft)!==null&&t!==void 0?t:"Unknown"),R(2),be(i.risk)}}var db=class n{constructor(e){this.inventoryService=e}stockRisks=[];filtered=[];categoryFilter="";sortBy="daysLeft";uniqueCategories=[];ngOnInit(){return E(this,null,function*(){this.stockRisks=yield this.inventoryService.calculateStockoutRisk(),this.extractUniqueCategories(),this.applyFilter()})}extractUniqueCategories(){let e=this.stockRisks.map(t=>t.category).filter(Boolean);this.uniqueCategories=[...new Set(e)]}applyFilter(){this.filtered=this.stockRisks.filter(e=>!this.categoryFilter||e.category===this.categoryFilter).sort((e,t)=>this.sortBy==="daysLeft"?(e.estimatedDaysLeft??9999)-(t.estimatedDaysLeft??9999):e.name.localeCompare(t.name))}static \u0275fac=function(t){return new(t||n)(H(Rt))};static \u0275cmp=de({type:n,selectors:[["app-forecast"]],standalone:!1,decls:27,vars:4,consts:[[1,"filters"],["for","categoryFilter"],["id","categoryFilter",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","sortBy"],["id","sortBy",3,"ngModelChange","change","ngModel"],["value","daysLeft"],["value","name"],["aria-label","Inventory Forecast",1,"forecast-table"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"value"],[3,"ngClass"],[1,"risk-level"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"label",1),L(2," Filter by category: "),w(3,"select",2),Xe("ngModelChange",function(s){return Je(i.categoryFilter,s)||(i.categoryFilter=s),s}),J("change",function(){return i.applyFilter()}),w(4,"option",3),L(5,"All"),S(),Q(6,Hve,2,2,"option",4),S()(),w(7,"label",5),L(8," Sort by: "),w(9,"select",6),Xe("ngModelChange",function(s){return Je(i.sortBy,s)||(i.sortBy=s),s}),J("change",function(){return i.applyFilter()}),w(10,"option",7),L(11,"Days Left"),S(),w(12,"option",8),L(13,"Name"),S()()()(),w(14,"table",9)(15,"thead")(16,"tr")(17,"th",10),L(18,"Item Name"),S(),w(19,"th",10),L(20,"Stock"),S(),w(21,"th",10),L(22,"Days Left"),S(),w(23,"th",10),L(24,"Risk Level"),S()()(),w(25,"tbody"),Q(26,Uve,9,5,"tr",11),S()()),t&2&&(R(3),Ye("ngModel",i.categoryFilter),R(3),$("ngForOf",i.uniqueCategories),R(3),Ye("ngModel",i.sortBy),R(17),$("ngForOf",i.filtered))},dependencies:[yl,lt,Go,qo,ts,fn,on],styles:[".filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1.5rem;margin-bottom:1.5rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:1rem}.filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:600;color:#333}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:.4rem;padding:.35rem .6rem;font-size:1rem;border:1.5px solid #ccc;border-radius:6px;transition:border-color .3s ease}.filters[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#42a5f5;outline:none}.forecast-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;box-shadow:0 0 15px #0000000d}.forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:left;border-bottom:1px solid #e0e0e0;vertical-align:middle}.forecast-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#42a5f5;color:#fff;font-weight:700}.forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f9ff;cursor:pointer}.forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.low[_ngcontent-%COMP%]{background-color:#e0ffe2;color:#000;font-weight:600}.forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.medium[_ngcontent-%COMP%]{background-color:#fffde7;color:#000;font-weight:600}.forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.high[_ngcontent-%COMP%]{background-color:#ffebee;color:#000;font-weight:700}.risk-level[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.05em}@media (max-width: 768px){.filters[_ngcontent-%COMP%]{flex-direction:column}.forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem .7rem}}"]})};var zve=(n,e)=>({badge:!0,"badge-green":n,"badge-red":e});function Wve(n,e){if(n&1&&(w(0,"tr")(1,"td"),L(2),S(),w(3,"td"),L(4),S(),w(5,"td"),L(6),S(),w(7,"td"),L(8),ml(9,"number"),S(),w(10,"td"),L(11),S(),w(12,"td"),L(13),S(),w(14,"td"),L(15),S(),w(16,"td")(17,"span",6),L(18),S()()()),n&2){let t=e.$implicit;R(2),be(t.name),R(2),be(t.category),R(2),be(t.stock),R(2),be(su(9,9,t.avgDailyConsumption,"1.1-2")),R(3),be(t.leadTime),R(2),be(t.expectedUsage),R(2),be(t.reorderQuantity),R(2),$("ngClass",Fh(12,zve,!t.needsReorder,t.needsReorder)),R(),qe(" ",t.needsReorder?"Reorder Needed":"Sufficient"," ")}}var hb=class n{constructor(e){this.inventoryService=e}reorderSuggestions=[];leadTime=7;ngOnInit(){return E(this,null,function*(){yield this.loadData()})}loadData(){return E(this,null,function*(){this.reorderSuggestions=yield this.inventoryService.calculateReorderSuggestions(this.leadTime)})}static \u0275fac=function(t){return new(t||n)(H(Rt))};static \u0275cmp=de({type:n,selectors:[["app-reorder"]],standalone:!1,decls:28,vars:2,consts:[[1,"reorder-container"],[1,"filter-bar"],["for","leadTime"],["type","number","id","leadTime","min","1",3,"ngModelChange","change","ngModel"],[1,"reorder-table"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,i){t&1&&(w(0,"div",0)(1,"h4"),L(2,"Reorder Quantity Suggestions"),S(),w(3,"div",1)(4,"label",2),L(5,"Lead Time (days):"),S(),w(6,"input",3),Xe("ngModelChange",function(s){return Je(i.leadTime,s)||(i.leadTime=s),s}),J("change",function(){return i.loadData()}),S()(),w(7,"table",4)(8,"thead")(9,"tr")(10,"th"),L(11,"Item"),S(),w(12,"th"),L(13,"Category"),S(),w(14,"th"),L(15,"Current Stock"),S(),w(16,"th"),L(17,"Avg Daily Consumption"),S(),w(18,"th"),L(19,"Lead Time"),S(),w(20,"th"),L(21,"Expected Usage"),S(),w(22,"th"),L(23,"Suggested Reorder Qty"),S(),w(24,"th"),L(25,"Status"),S()()(),w(26,"tbody"),Q(27,Wve,19,15,"tr",5),S()()()),t&2&&(R(6),Ye("ngModel",i.leadTime),R(21),$("ngForOf",i.reorderSuggestions))},dependencies:[yl,lt,jn,vr,fn,xr,on,zh],styles:[".reorder-container[_ngcontent-%COMP%]{max-width:1000px;margin:1.5rem auto;padding:1rem 1.5rem;background:#fff;box-shadow:0 2px 10px #00000014;border-radius:8px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.reorder-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#222;margin-bottom:1rem}.filter-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:1.25rem}.filter-bar[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555}.lead-time-input[_ngcontent-%COMP%]{width:80px;padding:.3rem .5rem;font-size:1rem;border:1px solid #bbb;border-radius:4px;transition:border-color .3s ease}.lead-time-input[_ngcontent-%COMP%]:focus{border-color:#0288d1;outline:none;box-shadow:0 0 5px #0288d166}.reorder-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.9rem;color:#333}.reorder-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;font-weight:600;letter-spacing:.05em}.reorder-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .reorder-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;border-bottom:1px solid #ddd;text-align:left}.reorder-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e3f2fd;transition:background-color .25s ease}.badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:12px;font-weight:600;font-size:.85rem;display:inline-block;text-align:center;white-space:nowrap}.badge-green[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.badge-red[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}"]})};function Gve(n,e){if(n&1&&(w(0,"tr")(1,"td"),L(2),S(),w(3,"td"),L(4),S()()),n&2){let t=e.$implicit;R(2),be(t.name),R(2),be(t.nextWeekQty)}}var fb=class n{constructor(e){this.inventoryService=e}nextWeekForecast=[];ngOnInit(){return E(this,null,function*(){this.nextWeekForecast=yield this.inventoryService.forecastNextWeekRequirements()})}static \u0275fac=function(t){return new(t||n)(H(Rt))};static \u0275cmp=de({type:n,selectors:[["app-next-week-inventory"]],standalone:!1,decls:11,vars:1,consts:[[1,"forecast-table"],[4,"ngFor","ngForOf"]],template:function(t,i){t&1&&(w(0,"h4"),L(1,"\u{1F4E6} Next Week's Inventory Forecast"),S(),w(2,"table",0)(3,"thead")(4,"tr")(5,"th"),L(6,"Product"),S(),w(7,"th"),L(8,"Expected Quantity"),S()()(),w(9,"tbody"),Q(10,Gve,5,2,"tr",1),S()()),t&2&&(R(10),$("ngForOf",i.nextWeekForecast))},dependencies:[lt],styles:[".forecast-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin-top:1rem;box-shadow:0 2px 5px #0000001a;background-color:#fff;border-radius:6px;overflow:hidden}.forecast-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#0288d1;color:#fff;font-weight:600;letter-spacing:.05em}.forecast-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .forecast-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 18px;text-align:left;border-bottom:1px solid #e0e0e0}.forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#e3f2fd;transition:background-color .25s ease}.forecast-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}h2[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:700;margin-bottom:.8rem;color:#333}"]})};function qve(n,e){if(n&1&&(w(0,"tr")(1,"td"),L(2),S(),w(3,"td"),L(4),S(),w(5,"td"),L(6),S(),w(7,"td")(8,"span",2),L(9),S()()()),n&2){let t=e.$implicit;R(2),be(t.name),R(2),be(t.category),R(2),be(t.soldQty),R(2),$("ngClass",t.demand.toLowerCase()),R(),qe(" ",t.demand," ")}}var pb=class n{constructor(e){this.inventoryService=e}demandData=[];loadDemandData(){return E(this,null,function*(){this.demandData=yield this.inventoryService.getDemandLevels()})}ngOnInit(){this.loadDemandData()}static \u0275fac=function(t){return new(t||n)(H(Rt))};static \u0275cmp=de({type:n,selectors:[["app-demand-forecast"]],standalone:!1,decls:15,vars:1,consts:[[1,"demand-table"],[4,"ngFor","ngForOf"],[1,"demand-label",3,"ngClass"]],template:function(t,i){t&1&&(w(0,"h2"),L(1,"Demand Levels"),S(),w(2,"table",0)(3,"thead")(4,"tr")(5,"th"),L(6,"Item"),S(),w(7,"th"),L(8,"Category"),S(),w(9,"th"),L(10,"Sold Qty"),S(),w(11,"th"),L(12,"Demand"),S()()(),w(13,"tbody"),Q(14,qve,10,5,"tr",1),S()()),t&2&&(R(14),$("ngForOf",i.demandData))},dependencies:[yl,lt],styles:[".demand-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin-top:1rem;box-shadow:0 2px 6px #0000001a}.demand-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .demand-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;text-align:left;border-bottom:1px solid #e0e0e0}.demand-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;font-weight:600;letter-spacing:.05em}.demand-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5faff;transition:background-color .3s ease}.demand-label[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;font-weight:600;border-radius:12px;color:#fff;font-size:.9rem;text-transform:capitalize}.demand-label.low[_ngcontent-%COMP%]{background-color:#43a047}.demand-label.medium[_ngcontent-%COMP%]{background-color:#fbc02d;color:#444}.demand-label.high[_ngcontent-%COMP%]{background-color:#e53935}.demand-label.unknown[_ngcontent-%COMP%]{background-color:#9e9e9e}"]})};var Yve=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:ib},{path:"register",component:rb},{path:"dashboard",component:nb},{path:"inventory",component:ab},{path:"inventory/add",component:sb},{path:"inventory/edit/:id",component:ob},{path:"orders",component:ub},{path:"add-order",component:lb},{path:"orders/edit/:id",component:cb},{path:"stock-out",component:db},{path:"reorder",component:hb},{path:"nextweek-requirement",component:fb},{path:"demand-forecast",component:pb}],mb=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=He({type:n});static \u0275inj=$e({imports:[F_.forRoot(Yve),F_]})};var gb=class n{constructor(e){this.router=e;this.router.events.subscribe(t=>{if(t instanceof Tn){let i=t.urlAfterRedirects.split("/")[1];this.currentPage=this.formatPageName(i)}})}currentPage="";formatPageName(e){return e?e.charAt(0).toUpperCase()+e.slice(1):"Dashboard"}static \u0275fac=function(t){return new(t||n)(H(ut))};static \u0275cmp=de({type:n,selectors:[["app-navbar"]],standalone:!1,decls:9,vars:1,consts:[[1,"nav-bar"],[1,"page"],[1,"navbar-icons"],[1,"notifications"],[1,"fa-solid","fa-bell"],[1,"profile"],["src","assets/Images/profile.jpg","alt","Profile"]],template:function(t,i){t&1&&(w(0,"nav",0)(1,"div",1)(2,"h4"),L(3),S()(),w(4,"div",2)(5,"div",3),xe(6,"i",4),S(),w(7,"div",5),xe(8,"img",6),S()()()),t&2&&(R(3),be(i.currentPage))},styles:[".nav-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 30px;position:fixed;box-shadow:0 4px 6px -1px #0000001a;background-color:#fff;margin-left:220px;width:83%}.brand-name[_ngcontent-%COMP%]{color:#36018b}.search[_ngcontent-%COMP%]{border:none}.search-bar[_ngcontent-%COMP%]{border:1px solid #a9a8a8;height:fit-content;padding:5px 10px;border-radius:25px;margin-left:10px}.profile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-left:30px;width:30px;height:30px;border-radius:100%;object-fit:cover}.notifications[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}.navbar-icons[_ngcontent-%COMP%]{display:flex;align-items:center}"]})};var Kve=()=>({exact:!0});function Qve(n,e){n&1&&(w(0,"ul",14)(1,"li",15)(2,"a",16),L(3,"Stockout Risk"),S()(),w(4,"li",15)(5,"a",17),L(6,"Reorder Suggestion"),S()(),w(7,"li",15)(8,"a",18),L(9,"Next Week Requirement"),S()(),w(10,"li",15)(11,"a",19),L(12,"Demand Analysis"),S()()())}var yb=class n{showInsights=!1;toggleInsights(){this.showInsights=!this.showInsights}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-side-bar"]],standalone:!1,decls:24,vars:3,consts:[[1,"sidebar"],["routerLink","/dashboard"],[1,"brand-name"],["routerLinkActive","active-link",3,"routerLinkActiveOptions"],[1,"fa-solid","fa-house"],["routerLinkActive","active-link"],["routerLink","/inventory"],[1,"fa-solid","fa-box"],["routerLink","/orders"],[1,"fa-solid","fa-clipboard-list"],["href","#",3,"click"],[1,"fa-solid","fa-chart-line"],[1,"fa","fa-caret-down",2,"float","right"],["class","ai-insights-ul",4,"ngIf"],[1,"ai-insights-ul"],[1,"ai-insights"],["routerLink","stock-out","routerLinkActive","active-link"],["routerLink","reorder","routerLinkActive","active-link"],["routerLink","nextweek-requirement","routerLinkActive","active-link"],["routerLink","demand-forecast","routerLinkActive","active-link"]],template:function(t,i){t&1&&(w(0,"nav",0)(1,"a",1)(2,"div",2)(3,"h4"),L(4,"INVENTRIA"),S()()(),w(5,"ul")(6,"li",3)(7,"a",1),xe(8,"i",4),L(9," Dashboard"),S()(),w(10,"li",5)(11,"a",6),xe(12,"i",7),L(13," Inventory"),S()(),w(14,"li",5)(15,"a",8),xe(16,"i",9),L(17," Orders"),S()(),w(18,"li")(19,"a",10),J("click",function(s){return i.toggleInsights(),s.preventDefault()}),xe(20,"i",11),L(21," AI Insights "),xe(22,"i",12),S()(),Q(23,Qve,13,0,"ul",13),S()()),t&2&&(R(6),$("routerLinkActiveOptions",ru(2,Kve)),R(17),$("ngIf",i.showInsights))},dependencies:[ct,gi,aE],styles:[".sidebar[_ngcontent-%COMP%]{height:100vh;width:auto;background-color:none;color:#0c0c0c;top:0;left:0;padding-top:10px;position:fixed;padding-left:30px}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:none}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:40px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 40px;cursor:pointer;display:flex;align-items:center;margin-top:10px}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active-link[_ngcontent-%COMP%]{background-color:#36018b;color:#fff;border-radius:5px;font-weight:600}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#36018b;border-radius:5px;color:#fff}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.sidebar[_ngcontent-%COMP%]   .ai-insights[_ngcontent-%COMP%]{font-size:12px!important;padding:10px!important;max-width:160px}.sidebar[_ngcontent-%COMP%]   .ai-insights-ul[_ngcontent-%COMP%]{margin:0!important}"]})};function Jve(n,e){n&1&&xe(0,"app-navbar")}function e0e(n,e){n&1&&xe(0,"app-side-bar")}function t0e(n,e){n&1&&(w(0,"div",3),xe(1,"app-navbar")(2,"app-side-bar"),w(3,"div",4),xe(4,"router-outlet"),S()())}function n0e(n,e){n&1&&(w(0,"div",5),xe(1,"router-outlet"),S())}var _b=class n{constructor(e){this.router=e;this.router.events.pipe(_n(t=>t instanceof Tn)).subscribe(t=>{let i=["/login","/register"];this.showLayout=!i.includes(t.urlAfterRedirects)})}title="inventory-app";showLayout=!0;static \u0275fac=function(t){return new(t||n)(H(ut))};static \u0275cmp=de({type:n,selectors:[["app-root"]],standalone:!1,decls:5,vars:4,consts:[["fullScreenContent",""],[4,"ngIf"],["class","app-layout",4,"ngIf","ngIfElse"],[1,"app-layout"],[1,"main-content"],[1,"full-screen"]],template:function(t,i){if(t&1&&Q(0,Jve,1,0,"app-navbar",1)(1,e0e,1,0,"app-side-bar",1)(2,t0e,5,0,"div",2)(3,n0e,2,0,"ng-template",null,0,gl),t&2){let r=Qt(4);$("ngIf",i.showLayout),R(),$("ngIf",i.showLayout),R(),$("ngIf",i.showLayout)("ngIfElse",r)}},dependencies:[ct,wf,gb,yb],styles:[".main-content[_ngcontent-%COMP%]{margin-left:220px;padding:75px 30px 30px;background-color:#f5f5f5;min-height:100vh}.full-screen[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f5f5f5}"]})};var R6={production:!1,firebaseConfig:{apiKey:"AIzaSyBiFHTcgZ-3LGUg_oFD0lsOX_nSp8bPgrQ",authDomain:"inventory-manager-3a6c5.firebaseapp.com",databaseURL:"https://inventory-manager-3a6c5-default-rtdb.firebaseio.com",projectId:"inventory-manager-3a6c5",storageBucket:"inventory-manager-3a6c5.firebasestorage.app",messagingSenderId:"781434446693",appId:"1:781434446693:web:f658434dab7be77e15b78c",measurementId:"G-GDPDJ4DFBF"}};function O6(n){return new q(3e3,!1)}function i0e(){return new q(3100,!1)}function r0e(){return new q(3101,!1)}function s0e(n){return new q(3001,!1)}function o0e(n){return new q(3003,!1)}function a0e(n){return new q(3004,!1)}function N6(n,e){return new q(3005,!1)}function F6(){return new q(3006,!1)}function V6(){return new q(3007,!1)}function B6(n,e){return new q(3008,!1)}function j6(n){return new q(3002,!1)}function $6(n,e,t,i,r){return new q(3010,!1)}function H6(){return new q(3011,!1)}function U6(){return new q(3012,!1)}function z6(){return new q(3200,!1)}function W6(){return new q(3202,!1)}function G6(){return new q(3013,!1)}function q6(n){return new q(3014,!1)}function Y6(n){return new q(3015,!1)}function X6(n){return new q(3016,!1)}function K6(n,e){return new q(3404,!1)}function l0e(n){return new q(3502,!1)}function Q6(n){return new q(3503,!1)}function Z6(){return new q(3300,!1)}function J6(n){return new q(3504,!1)}function eG(n){return new q(3301,!1)}function tG(n,e){return new q(3302,!1)}function nG(n){return new q(3303,!1)}function iG(n,e){return new q(3400,!1)}function rG(n){return new q(3401,!1)}function sG(n){return new q(3402,!1)}function oG(n,e){return new q(3505,!1)}function vo(n){switch(n.length){case 0:return new xs;case 1:return n[0];default:return new Gl(n)}}function _M(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((f,p)=>{let g=p,y=f;if(p!=="offset")switch(g=n.normalizePropertyName(g,r),y){case rd:y=t.get(p);break;case ir:y=i.get(p);break;default:y=n.normalizeStyleValue(p,g,y,r);break}h.set(g,y)}),u||s.push(h),a=h,o=c}),r.length)throw l0e(r);return s}function vb(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&mM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&mM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&mM(t,"destroy",n)));break}}function mM(n,e,t){let i=t.totalTime,r=!!t.disabled,s=xb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function xb(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ci(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function vM(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var c0e=typeof document>"u"?null:document.documentElement;function bb(n){let e=n.parentNode||n.host||null;return e===c0e?null:e}function u0e(n){return n.substring(1,6)=="ebkit"}var hc=null,L6=!1;function aG(n){hc||(hc=d0e()||{},L6=hc.style?"WebkitAppearance"in hc.style:!1);let e=!0;return hc.style&&!u0e(n)&&(e=n in hc.style,!e&&L6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hc.style)),e}function d0e(){return typeof document<"u"?document.body:null}function xM(n,e){for(;e;){if(e===n)return!0;e=bb(e)}return!1}function bM(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var h0e=1e3,wM="{{",f0e="}}",TM="ng-enter",wb="ng-leave",xm="ng-trigger",bm=".ng-trigger",CM="ng-animating",Tb=".ng-animating";function Ms(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gM(parseFloat(e[1]),e[2])}function gM(n,e){switch(e){case"s":return n*h0e;default:return n}}function wm(n,e,t){return n.hasOwnProperty("duration")?n:p0e(n,e,t)}function p0e(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(O6(n)),{duration:0,delay:0,easing:""};r=gM(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=gM(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(i0e()),a=!0),s<0&&(e.push(r0e()),a=!0),a&&e.splice(l,0,O6(n))}return{duration:r,delay:s,easing:o}}function lG(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function jr(n,e,t){e.forEach((i,r)=>{let s=Cb(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ha(n,e){e.forEach((t,i)=>{let r=Cb(i);n.style[r]=""})}function $d(n){return Array.isArray(n)?n.length==1?n[0]:oH(n):n}function cG(n,e,t){let i=e.params||{},r=SM(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(s0e(s))})}var yM=new RegExp(`${wM}\\s*(.+?)\\s*${f0e}`,"g");function SM(n){let e=[];if(typeof n=="string"){let t;for(;t=yM.exec(n);)e.push(t[1]);yM.lastIndex=0}return e}function Hd(n,e,t){let i=`${n}`,r=i.replace(yM,(s,o)=>{let a=e[o];return a==null&&(t.push(o0e(o)),a=""),a.toString()});return r==i?n:r}var m0e=/-+([a-z0-9])/g;function Cb(n){return n.replace(m0e,(...e)=>e[1].toUpperCase())}function uG(n,e){return n===0||e===0}function dG(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,Sb(n,a)))}}return e}function Si(n,e,t){switch(e.type){case Se.Trigger:return n.visitTrigger(e,t);case Se.State:return n.visitState(e,t);case Se.Transition:return n.visitTransition(e,t);case Se.Sequence:return n.visitSequence(e,t);case Se.Group:return n.visitGroup(e,t);case Se.Animate:return n.visitAnimate(e,t);case Se.Keyframes:return n.visitKeyframes(e,t);case Se.Style:return n.visitStyle(e,t);case Se.Reference:return n.visitReference(e,t);case Se.AnimateChild:return n.visitAnimateChild(e,t);case Se.AnimateRef:return n.visitAnimateRef(e,t);case Se.Query:return n.visitQuery(e,t);case Se.Stagger:return n.visitStagger(e,t);default:throw a0e(e.type)}}function Sb(n,e){return window.getComputedStyle(n)[e]}var HM=(()=>{class n{validateStyleProperty(t){return aG(t)}containsElement(t,i){return xM(t,i)}getParentElement(t){return bb(t)}query(t,i,r){return bM(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new xs(r,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),pc=class{static NOOP=new HM},mc=class{};var g0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),kb=class extends mc{normalizePropertyName(e,t){return Cb(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(g0e.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(N6(e,i))}return o+s}};var Mb="*";function y0e(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>_0e(i,t,e)):t.push(n),t}function _0e(n,e,t){if(n[0]==":"){let l=v0e(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(Y6(n)),e;let r=i[1],s=i[2],o=i[3];e.push(hG(r,o));let a=r==Mb&&o==Mb;s[0]=="<"&&!a&&e.push(hG(o,r))}function v0e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(X6(n)),"* => *"}}var Eb=new Set(["true","1"]),Ib=new Set(["false","0"]);function hG(n,e){let t=Eb.has(n)||Ib.has(n),i=Eb.has(e)||Ib.has(e);return(r,s)=>{let o=n==Mb||n==r,a=e==Mb||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?Eb.has(n):Ib.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?Eb.has(e):Ib.has(e)),o&&a}}var wG=":self",x0e=new RegExp(`s*${wG}s*,?`,"g");function TG(n,e,t,i){return new MM(n).build(e,t,i)}var fG="",MM=class{_driver;constructor(e){this._driver=e}build(e,t,i){let r=new PM(t);return this._resetContextStyleTimingState(r),Si(this,$d(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=fG,e.collectedStyles=new Map,e.collectedStyles.set(fG,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(F6()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Se.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Se.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(V6())}),{type:Se.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{SM(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(B6(e.name,[...s.values()]))}return{type:Se.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Si(this,$d(e.animation),t),r=y0e(e.expr,t.errors);return{type:Se.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:fc(e.options)}}visitSequence(e,t){return{type:Se.Sequence,steps:e.steps.map(i=>Si(this,i,t)),options:fc(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Si(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:Se.Group,steps:s,options:fc(e.options)}}visitAnimate(e,t){let i=C0e(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:ql({});if(s.type==Se.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=ql(c)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:Se.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ir?i.push(a):t.errors.push(j6(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(wM)>=0){s=!0;break}}}),{type:Se.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),h=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(t.errors.push($6(l,u.startTime,u.endTime,s,r)),h=!1),s=u.startTime),h&&c.set(l,{startTime:s,endTime:r}),t.options&&cG(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:Se.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(H6()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(I=>{let M=this._makeStyleAst(I,t),O=M.offset!=null?M.offset:T0e(M.styles),N=0;return O!=null&&(s++,N=M.offset=O),l=l||N<0||N>1,a=a||N<c,c=N,o.push(N),M});l&&t.errors.push(U6()),a&&t.errors.push(z6());let h=e.steps.length,f=0;s>0&&s<h?t.errors.push(W6()):s==0&&(f=r/(h-1));let p=h-1,g=t.currentTime,y=t.currentAnimateTimings,v=y.duration;return u.forEach((I,M)=>{let O=f>0?M==p?1:f*M:o[M],N=O*v;t.currentTime=g+y.delay+N,y.duration=N,this._validateStyleAst(I,t),I.offset=O,i.styles.push(I)}),i}visitReference(e,t){return{type:Se.Reference,animation:Si(this,$d(e.animation),t),options:fc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Se.AnimateChild,options:fc(e.options)}}visitAnimateRef(e,t){return{type:Se.AnimateRef,animation:this.visitReference(e.animation,t),options:fc(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=b0e(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ci(t.collectedStyles,t.currentQuerySelector,new Map);let a=Si(this,$d(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:Se.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:fc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(G6());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:wm(e.timings,t.errors,!0);return{type:Se.Stagger,animation:Si(this,$d(e.animation),t),timings:i,options:null}}};function b0e(n){let e=!!n.split(/\s*,\s*/).find(t=>t==wG);return e&&(n=n.replace(x0e,"")),n=n.replace(/@\*/g,bm).replace(/@\w+/g,t=>bm+"-"+t.slice(1)).replace(/:animating/g,Tb),[n,e]}function w0e(n){return n?U({},n):null}var PM=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function T0e(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function C0e(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=wm(n,e).duration;return EM(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=EM(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=wm(t,e);return EM(r.duration,r.delay,r.easing)}function fc(n){return n?(n=U({},n),n.params&&(n.params=w0e(n.params))):n={},n}function EM(n,e,t){return{duration:n,delay:e,easing:t}}function UM(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Cm=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},S0e=1,E0e=":enter",I0e=new RegExp(E0e,"g"),D0e=":leave",A0e=new RegExp(D0e,"g");function CG(n,e,t,i,r,s=new Map,o=new Map,a,l,c=[]){return new RM().buildKeyframes(n,e,t,i,r,s,o,a,l,c)}var RM=class{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Cm;let h=new OM(e,t,c,r,s,u,[]);h.options=l;let f=l.delay?Ms(l.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([o],null,h.errors,l),Si(this,i,h);let p=h.timelines.filter(g=>g.containsAnimation());if(p.length&&a.size){let g;for(let y=p.length-1;y>=0;y--){let v=p[y];if(v.element===t){g=v;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return p.length?p.map(g=>g.buildKeyframes()):[UM(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Ms(Hd(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Ms(i.duration):null,a=i.delay!=null?Ms(i.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Si(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==Se.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Pb);let o=Ms(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Si(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Ms(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Si(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Hd(i,t.params,t.errors):i;return wm(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==Se.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ms(r.delay):0;s&&(t.previousNode.type===Se.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Pb);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let h=t.createSubContext(e.options,c);s&&h.delayNextStep(s),c===t.element&&(l=h.currentTimeline),Si(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let f=h.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;Si(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}},Pb={},OM=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Pb;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new Rb(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ms(i.duration)),i.delay!=null&&(r.delay=Ms(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Hd(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Pb,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new LM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(I0e,"."+this._enterClassName),e=e.replace(A0e,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,e,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(q6(t)),a}},Rb=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=S0e,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ir),this._currentKeyframe.set(t,ir);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=k0e(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Hd(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ir),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===rd?e.add(h):u===ir&&t.add(h)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return UM(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},LM=class extends Rb{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",pG(a)),s.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let f=new Map(e[h]),p=f.get("offset"),g=t+p*i;f.set("offset",pG(g/o)),s.push(f)}i=o,t=0,r="",e=s}return UM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function pG(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function k0e(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,ir)}else for(let[s,o]of r)t.set(s,o)}),t}function mG(n,e,t,i,r,s,o,a,l,c,u,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:f}}var IM={},Ob=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return M0e(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,c,u){let h=[],f=this.ast.options&&this.ast.options.params||IM,p=a&&a.params||IM,g=this.buildStyles(i,p,h),y=l&&l.params||IM,v=this.buildStyles(r,y,h),I=new Set,M=new Map,O=new Map,N=r==="void",F={params:SG(y,f),delay:this.ast.options?.delay},B=u?[]:CG(e,t,this.ast.animation,s,o,g,v,F,c,h),D=0;return B.forEach(x=>{D=Math.max(x.duration+x.delay,D)}),h.length?mG(t,this._triggerName,i,r,N,g,v,[],[],M,O,D,h):(B.forEach(x=>{let T=x.element,k=Ci(M,T,new Set);x.preStyleProps.forEach(P=>k.add(P));let A=Ci(O,T,new Set);x.postStyleProps.forEach(P=>A.add(P)),T!==t&&I.add(T)}),mG(t,this._triggerName,i,r,N,g,v,B,[...I.values()],M,O,D))}};function M0e(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function SG(n,e){let t=U({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var NM=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=SG(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Hd(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function P0e(n,e,t){return new FM(n,e,t)}var FM=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new NM(r.style,s,i))}),gG(this.states,"true","1"),gG(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Ob(e,r,this.states))}),this.fallbackTransition=R0e(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function R0e(n,e,t){let i=[(o,a)=>!0],r={type:Se.Sequence,steps:[],options:null},s={type:Se.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Ob(n,s,e)}function gG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var O0e=new Cm,VM=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],r=[],s=TG(this._driver,t,i,r);if(i.length)throw Q6(i);this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=_M(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=CG(this._driver,t,s,TM,wb,new Map,new Map,i,O0e,r),o.forEach(u=>{let h=Ci(a,u.element,new Map);u.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(Z6()),o=[]),r.length)throw J6(r);a.forEach((u,h)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(h,p,ir))})});let l=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=vo(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw eG(e);return t}listen(e,t,i,r){let s=xb(t,"","","");return vb(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},yG="ng-animate-queued",L0e=".ng-animate-queued",DM="ng-animate-disabled",N0e=".ng-animate-disabled",F0e="ng-star-inserted",V0e=".ng-star-inserted",B0e=[],EG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},j0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$r="__ng_removed",Sm=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=H0e(r),i){let s=e,{value:o}=s,a=qP(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Tm="void",AM=new Sm(Tm),BM=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,ar(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw tG(i,t);if(i==null||i.length==0)throw nG(t);if(!U0e(i))throw iG(i,t);let s=Ci(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=Ci(this._engine.statesByElement,e,new Map);return a.has(t)||(ar(e,xm),ar(e,xm+"-"+t),a.set(t,AM)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw rG(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Em(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ar(e,xm),ar(e,xm+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Sm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=AM),!(c.value===Tm)&&l.value===c.value){if(!G0e(l.params,c.params)){let y=[],v=s.matchStyles(l.value,l.params,y),I=s.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{Ha(e,v),jr(e,I)})}return}let f=Ci(this._engine.playersByElement,e,[]);f.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=s.matchTransition(l.value,c.value,e,c.params),g=!1;if(!p){if(!r)return;p=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(ar(e,yG),o.onStart(()=>{Ud(e,yG)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);let v=this._engine.playersByElement.get(e);if(v){let I=v.indexOf(o);I>=0&&v.splice(I,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,bm,!0);i.forEach(r=>{if(r[$r])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Tm,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&vo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||AM,u=new Sm(Tm),h=new Em(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[$r];(!s||s===EG)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ar(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=xb(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,vb(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},jM=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new BM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Db(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Db(t))return;let s=t[$r];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ar(e,DM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ud(e,DM))}removeNode(e,t,i){if(Db(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[$r]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Db(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,bm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Tb,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vo(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[$r];if(t&&t.setForRemoval){if(e[$r]=EG,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(DM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,N0e,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ar(r,F0e)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?vo(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw sG(e)}_flushAnimations(e,t){let i=new Cm,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Y=>{u.add(Y);let K=this.driver.query(Y,L0e,!0);for(let ee=0;ee<K.length;ee++)u.add(K[ee])});let h=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=xG(f,this.collectedEnterElements),g=new Map,y=0;p.forEach((Y,K)=>{let ee=TM+y++;g.set(K,ee),Y.forEach(oe=>ar(oe,ee))});let v=[],I=new Set,M=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){let K=this.collectedLeaveElements[Y],ee=K[$r];ee&&ee.setForRemoval&&(v.push(K),I.add(K),ee.hasAnimation?this.driver.query(K,V0e,!0).forEach(oe=>I.add(oe)):M.add(K))}let O=new Map,N=xG(f,Array.from(I));N.forEach((Y,K)=>{let ee=wb+y++;O.set(K,ee),Y.forEach(oe=>ar(oe,ee))}),e.push(()=>{p.forEach((Y,K)=>{let ee=g.get(K);Y.forEach(oe=>Ud(oe,ee))}),N.forEach((Y,K)=>{let ee=O.get(K);Y.forEach(oe=>Ud(oe,ee))}),v.forEach(Y=>{this.processLeaveNode(Y)})});let F=[],B=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(t).forEach(ee=>{let oe=ee.player,nt=ee.element;if(F.push(oe),this.collectedEnterElements.length){let bt=nt[$r];if(bt&&bt.setForMove){if(bt.previousTriggersValues&&bt.previousTriggersValues.has(ee.triggerName)){let Ei=bt.previousTriggersValues.get(ee.triggerName),dn=this.statesByElement.get(ee.element);if(dn&&dn.has(ee.triggerName)){let Hi=dn.get(ee.triggerName);Hi.value=Ei,dn.set(ee.triggerName,Hi)}}oe.destroy();return}}let Bt=!h||!this.driver.containsElement(h,nt),et=O.get(nt),Ze=g.get(nt),je=this._buildInstruction(ee,i,Ze,et,Bt);if(je.errors&&je.errors.length){B.push(je);return}if(Bt){oe.onStart(()=>Ha(nt,je.fromStyles)),oe.onDestroy(()=>jr(nt,je.toStyles)),r.push(oe);return}if(ee.isFallbackTransition){oe.onStart(()=>Ha(nt,je.fromStyles)),oe.onDestroy(()=>jr(nt,je.toStyles)),r.push(oe);return}let kt=[];je.timelines.forEach(bt=>{bt.stretchStartingKeyframe=!0,this.disabledNodes.has(bt.element)||kt.push(bt)}),je.timelines=kt,i.append(nt,je.timelines);let Gn={instruction:je,player:oe,element:nt};o.push(Gn),je.queriedElements.forEach(bt=>Ci(a,bt,[]).push(oe)),je.preStyleProps.forEach((bt,Ei)=>{if(bt.size){let dn=l.get(Ei);dn||l.set(Ei,dn=new Set),bt.forEach((Hi,lr)=>dn.add(lr))}}),je.postStyleProps.forEach((bt,Ei)=>{let dn=c.get(Ei);dn||c.set(Ei,dn=new Set),bt.forEach((Hi,lr)=>dn.add(lr))})});if(B.length){let Y=[];B.forEach(K=>{Y.push(oG(K.triggerName,K.errors))}),F.forEach(K=>K.destroy()),this.reportError(Y)}let D=new Map,x=new Map;o.forEach(Y=>{let K=Y.element;i.has(K)&&(x.set(K,K),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,D))}),r.forEach(Y=>{let K=Y.element;this._getPreviousPlayers(K,!1,Y.namespaceId,Y.triggerName,null).forEach(oe=>{Ci(D,K,[]).push(oe),oe.destroy()})});let T=v.filter(Y=>bG(Y,l,c)),k=new Map;vG(k,this.driver,M,c,ir).forEach(Y=>{bG(Y,l,c)&&T.push(Y)});let P=new Map;p.forEach((Y,K)=>{vG(P,this.driver,new Set(Y),l,rd)}),T.forEach(Y=>{let K=k.get(Y),ee=P.get(Y);k.set(Y,new Map([...K?.entries()??[],...ee?.entries()??[]]))});let C=[],ue=[],_e={};o.forEach(Y=>{let{element:K,player:ee,instruction:oe}=Y;if(i.has(K)){if(u.has(K)){ee.onDestroy(()=>jr(K,oe.toStyles)),ee.disabled=!0,ee.overrideTotalTime(oe.totalTime),r.push(ee);return}let nt=_e;if(x.size>1){let et=K,Ze=[];for(;et=et.parentNode;){let je=x.get(et);if(je){nt=je;break}Ze.push(et)}Ze.forEach(je=>x.set(je,nt))}let Bt=this._buildAnimation(ee.namespaceId,oe,D,s,P,k);if(ee.setRealPlayer(Bt),nt===_e)C.push(ee);else{let et=this.playersByElement.get(nt);et&&et.length&&(ee.parentPlayer=vo(et)),r.push(ee)}}else Ha(K,oe.fromStyles),ee.onDestroy(()=>jr(K,oe.toStyles)),ue.push(ee),u.has(K)&&r.push(ee)}),ue.forEach(Y=>{let K=s.get(Y.element);if(K&&K.length){let ee=vo(K);Y.setRealPlayer(ee)}}),r.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<v.length;Y++){let K=v[Y],ee=K[$r];if(Ud(K,wb),ee&&ee.hasAnimation)continue;let oe=[];if(a.size){let Bt=a.get(K);Bt&&Bt.length&&oe.push(...Bt);let et=this.driver.query(K,Tb,!0);for(let Ze=0;Ze<et.length;Ze++){let je=a.get(et[Ze]);je&&je.length&&oe.push(...je)}}let nt=oe.filter(Bt=>!Bt.destroyed);nt.length?z0e(this,K,nt):this.processLeaveNode(K)}return v.length=0,C.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();let K=this.players.indexOf(Y);this.players.splice(K,1)}),Y.play()}),C}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Tm;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,u=c!==s,h=Ci(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(p=>{let g=p.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),p.destroy(),h.push(p)})}Ha(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,f=t.timelines.map(g=>{let y=g.element;u.add(y);let v=y[$r];if(v&&v.removedBeforeQueried)return new xs(g.duration,g.delay);let I=y!==l,M=W0e((i.get(y)||B0e).map(D=>D.getRealPlayer())).filter(D=>{let x=D;return x.element?x.element===y:!1}),O=s.get(y),N=o.get(y),F=_M(this._normalizer,g.keyframes,O,N),B=this._buildPlayer(g,F,M);if(g.subTimeline&&r&&h.add(y),I){let D=new Em(e,a,y);D.setRealPlayer(B),c.push(D)}return B});c.forEach(g=>{Ci(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>$0e(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>ar(g,CM));let p=vo(f);return p.onDestroy(()=>{u.forEach(g=>Ud(g,CM)),jr(l,t.toStyles)}),h.forEach(g=>{Ci(r,g,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new xs(e.duration,e.delay)}},Em=class{namespaceId;triggerName;element;_player=new xs;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>vb(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ci(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function $0e(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function H0e(n){return n??null}function Db(n){return n&&n.nodeType===1}function U0e(n){return n=="start"||n=="done"}function _G(n,e){let t=n.style.display;return n.style.display=e??"none",t}function vG(n,e,t,i,r){let s=[];t.forEach(l=>s.push(_G(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let f=e.computeStyle(c,h,r);u.set(h,f),(!f||f.length==0)&&(c[$r]=j0e,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>_G(l,s[a++])),o}function xG(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function ar(n,e){n.classList?.add(e)}function Ud(n,e){n.classList?.remove(e)}function z0e(n,e,t){vo(t).onDone(()=>n.processLeaveNode(e))}function W0e(n){let e=[];return IG(n,e),e}function IG(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Gl?IG(i.players,e):e.push(i)}}function G0e(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function bG(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var zd=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new jM(e.body,t,i),this._timelineEngine=new VM(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=TG(this._driver,s,l,c);if(l.length)throw K6(r,l);a=P0e(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=vM(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=vM(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function q0e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=kM(e[0]),e.length>1&&(i=kM(e[e.length-1]))):e instanceof Map&&(t=kM(e)),t||i?new Y0e(n,t,i):null}var Y0e=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&jr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jr(this._element,this._initialStyles),this._endStyles&&(jr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ha(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ha(this._element,this._endStyles),this._endStyles=null),jr(this._element,this._initialStyles),this._state=3)}}return n})();function kM(n){let e=null;return n.forEach((t,i)=>{X0e(i)&&(e=e||new Map,e.set(i,t))}),e}function X0e(n){return n==="display"||n==="position"}var Lb=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Sb(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Nb=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return xM(e,t)}getParentElement(e){return bb(e)}query(e,t,i){return bM(e,t,i)}computeStyle(e,t,i){return Sb(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(p=>p instanceof Lb);uG(i,r)&&u.forEach(p=>{p.currentSnapshot.forEach((g,y)=>c.set(y,g))});let h=lG(t).map(p=>new Map(p));h=dG(e,h,c);let f=q0e(e,h);return new Lb(e,h,l,f)}};var Ab="@",DG="@.disabled",Fb=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Ab&&t==DG?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,r){return this.delegate.listen(e,t,i,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},$M=class extends Fb{factory;constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Ab?t.charAt(1)=="."&&t==DG?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,r){if(t.charAt(0)==Ab){let s=K0e(e),o=t.slice(1),a="";return o.charAt(0)!=Ab&&([o,a]=Q0e(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(e,t,i,r)}};function K0e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Q0e(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Vb=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let h=()=>c.delete(r);u=new Fb(i,r,this.engine,h),c.set(r,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new $M(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var J0e=(()=>{class n extends zd{constructor(t,i,r){super(t,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(se(Zt),se(pc),se(mc))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function exe(){return new kb}function txe(n,e,t){return new Vb(n,e,t)}var kG=[{provide:mc,useFactory:exe},{provide:zd,useClass:J0e},{provide:Lo,useFactory:txe,deps:[Xh,zd,De]}],nxe=[{provide:pc,useClass:HM},{provide:CC,useValue:"NoopAnimations"},...kG],AG=[{provide:pc,useFactory:()=>new Nb},{provide:CC,useFactory:()=>"BrowserAnimations"},...kG],MG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?nxe:AG}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=He({type:n});static \u0275inj=$e({providers:AG,imports:[Qh]})}return n})();var Bb=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=He({type:n,bootstrap:[_b]});static \u0275inj=$e({providers:[hB(()=>W_(R6.firebaseConfig)),yj(()=>pv()),nH(()=>$A())],imports:[Qh,mb,N2,zU,F2,es,M6,MG]})};ES().bootstrapModule(Bb,{ngZoneEventCoalescing:!0}).catch(n=>console.error(n));
