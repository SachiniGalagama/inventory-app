<div class="filters">
  <label for="categoryFilter">
    Filter by category:
    <select id="categoryFilter" [(ngModel)]="categoryFilter" (change)="applyFilter()">
      <option value="">All</option>
      <option *ngFor="let cat of uniqueCategories" [value]="cat">{{ cat }}</option>
    </select>
  </label>

  <label for="sortBy">
    Sort by:
    <select id="sortBy" [(ngModel)]="sortBy" (change)="applyFilter()">
      <option value="daysLeft">Days Left</option>
      <option value="name">Name</option>
    </select>
  </label>
</div>

<table class="forecast-table" aria-label="Inventory Forecast">
  <thead>
    <tr>
      <th scope="col">Item Name</th>
      <!-- <th scope="col">Category</th> -->
      <th scope="col">Stock</th>
      <!-- <th scope="col">Avg Daily Consumption</th> -->
      <th scope="col">Days Left</th>
      <th scope="col">Risk Level</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of filtered" [ngClass]="item.risk.toLowerCase()">
      <td>{{ item.name }}</td>
      <!-- <td>{{ item.category }}</td> -->
      <td>{{ item.stock }}</td>
      <!-- <td>{{ item.avgDailyConsumption != null ? (item.avgDailyConsumption | number: "1.1-1") : 'N/A' }}
</td> -->
      <td>{{ item.estimatedDaysLeft ?? 'Unknown' }}</td>
      <td class="risk-level">{{ item.risk }}</td>
    </tr>
  </tbody>
</table>
